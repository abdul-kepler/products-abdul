Summary,Issue key,Issue id,Issue Type,Status,Project key,Project name,Project type,Project lead,Project lead id,Project description,Priority,Resolution,Assignee,Assignee Id,Reporter,Reporter Id,Creator,Creator Id,Created,Updated,Last Viewed,Resolved,Affects versions,Fix versions,Due date,Votes,Labels,Labels,Description,Environment,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers Id,Watchers Id,Watchers Id,Watchers Id,Watchers Id,Log Work,Log Work,Log Work,Log Work,Log Work,Log Work,Log Work,Log Work,Log Work,Log Work,Original estimate,Remaining Estimate,Time Spent,Work Ratio,Î£ Original Estimate,Î£ Remaining Estimate,Î£ Time Spent,Security Level,Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Inward issue link (Cloners),Inward issue link (Cloners),Outward issue link (Cloners),Inward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Custom field (Actual end),Custom field (Actual start),Custom field (Approvals),Custom field (Atlassian project),Custom field (Atlassian project status),Custom field (Category),Custom field (Change reason),Custom field (Change risk),Custom field (Change type),Custom field (Comments),Custom field (Delivery progress),Custom field (Delivery status),Custom field (Development),Custom field (Epic Color),Custom field (Epic Name),Custom field (Epic Status),Custom field (Focus Areas),Custom field (Goals),Custom field (Idea archived),Custom field (Idea archived on),Custom field (Impact),Custom field (Insights),Custom field (Issue color),Custom field (Linked issues),Custom field (Locked forms),Custom field (Open forms),Custom field (Project overview key),Custom field (Project overview status),Custom field (QA required?),Custom field (Rank),Custom field (Request Type),Custom field (Request participants),Custom field (Sentiment),Sprint,Sprint,Sprint,Custom field (Start date),Custom field (Story Points),Custom field (Story point estimate),Custom field (Submitted forms),Custom field (Target end),Custom field (Target start),Team Id,Team Name,Custom field (Total forms),Custom field (Vulnerability),Custom field (Work type),Custom field ([CHART] Date of First Response),Custom field ([CHART] Time in Status),Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Parent,Parent key,Parent summary,Status Category,Status Category Changed
"[BUG] Portal - ""KWs Automation"" Page",PROD-2852,26223,Bug,In Progress,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Jan/26 7:40 AM,15/Jan/26 4:19 AM,13/Jan/26 3:40 AM,,, [Advertising] [v2] -[February 1st Release],,0,,,"[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] 

The row # 1 marked in the below attachment does not exist in the source file so this row/value has to be removed. If this error exist across other accounts then this shall be removed from other accounts as well.

!image-20260112-154120.png|width=1092,alt=""image-20260112-154120.png""!

As can be seen in the source file below, ROW # 1 should be â€œ44MPâ€

!image-20260112-154503.png|width=1062,alt=""image-20260112-154503.png""!",,abdul,Kateryna Davidenko,Pavlo Lisovets,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:aff451dd-dd5b-4c4b-8d72-d72ba00e7042,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,Hubstaff project: PORTAL/SAAS;13/Jan/26 2:43 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;900,,,,,,,,,,7200,6300,900,12%,7200,6300,900,,,,,,,,,,,,,,,,,,12/Jan/26 7:46 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20260112-154120.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/17287,12/Jan/26 7:46 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20260112-154503.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/17286,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@709804f4,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00mhn:,,,,,,,,,,,,,,,,,,2026-01-12 16:46:56.723,,"12/Jan/26 8:46 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] [~accountid:712020:aff451dd-dd5b-4c4b-8d72-d72ba00e7042] Could you please suggest what might be the reason for this error in the prompt for tab #3, namely this part:
ğŸš€ *NEW RULE â€” SUBSET-BASED MAPPING ROW INSERTION*
If any keyword subset (â‰¥1 keywords) shares _DimensionValue(s)_ beyond the base ProductType mapping,
then:

# *Create a new mapping row* representing the more specific combination of:

* ProductType + all matched DimensionTypes and DimensionValues.

# *Insert this new row* _immediately above_ the Product-Typeâ€™s base row in the Mapping Table.
# *Resequence InitialRow numbers only within that Product Type block* to preserve correct ordering.","13/Jan/26 3:41 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:aff451dd-dd5b-4c4b-8d72-d72ba00e7042] The new mapping row does not match with the kws it contains, prompt issue maybe","13/Jan/26 9:11 AM;712020:aff451dd-dd5b-4c4b-8d72-d72ba00e7042;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] â€œsource fileâ€ - is it the file you provided to Pavel for manual upload? or what is that file for?
Whatâ€™s the related ticket to this (if any)?
Pavel showed the piece of prompt that  *Creates a new mapping row,* so if mapping table is generated by system then this comes from prompt output
(the system use Old version of prompt) the 16 modules are still on the under Evaluation",,,,,,,,14631,PROD-9,ADS: Miscellaneous,In Progress,12/Jan/26 7:46 AM
[BUG] Portal - Bid Strategy Logs | Active Targets Not Appearing in Search Results Despite Being Live on Amazon,PROD-2666,25566,Sub-task,Engineering review,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,07/Jan/26 12:14 PM,15/Jan/26 4:14 AM,,,, [Advertising] [v2] -[February 1st Release],26/Jan/26 12:00 AM,0,,,"h1. Problem / Context

Certain targets within campaigns do not appear in the Bid Strategy Logs search results, despite being:

* Live and active on Amazon
* Visible in Keyword Config with bid values
* Successfully synced to Amazon (confirmed by last sync date and bid sent)

This prevents users from investigating bid strategy behavior for affected keywords/targets.

*Affected Page:* [Bid Strategy Logs UI|https://portal.keplercommerce.com/amazon-ads/bid-strategy-logs]

----

h2. Bug Behavior

*Steps to Reproduce:*

# Navigate to Bid Strategy Logs page
# Search for a specific campaign or target (examples provided below)
# Observe: No results returned
# Cross-check in Keyword Config â†’ Target exists with bid value and sync data
# Cross-check in Amazon Seller Central â†’ Target is live and active

*Expected:* Bid Strategy Logs shows history for all synced, active targets
*Actual:* Some targets return no results despite being live and synced

----

h2. Example Cases

_(Specific campaign/target examples to be added by reporter)_

||Campaign||Target||Status in KW Config||Status on Amazon||Status in Bid Strategy Logs||
|NBH4-SPKW-SG01-XX-S-B07B1P2J3C-E-KW|dog caskets|Active, bid set|Live|âŒ No results|
| | | | | |

----

h2. Attachments Needed

*ğŸ“ ATTACHMENT 1 - Bid Strategy Logs (Portal):* Screenshot showing the search query returning no results for the affected target/campaign. 

Both filters â€œKWâ€ and â€œCampaignâ€ were checked against â€œEqualâ€ and â€œContainsâ€ but still not result populated.

Example # 1

!image-20260107-201922.png|width=1062,alt=""image-20260107-201922.png""!

*ğŸ“ ATTACHMENT 2 - Amazon Seller Central:*
Screenshot showing the same target/campaign is live and active on Amazon.

Example # 1: [https://advertising.amazon.com/cm/sp/campaigns/A09741232HW7J3FY13LBD/ad-groups/A03882022CBAWYJT9AZK1/targeting?entityId=ENTITY1VH7R7PXS8OU8|https://advertising.amazon.com/cm/sp/campaigns/A09741232HW7J3FY13LBD/ad-groups/A03882022CBAWYJT9AZK1/targeting?entityId=ENTITY1VH7R7PXS8OU8] 

!image-20260107-202227.png|width=1062,alt=""image-20260107-202227.png""!

*ğŸ“ ATTACHMENT 3 - Keyword Config (Portal):*
Screenshot showing the target exists with:

Example # 1: 

!image-20260107-202514.png|width=1062,alt=""image-20260107-202514.png""!



----

h2. Scope of Issue

The examples provided are representative cases. The root cause likely affects other keywords/targets across the system. Investigation should identify why certain records are missing from Bid Strategy Logs and fix the underlying issue rather than just the specific examples.

----

h1. Solution Outline

*Possible Root Causes to Investigate:*

# Bid Strategy Logs table not being populated for certain target types
# Data pipeline issue - some bid events not being logged
# Search/filter logic excluding certain records incorrectly
# Sync between Keyword Config data and Bid Strategy Logs data out of sync

*Requirements:*

* All active, synced targets must appear in Bid Strategy Logs
* Historical bid strategy data should be queryable for any target visible in Keyword Config
* Identify and backfill any missing records if applicable

----

h1. Connected Work Items

â¡ï¸ *Check linked work items section in Jira*

âœ… No dependencies - this is a standalone bug fix.

----

h1. Acceptance Criteria

* [ ] Affected example targets now appear in Bid Strategy Logs search
* [ ] Root cause identified and documented
* [ ] Fix applied to prevent future missing records
* [ ] All targets visible in Keyword Config are queryable in Bid Strategy Logs
* [ ] Missing historical data backfilled (if applicable and feasible)
* [ ] Unit/integration tests passed
* [ ] Code reviewed and merged

cc: [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] ",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,07/Jan/26 12:29 PM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20260107-201922.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/17107,07/Jan/26 12:29 PM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20260107-202227.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/17106,07/Jan/26 12:29 PM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20260107-202514.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/17105,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@20629692,,,,,,,,,,,,,,,,,,,,,,,,,,,0|hzzzw6:3zz,,,,S16: Jan 12 - Jan 25,,,12/Jan/26 12:00 AM,,,,,,,,,,,,,,,,,,,,,,,25560,PROD-2663,"[BUG] Portal - ""Bid Strategy Logs"" Page",In Progress,07/Jan/26 12:15 PM
[BUG] Portal - Bid Strategy Logs | Export Downloads Only ~Incomplete Records Instead of Full Result Set,PROD-2665,25564,Sub-task,Engineering review,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,07/Jan/26 12:00 PM,15/Jan/26 4:14 AM,,,, [Advertising] [v2] -[February 1st Release],26/Jan/26 12:00 AM,0,,,"h1. Problem / Context

When exporting data from the Bid Strategy Logs page, the downloaded file contains incomplete records instead of the full result set displayed in the UI.

*Affected Page:* [Bid Strategy Logs UI|https://portal.keplercommerce.com/amazon-ads/bid-strategy-logs]

----

h2. Bug Behavior

*Steps to Reproduce:*

# Navigate to Bid Strategy Logs page
# Apply filters (if any) - results show ~1,100 records
# Pagination shows 100 rows per page with ~10-11 pages to navigate
# Click ""Download"" button (top-right)
# Open downloaded Excel file
# Observe: File contains only ~10 records instead of expected ~1,100

*Expected:* Export contains all ~1,100 filtered records
*Actual:* Export contains only ~10 records

----

h2. Attachments Needed

*ğŸ“ ATTACHMENT 1 - Screenshot of UI before export:*

Example # 1: [https://portal.keplercommerce.com/amazon-ads/bid-strategy-logs?keyword__keyword=dog+caskets|https://portal.keplercommerce.com/amazon-ads/bid-strategy-logs?keyword__keyword=dog+caskets] 

* !image-20260107-200451.png|width=1038,alt=""image-20260107-200451.png""!

Example # 2: [https://portal.keplercommerce.com/amazon-ads/bid-strategy-logs?keyword__keyword=dog+caskets&keyword__campaign__name=GLSP+[AISG01Z002]E-+Pet+Casket|https://portal.keplercommerce.com/amazon-ads/bid-strategy-logs?keyword__keyword=dog+caskets&keyword__campaign__name=GLSP+%5BAISG01Z002%5DE-+Pet+Casket] 

!image-20260107-200733.png|width=1062,alt=""image-20260107-200733.png""!





*ğŸ“ ATTACHMENT 2 - Downloaded Excel file:*

* Example # 1: The actual export file showing only ~10 records

!image-20260107-200551.png|width=1062,alt=""image-20260107-200551.png""!

* Example # \2: The actual export file showing only ~1 record

!image-20260107-200835.png|width=1062,alt=""image-20260107-200835.png""!



----

h2. Related Issues

Checked *â€œLinked Work Itemsâ€ section*

----

h1. Solution Outline

The export function must respect the full filtered result set, not the UI display limit.

*Requirements:*

* Export should query ALL records matching the current filter criteria
* Export should NOT be limited by the pagination/rows-per-page setting
* Downloaded file should contain the same record count as shown in ""X of Y"" total

*Debugging Steps:*

# Check what parameters are passed to the export API endpoint
# Verify if export uses a separate {{limit}} parameter or inherits from pagination state
# If export has its own limit, ensure it's set high enough or removed for full export

----

h1. Acceptance Criteria

* [ ] Export with 1,100 filtered results â†’ downloaded file contains 1,100 records
* [ ] Export with 10,000+ results â†’ downloaded file contains all records
* [ ] Export record count matches the total shown in pagination (""X of Y"")
* [ ] All columns are included in export
* [ ] Export works correctly regardless of current rows-per-page selection
* [ ] Unit/integration tests passed
* [ ] Code reviewed and merged

cc: [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] [^Example-2.csv] [^Example-1.csv] ",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,PROD-2664,,,,07/Jan/26 12:10 PM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;Example-1.csv;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/17101,07/Jan/26 12:10 PM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;Example-2.csv;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/17104,07/Jan/26 12:10 PM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20260107-200451.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/17103,07/Jan/26 12:10 PM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20260107-200551.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/17099,07/Jan/26 12:10 PM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20260107-200733.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/17100,07/Jan/26 12:10 PM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20260107-200835.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/17102,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@7fc5c790,,,,,,,,,,,,,,,,,,,,,,,,,,,0|hzzzw6:3zy,,,,S16: Jan 12 - Jan 25,,,12/Jan/26 12:00 AM,,,,,,,,,,,,,,,,,,,,,,,25560,PROD-2663,"[BUG] Portal - ""Bid Strategy Logs"" Page",In Progress,07/Jan/26 12:01 PM
[BUG] Portal - Bid Strategy Logs | Rows Per Page Selector Not Applying Selected Value,PROD-2664,25562,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,07/Jan/26 11:56 AM,15/Jan/26 4:14 AM,,09/Jan/26 1:47 AM,, [Advertising] [v2] -[February 1st Release],26/Jan/26 12:00 AM,0,,,"h1. Problem / Context

Users on the Bid Strategy Logs page cannot change the number of rows displayed per page. The ""Items per page"" dropdown selector shows options (10, 20, 50, 100, 200) but the table always renders only 20 rows regardless of user selection.

*Affected Page:* [Bid Strategy Logs UI|https://portal.keplercommerce.com/amazon-ads/bid-strategy-logs]

*Total Records:* 406,807 records (as shown in pagination info)

----

h2. Bug Behavior

*Steps to Reproduce:*

# Navigate to Bid Strategy Logs page
# Locate the ""Items per page"" dropdown (bottom-right of table)
# Select ""100"" from dropdown
# Observe: Pagination info shows ""1-100 of 406807"" but table displays only 20 rows
# Click ""Next Page"" (page 2)
# Observe: Pagination info shows ""101-200 of 406807"" but table again displays only 20 rows

*What's Happening:*

* The pagination *offset calculation is correct* (page 2 correctly starts at record 101)
* But the *table render is stuck at 20 rows* regardless of selection
* Result: On every page, only the first 20 records of the selected range are displayed

*Impact per page (when 100 rows selected):*

||Page||Pagination Shows||Actually Displayed||Missing/Inaccessible||
|1|1-100|Rows 1-20|Rows 21-100 (80 records)|
|2|101-200|Rows 101-120|Rows 121-200 (80 records)|
|3|201-300|Rows 201-220|Rows 221-300 (80 records)|
|...|...|...|...|

*Total Data Loss:*

* With 100 rows selected: *80 records inaccessible per page* (80% of each page's data)
* With 200 rows selected: *180 records inaccessible per page* (90% of each page's data)
* Users cannot access a significant portion of bid log data

----

h2. Screenshots

*Screenshot 1:* Dropdown shows ""100"" selected, but only ~20 rows visible in table 

!image-20260107-194940.png|width=1062,alt=""image-20260107-194940.png""!

*Screenshot 2:* Pagination shows ""101-200 of 1110"" but table displays only ~20 rows from 101-120; circled area shows

*  the Items per page selector 
* No more Provision for scrolling down
* We searched with a KW instead of the blank list to reduce the load but still the problem persists.

!image-20260107-195027.png|width=1062,alt=""image-20260107-195027.png""!



----

h1. Solution Outline

The table render must respect the selected rows-per-page value. Currently:

* âœ… Pagination offset calculation works correctly
* âŒ Table render ignores selection and always shows ~20 rows

*Requirements:*

* Table component must re-render with the correct number of rows matching user selection
* API request must include correct {{limit}} / {{page_size}} parameter matching user selection (verify this is happening)
* If API returns correct data but table truncates display, fix the table render logic
* If API returns only 20 records despite larger limit requested, fix the API parameter passing

----

h1. Connected Work Items

Checked *â€œLinked Work Itemsâ€ section*

âœ… This is a standalone bug fix.

----

h1. Implementation Notes

*Affected UI:* Bid Strategy Logs page table pagination component

*Debugging Steps:*

# Check browser Network tab - is the API being called with correct {{limit}} parameter?
# If API returns correct record count but table shows 20, issue is in table render
# If API returns only 20 records, issue is in API parameter passing

*Key Considerations:*

* Verify pagination state is correctly passed to both API call and table render
* Check if table component has a hardcoded or separate row limit
* Test with all row count options: 10, 20, 50, 100, 200

*Other UIs to Check:* This pagination component may be shared across multiple Advertising UIs:

* KW Config, ST Config, Campaign Config
* Research List, ASIN Config, Campaigns
* ST Records, Targeting Records
* ST Dashboard, Targeting Dashboard, SP Deep Dive
* Change Logs

----

h1. Out of Scope

* Adding new pagination options beyond current 10/20/50/100/200
* Infinite scroll implementation
* Pagination style or visual redesign

----

h1. Acceptance Criteria

* [ ] User selects 10 rows per page â†’ table displays 10 rows
* [ ] User selects 50 rows per page â†’ table displays 50 rows
* [ ] User selects 100 rows per page â†’ table displays 100 rows
* [ ] User selects 200 rows per page â†’ table displays 200 rows
* [ ] All records within each page range are visible (no missing rows within a page)
* [ ] Pagination info matches actual displayed row count
* [ ] All 406,807 records are accessible through pagination (no data loss)
* [ ] Bug verified as not present on other shared pagination UIs (or separate tickets created)
* [ ] Unit/integration tests passed
* [ ] Code reviewed and merged



cc: [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] ",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,PROD-2665,,,07/Jan/26 11:57 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20260107-194940.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/17098,07/Jan/26 11:57 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20260107-195027.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/17097,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@1381fc86,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i007ol:,,,,S16: Jan 12 - Jan 25,,,12/Jan/26 12:00 AM,,,,,,,,,,,,10563_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_359870,,,,,,,,,,,25560,PROD-2663,"[BUG] Portal - ""Bid Strategy Logs"" Page",Done,09/Jan/26 1:47 AM
"[BUG] Portal - ""Bid Strategy Logs"" Page",PROD-2663,25560,Bug,Engineering review,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,07/Jan/26 11:10 AM,09/Jan/26 9:01 AM,,,, [Advertising] [v2] -[February 1st Release],26/Jan/26 12:00 AM,0,Advertising,,[https://portal.keplercommerce.com/amazon-ads/bid-strategy-logs|https://portal.keplercommerce.com/amazon-ads/bid-strategy-logs|smart-link] ,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,0,0,,,0,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5c43de99,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|hzzzw6:3zx,,,,S16: Jan 12 - Jan 25,,,12/Jan/26 12:00 AM,,,,,,,,,,,,,,,,,,,,,,,14631,PROD-9,ADS: Miscellaneous,In Progress,07/Jan/26 11:10 AM
Upload KW Research Tab # 1 & Tab # 2 data for 7 ASINs via Backend,PROD-2637,25306,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Highest,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,06/Jan/26 5:51 AM,15/Jan/26 4:19 AM,09/Jan/26 5:03 AM,08/Jan/26 2:03 AM,, [Advertising] [v2] -[February 1st Release],,0,Advertising,,"7 ASINs:

*B07Y53NHB7*

*B0DJR5SWD7*

*B0FHH693Z4*

*B09L3NLDZ5*

*B0BCPJLFH3*

*B0DCVMP5NV*

*B0FGD6R7T2*



[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] 

h2. Tab # 1

!image-20260106-140210.png|width=1092,alt=""image-20260106-140210.png""!



[https://docs.google.com/spreadsheets/d/1GSJiWb4te0JtIEuYYNYECpz0J28yzPImUa7XOrS074s/edit?gid=1209080885#gid=1209080885|https://docs.google.com/spreadsheets/d/1GSJiWb4te0JtIEuYYNYECpz0J28yzPImUa7XOrS074s/edit?gid=1209080885#gid=1209080885|smart-link] This file contains 7 tabs, 1 for each ASIN. Can you please upload for each ASIN, its Branding Scope (column F) and Relationship (Column G) from Backend and submit. Existing Branding Scope and Relationship that appears on the portal should be replaced with the values in col F and col G of the file.



h2. Tab # 2

!image-20260106-140446.png|width=1062,alt=""image-20260106-140446.png""!

[https://docs.google.com/spreadsheets/d/1RIFNT_FKAWGRqKzi_L11gKnoiQLxM7EPUwEPzBphnug/edit?usp=sharing|https://docs.google.com/spreadsheets/d/1RIFNT_FKAWGRqKzi_L11gKnoiQLxM7EPUwEPzBphnug/edit?usp=sharing|smart-link]  This file contains 7 tabs, 1 for each ASIN. Can you please upload for each ASIN, its Attribute table from Backend and submit. Just replace the 4 columns on the portal with the 4 columns on the sheet. 

Each tab contain 2 tables, consider the 2nd table i.e. table on the right

!image-20260106-140718.png|width=1062,alt=""image-20260106-140718.png""!



Once these are done, we should be able to see Tab # 3 and weâ€™ll submit tab # 3 ourself but tab # 1 and tab # 2 should be submitted by you and should get locked.",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,Hubstaff project: PORTAL/SAAS;07/Jan/26 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;13560,,,,,,,,,,14400,840,13560,94%,14400,840,13560,,,,,,,,,,,,,,,,,,06/Jan/26 6:08 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20260106-140210.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/16998,06/Jan/26 6:08 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20260106-140446.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/16996,06/Jan/26 6:08 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20260106-140718.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/16997,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@161adb53,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00l3f:,,,,,,,,,,,,,,,,,,2026-01-07 07:48:15.385,3_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_3268865_*|*_10003_*:*_1_*:*_1225822,"06/Jan/26 11:48 PM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] 

Done:

* B09L3NLDZ5 - PuroSentido
* B0DJR5SWD7 - VYNCS-US
* B0FHH693Z4 - honiitaa
* B07Y53NHB7 - orealtrend
* B0DCVMP5NV - Fingal

Not completed:

* B0BCPJLFH3 - Badiya, unknown seller
* B0FGD6R7T2 - RoadNow, this ASIN is not present in the ASIN config",,,,,,,,,,17673,PROD-1474,Upload KW Research Tab # 1 & Tab # 2 data for 7 ASINs via Backend,Done,08/Jan/26 2:03 AM
Implement Semantic Relevancy Score Computation for ASIN-Keyword Pairs using Embedding Cosine Similarity (Part of IS Prerequisite # 1),PROD-2342,23306,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,18/Dec/25 10:18 AM,15/Jan/26 4:19 AM,,08/Jan/26 9:49 AM,, [Advertising] [v2] -[February 1st Release],12/Jan/26 12:00 AM,0,,,"h1. Problem / Context

Tag-based relevancy and Jungle Scout relevancy are heuristics that may not capture true semantic fit between a product and keyword. A keyword like ""metal thermos flask"" might be highly relevant to ""Stainless Steel Insulated Water Bottle"" but score poorly on tag-based logic.

Semantic similarity using embeddings can understand meaning â€” capturing synonyms, related concepts, and contextual fit that rule-based approaches miss.

This ticket computes and stores semantic relevancy for each ASIN-keyword pair, making it available for the Relevancy Score calculation in impression share estimation (PROD-2232).

h1. Solution Outline

*Approach:* Embedding + Cosine Similarity

{noformat}1. Embed product listing (title + bullets + description) â†’ Vector A
2. Embed keyword â†’ Vector B
3. Cosine Similarity = (A Â· B) / (||A|| Ã— ||B||)
4. Normalize to 0-100 â†’ Semantic_Relevancy_Score{noformat}

*Embedding Model:* {{all-MiniLM-L6-v2}} (open source, fast, 384 dimensions)

----

*Data Flow:*

{noformat}â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Product Listing â”‚     â”‚    Keyword      â”‚
â”‚ (title+bullets) â”‚     â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚
         â–¼                       â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Embed    â”‚           â”‚  Embed    â”‚
   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚
         â–¼                       â–¼
      Vector A               Vector B
         â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â–¼
              Cosine Similarity
                     â”‚
                     â–¼
         Semantic_Relevancy_Score (0-100)
                     â”‚
                     â–¼
              Store in DB{noformat}

----

*Storage Schema:*

||Column||Type||Description||
|asin|VARCHAR|Product ASIN|
|keyword|VARCHAR|Target keyword|
|semantic_relevancy_score|DECIMAL(5,2)|0-100 score|
|listing_embedding_version|VARCHAR|Model version used|
|computed_at|TIMESTAMP|When calculated|

*Unique key:* (asin, keyword)

----

*Batch Processing:*

||Step||Description||Frequency||
|# Embed all product listings|~150K products across 3K accounts|Weekly or on listing change|
|# Embed keywords on-demand|When new keywords added to campaigns|Real-time or nightly|
|# Compute cosine similarity|For each ASIN-keyword pair|Nightly batch|
|# Store results|Upsert to DB|After computation|

----

*Performance Estimates:*

||Metric||Estimate||
|Embedding speed|~100/sec on CPU|
|Product embeddings (150K)|~25 min one-time|
|Keyword embeddings (500K)|~1.5 hrs one-time|
|Cosine similarity computation|Very fast (vectorized)|
|Storage per pair|~50 bytes|

h1. Connected Work Items

Check ""*Linked work Items*"" section.

h1. Implementation Notes

*Model hosting options:*

||Option||Pros||Cons||
|Self-hosted (Python service)|Free, fast, no API limits|Need to manage infra|
|AWS SageMaker endpoint|Managed, scalable|Cost|
|Run in existing batch jobs|Simple integration|Tied to batch schedule|

*Recommendation:* Start with batch job in existing Python infra, evaluate SageMaker if scale demands.

*Listing text preparation:*

{code:python}listing_text = f""{title}. {' '.join(bullet_points)}. {description}""
# Truncate to 512 tokens if needed (model limit){code}

*Example code:*

{code:python}from sentence_transformers import SentenceTransformer
from sklearn.metrics.pairwise import cosine_similarity

model = SentenceTransformer('all-MiniLM-L6-v2')

# Product listing
listing = ""Stainless Steel Insulated Water Bottle 32oz, Keeps Drinks Cold 24hrs, BPA Free""

# Keyword
keyword = ""metal thermos flask""

# Generate embeddings
listing_embedding = model.encode(listing)
keyword_embedding = model.encode(keyword)

# Cosine similarity
similarity = cosine_similarity([listing_embedding], [keyword_embedding])[0][0]

# Convert to 0-100
semantic_score = max(0, similarity) * 100  # Result: ~78{code}

*Edge cases:*

* Missing listing data â†’ Skip, return NULL score
* Very short keywords (1 word) â†’ Still works, but lower confidence
* Non-English keywords â†’ Model handles reasonably, but less accurate

h1. Out of Scope

* Fine-tuning embedding model on our data (Phase 3)
* Real-time embedding computation (batch only for now)
* Multi-language optimization
* Integration into Relevancy Score formula (separate ticket PROD-2232)

h1. Acceptance Criteria

* [ ] Product listings embedded using {{all-MiniLM-L6-v2}} model
* [ ] Keywords embedded using same model
* [ ] Cosine similarity computed for each ASIN-keyword pair
* [ ] Score normalized to 0-100 range
* [ ] Results stored in DB with schema above
* [ ] Batch job runs nightly (or configurable schedule)
* [ ] Handles missing/incomplete listing data gracefully
* [ ] Embedding model version tracked for reproducibility

cc: [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] ",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Hubstaff project: PORTAL/SAAS;07/Jan/26 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;1380,Hubstaff project: PORTAL/SAAS;07/Jan/26 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;2940,Hubstaff project: PORTAL/SAAS;07/Jan/26 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;7500,Hubstaff project: PORTAL/SAAS;08/Jan/26 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;5700,,,,,,,28800,11280,17520,60%,28800,11280,17520,,,,,,PROD-2232,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@303f6af0,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00ihv:,,,,S15: Dec 29 - Jan 11,,,29/Dec/25 12:00 AM,,,,,,,,,,,,10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_844534285_*|*_10003_*:*_2_*:*_761903027,18/Dec/25 10:24 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] This ticketâ€™s now ready for review.,,,,,,,,,,17712,PROD-1494,Implement Ad Spend & Ad Sales Projection Engine for KW Groups,Done,06/Jan/26 12:32 AM
Missing Tags on some KWs,PROD-2341,23271,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,18/Dec/25 4:51 AM,15/Jan/26 4:19 AM,,28/Dec/25 11:57 PM,, [Advertising] [v2] -[February 1st Release],29/Dec/25 12:00 AM,0,,,"[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] 
[https://docs.google.com/spreadsheets/d/1GSJiWb4te0JtIEuYYNYECpz0J28yzPImUa7XOrS074s/edit?gid=412732197#gid=412732197&range=A1|https://docs.google.com/spreadsheets/d/1GSJiWb4te0JtIEuYYNYECpz0J28yzPImUa7XOrS074s/edit?gid=412732197#gid=412732197&range=A1|smart-link] 
300 KWs are missing tags here. Check column D which reflect portal downloaded results

cc: [~accountid:712020:71ab41ca-ab04-43cc-a8a5-0717cbf56b68] [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] [~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] ",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,,,,,,,,,,,10800,10800,,0%,10800,10800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@51ca673,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00hcm:zur,,,,S14: Dec 15- Dec 28,,,15/Dec/25 12:00 AM,,,,,,,,,,,2025-12-18 15:32:13.778,10563_*:*_1_*:*_3002538_*|*_10003_*:*_2_*:*_32490,18/Dec/25 7:32 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[https://github.com/KeplerCommerce/portal/pull/473|https://github.com/KeplerCommerce/portal/pull/473|smart-link] ,,,,,,,,,,17654,PROD-1464,Automated KW Research - Bugs Fixes # 1,Done,28/Dec/25 11:57 PM
Use Existing CVR Model to estimate the CVR,PROD-2340,23237,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,18/Dec/25 3:27 AM,15/Jan/26 4:19 AM,,08/Jan/26 9:49 AM,, [Advertising] [v2] -[February 1st Release],12/Jan/26 12:00 AM,0,,,"h2. Problem / Context

The projection pipeline requires a CVR estimate per keyword/tag. Rather than building a new CVR model, we reuse the existing CVR values from the bid optimization logic, which are already computed and available per targeting type.

This ticket documents the CVR sourcing approach and ensures the projection pipeline has clear integration with existing bid optimization data.

h2. Solution Outline

*CVR Source:*

The CVR estimate for projections comes from the *existing bid optimization logic*, which calculates CVR at the targeting type level:

||Targeting Type||CVR Source||
|Keyword - Exact|Bid optimization CVR for Exact match|
|Keyword - Phrase|Bid optimization CVR for Phrase match|
|Keyword - Broad|Bid optimization CVR for Broad match|
|Auto|Bid optimization CVR for Auto campaigns|
|Product Targeting|Bid optimization CVR for Product targeting|

*Why reuse existing CVR:*

* Already computed and validated in production bid optimization
* Uses historical performance data per targeting type
* Consistent with how bids are currently optimized
* No additional model development required for Phase 1

----

*Integration:*

{noformat}For each keyword/tag:
  1. Identify targeting_type (Exact, Phrase, Broad, Auto, Product)
  2. Look up CVR from bid optimization data for that targeting_type
  3. Use CVR_estimate in projection formula:
     Sales_proj = Clicks_proj Ã— CVR_estimate Ã— ASIN_Price{noformat}

----

*Data Flow:*

{noformat}Bid Optimization System (existing)
  â””â”€â”€ CVR per targeting_type
        â†“
Projection Pipeline (PROD-2242)
  â””â”€â”€ Uses CVR_estimate for Sales_proj calculation{noformat}

h2. Connected Work Items

Check ""*Linked work Items*"" section.

âœ… Reuses proven CVR data from bid optimization â€” no new model required.

h2. Implementation Notes

*Fallback hierarchy:*

# Targeting-type-level CVR from bid optimization
# Account-level average CVR (if targeting type has no data)
# System default CVR (e.g., 5%) as last resort

*Data freshness:*

* CVR values should be refreshed on same cadence as bid optimization
* Stale CVR (>30 days) should trigger warning

*Targeting type mapping:*

* Ensure consistent targeting_type enum between bid optimization and projection systems
* Handle edge cases (e.g., new campaign types)

h2. Acceptance Criteria

* [ ] CVR_estimate sourced from existing bid optimization logic
* [ ] CVR retrieved per targeting type (Exact, Phrase, Broad, Auto, Product)
* [ ] Fallback to account-level CVR if targeting type has no data
* [ ] Fallback to system default CVR as last resort
* [ ] CVR integration documented for projection pipeline
* [ ] No new CVR model required for Phase 1

cc: [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] ",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Hubstaff project: PORTAL/SAAS;05/Jan/26 2:45 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;9720,Hubstaff project: PORTAL/SAAS;06/Jan/26 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3900,,,,,,,,,18000,4380,13620,75%,18000,4380,13620,,PROD-2222,,,,PROD-2239,PROD-2242,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5c4dabd4,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00ihn:,,,,S15: Dec 29 - Jan 11,,,29/Dec/25 12:00 AM,,,,,,,,,,,,3_*:*_1_*:*_3536477_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_840011698_*|*_10003_*:*_2_*:*_787523498,18/Dec/25 10:50 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] This ticketâ€™s now ready for review.,,,,,,,,,,17712,PROD-1494,Implement Ad Spend & Ad Sales Projection Engine for KW Groups,Done,06/Jan/26 12:32 AM
4.6: Implement Auto-Pacing UI Controls,PROD-2339,23235,Sub-task,In Progress,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,18/Dec/25 3:19 AM,15/Jan/26 4:19 AM,,,, [Advertising] [v2] -[February 1st Release],26/Jan/26 12:00 AM,0,,,"h2. Problem / Context

Users need visibility into pacing status and controls to enable/disable auto-pacing, view campaign states, and manage locked campaigns. The UI must clearly communicate what the system is doing and why.

*Entry point:* ASIN config page with quick toggle + link to detailed pacing management page.

h2. Solution Outline

*ASIN Config Page Integration:*

{noformat}â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ASIN Configuration                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Product: Widget Pro X1                    ASIN: B08XXXXX               â”‚
â”‚                                                                         â”‚
â”‚ Target ACOS:        [25%      â–¼]                                       â”‚
â”‚ Daily Budget:       [$500.00   ]                                       â”‚
â”‚ Auto-Pacing:        [ON ğŸ”˜ OFF]     [Manage Pacing â†’]                  â”‚
â”‚                                                                         â”‚
â”‚ ...other config fields...                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜{noformat}

||Element||Behavior||
|Toggle (ON/OFF)|Quick enable/disable without leaving config page|
|""Manage Pacing â†’"" link|Opens detailed pacing management page|

*Toggle behavior:*

* ON â†’ OFF: Shows confirmation, then disables (campaigns stay in current state)
* OFF â†’ ON: Shows confirmation, triggers immediate pacing run

----

*Detailed Pacing Management Page:*

URL: {{/asin/{id}/pacing}}

{noformat}â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Back to ASIN Config                                      â”‚
â”‚                                                             â”‚
â”‚  Auto-Pacing: Widget Pro X1                                â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚                                                             â”‚
â”‚  Status: [ENABLED â—]              [Run Now] [Disable]       â”‚
â”‚                                                             â”‚
â”‚  Last run: Dec 18, 2024 12:00 AM                           â”‚
â”‚  Next run: Dec 19, 2024 12:00 AM                           â”‚
â”‚  Result: âœ“ Completed (14 campaigns active, 6 paused)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜{noformat}

----

*Budget Summary Display:*

{noformat}â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Budget Allocation                                          â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚                                                             â”‚
â”‚  Total Budget:        $1,000.00                            â”‚
â”‚  â”œâ”€ Reserved (Locked):  $150.00  (2 campaigns)             â”‚
â”‚  â”œâ”€ Allocated (Auto):   $720.00  (14 campaigns)            â”‚
â”‚  â””â”€ Unallocated:        $130.00                            â”‚
â”‚                                                             â”‚
â”‚  Auto-Targeting:      $180.00 / $200.00 (20% cap)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜{noformat}

----

*Campaign List with Pacing Status:*

{noformat}â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Campaign                    Status          Budget   Action â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Brand - Exact Keywords     â— Auto: Active   $120    [Lock] â”‚
â”‚ Brand - Broad Match        â— Auto: Active   $80     [Lock] â”‚
â”‚ Competitor - Exact         â—‹ Auto: Paused   $60     [Lock] â”‚
â”‚ Product Targeting          ğŸ”’ Locked: Active $100  [Unlock]â”‚
â”‚ Auto Campaign              â— Auto: Active   $50     [Lock] â”‚
â”‚ Category Targeting         ğŸ”’ Locked: Paused  â€”    [Unlock]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜{noformat}

*Status Indicators:*

||Icon||State||Color||Meaning||
|â—|Auto: Active|Green|Selected by optimizer, running|
|â—‹|Auto: Paused|Gray|Not selected, paused|
|ğŸ”’|Locked: Active|Yellow|User override, running, reserves budget|
|ğŸ”’|Locked: Paused|Yellow|User override, paused|

----

*Campaign Actions:*

||Action||From State||Result||
|Lock|AUTO_ACTIVE or AUTO_PAUSED|Opens dialog: ""Keep Active"" or ""Keep Paused""|
|Unlock|LOCKED_ACTIVE or LOCKED_PAUSED|Returns to AUTO_MANAGED, re-optimized next run|

----

*Confirmation Dialogs:*

*Enable Auto-Pacing (from toggle or button):*

{noformat}â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Enable Auto-Pacing?                        â”‚
â”‚                                             â”‚
â”‚  This will:                                 â”‚
â”‚  â€¢ Pause all campaigns initially            â”‚
â”‚  â€¢ Run optimization to select best campaignsâ”‚
â”‚  â€¢ Activate selected campaigns              â”‚
â”‚  â€¢ Re-run daily at midnight                 â”‚
â”‚                                             â”‚
â”‚  [Cancel]                    [Enable]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜{noformat}

*Disable Auto-Pacing (from toggle or button):*

{noformat}â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Disable Auto-Pacing?                       â”‚
â”‚                                             â”‚
â”‚  Campaigns will remain in their current     â”‚
â”‚  state. No further automatic changes.       â”‚
â”‚                                             â”‚
â”‚  [Cancel]                   [Disable]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜{noformat}

*Unlock Campaign:*

{noformat}â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Return to Auto-Pacing?                     â”‚
â”‚                                             â”‚
â”‚  This campaign will be re-evaluated on the  â”‚
â”‚  next pacing run. It may be activated or    â”‚
â”‚  paused based on optimization.              â”‚
â”‚                                             â”‚
â”‚  [Cancel]                   [Confirm]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜{noformat}

----

*API Endpoints Required:*

||Method||Endpoint||Purpose||
|POST|/asin/{id}/pacing/enable|Enable auto-pacing|
|POST|/asin/{id}/pacing/disable|Disable auto-pacing|
|POST|/asin/{id}/pacing/run|Trigger immediate run|
|GET|/asin/{id}/pacing/status|Get pacing status and last run|
|POST|/campaign/{id}/lock|Lock campaign (with state param)|
|POST|/campaign/{id}/unlock|Unlock campaign|
|GET|/asin/{id}/campaigns/pacing|List campaigns with pacing state|
|GET|/asin/{id}/budget-summary|Get budget allocation breakdown|

h2. Connected Work Items

Check ""*Linked work Items*"" section.

âœ… UI Controls give users visibility and control over auto-pacing behavior.

h2. Implementation Notes

*ASIN config page changes:*

* Add auto-pacing row to existing config form
* Toggle syncs with pacing enabled state
* ""Manage Pacing"" link navigates to detailed page
* Toggle shows mini-status (last run time) on hover

*Loading states:*

* Show spinner during pacing run
* Disable action buttons while run in progress
* Poll for status updates during long runs

*Error handling:*

* Show toast/alert on API failures
* Retry logic for transient failures
* Clear error messages with suggested actions

*Real-time updates:*

* Refresh campaign list after pacing run completes
* Update budget summary after lock/unlock
* Consider WebSocket for live status during runs

*Responsive design:*

* Mobile-friendly campaign list
* Collapsible budget summary on small screens
* Touch-friendly action buttons

*Accessibility:*

* Keyboard navigation for all controls
* Screen reader labels for status icons
* Color-blind friendly indicators (not just color)

h2. Acceptance Criteria

*ASIN Config Page:*

* [ ] Auto-pacing toggle displayed on ASIN config page
* [ ] Toggle shows current state (ON/OFF)
* [ ] Toggle triggers enable/disable with confirmation
* [ ] ""Manage Pacing"" link navigates to detailed pacing page
* [ ] Toggle and link on same row

*Detailed Pacing Page:*

* [ ] Page accessible via {{/asin/{id}/pacing}}
* [ ] ""Back to ASIN Config"" link provided
* [ ] Status badge shows ENABLED/DISABLED/RUNNING/FAILED
* [ ] Last run and next run timestamps displayed
* [ ] ""Run Now"" button triggers immediate pacing run
* [ ] Enable/Disable buttons available

*Budget Summary:*

* [ ] Shows total, reserved, allocated, unallocated
* [ ] Shows auto-targeting spend vs 20% cap

*Campaign List:*

* [ ] Shows pacing state for each campaign
* [ ] Status indicators: green (active), gray (paused), yellow (locked)
* [ ] Lock button for AUTO_ACTIVE and AUTO_PAUSED campaigns
* [ ] Unlock button for LOCKED_ACTIVE and LOCKED_PAUSED campaigns

*Dialogs & Feedback:*

* [ ] Enable confirmation dialog explains consequences
* [ ] Disable confirmation dialog explains consequences
* [ ] Unlock confirmation dialog warns of re-optimization
* [ ] Loading spinner shown during pacing run
* [ ] Error messages displayed on failures
* [ ] UI updates after pacing run completes

*API:*

* [ ] All endpoints return appropriate responses

cc: [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] ",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Hubstaff project: PORTAL/SAAS;14/Jan/26 2:45 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;8160,Hubstaff project: PORTAL/SAAS;15/Jan/26 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3840,Hubstaff project: PORTAL/SAAS;15/Jan/26 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3600,,,,,,,,50400,34800,15600,30%,50400,34800,15600,,PROD-2284,PROD-2285,PROD-2337,PROD-2338,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@4543d56a,,,,,,,,,,,,,,,,,,,,,,,,,,,0|hzzzw6:8r,,,,S16: Jan 12 - Jan 25,,,12/Jan/26 12:00 AM,,,,,,,,,,,,,,,,,,,,,,,17714,PROD-1495,Implement Budget Optimization via Optimal Campaigns Activation,In Progress,13/Jan/26 6:58 AM
4.5: Implement Manual Override & Budget Reservation,PROD-2338,23233,Sub-task,To deploy,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,18/Dec/25 3:12 AM,15/Jan/26 4:19 AM,,,, [Advertising] [v2] -[February 1st Release],26/Jan/26 12:00 AM,0,,,"h2. Problem / Context

Users need to override auto-pacing decisions for specific campaigns. When a user manually enables or disables a campaign, the system must respect that choice and adjust budget calculations accordingly.

Two lock states exist:

* *Locked Active*: User wants campaign ON regardless of optimization â†’ reserves budget
* *Locked Paused*: User wants campaign OFF regardless of optimization â†’ no budget impact

h2. Solution Outline

*Lock Detection (Automatic):*

The system detects locks by comparing Amazon's current campaign state to our last applied state:

{noformat}current_state = Amazon API campaign status (ENABLED/PAUSED)
last_applied_state = What pacing engine last set

if current_state != last_applied_state:
  # User made manual change
  if current_state == ENABLED:
    campaign.pacing_state = LOCKED_ACTIVE
  else:
    campaign.pacing_state = LOCKED_PAUSED
  
  campaign.locked_at = now()
  campaign.locked_by = ""manual_override""  # Can't detect specific user from Amazon{noformat}

----

*Budget Reservation (Locked Active Only):*

{noformat}Reserved_Budget = Î£ (campaign.daily_budget) for all LOCKED_ACTIVE campaigns

Available_Budget = Total_Budget - Reserved_Budget{noformat}

*Note:* Uses campaign's configured daily_budget, not projected spend. This is the actual budget the campaign will consume.

----

*Unlock Flow (Return to Auto-Pacing):*

User clicks ""Return to Auto-Pacing"" in UI:

{noformat}campaign.pacing_state = AUTO_MANAGED
campaign.locked_at = null
campaign.locked_by = null

# Campaign re-enters optimization pool on next run
# May be activated or paused based on knapsack decision{noformat}

----

*Campaign States:*

||State||How Set||Budget Impact||Optimization||
|AUTO_ACTIVE|Knapsack selected|Allocated by optimizer|Included|
|AUTO_PAUSED|Knapsack not selected|None|Included|
|LOCKED_ACTIVE|User enabled manually|Reserves daily_budget|Excluded|
|LOCKED_PAUSED|User disabled manually|None|Excluded|

----

*Edge Cases:*

||Scenario||Handling||
|All campaigns locked active|Available_Budget = 0, warn user, no optimization possible|
|Reserved > Total budget|Warn user of over-allocation, proceed with negative available|
|User locks then unlocks same day|Campaign re-enters pool on next run|
|Campaign locked during execution|Complete current run, detect lock on next run|
|New campaign added|Starts as AUTO_MANAGED|

----

*Data Model:*

{noformat}Campaign:
  campaign_id: string
  asin_id: string
  daily_budget: decimal           # From Amazon
  targeting_type: ""Auto"" | ""Manual""
  
  # Pacing state
  pacing_state: enum (AUTO_ACTIVE, AUTO_PAUSED, LOCKED_ACTIVE, LOCKED_PAUSED)
  last_applied_state: enum (ENABLED, PAUSED)  # What we last sent to Amazon
  locked_at: timestamp | null
  locked_by: string | null{noformat}

h2. Connected Work Items

Check ""*Linked work Items*"" section.

âœ… Manual Override ensures user control while maintaining budget integrity.

h2. Implementation Notes

*Lock detection timing:*

* Check for locks at start of each pacing run
* Compare Amazon state vs our last_applied_state
* Must happen before pausing non-locked campaigns

*Budget source:*

* Use campaign.daily_budget from Amazon API
* Not projected spend (projections are estimates, daily_budget is actual limit)
* Refresh daily_budget values before each run

*State persistence:*

* Store pacing_state in our database
* Survives system restarts
* Queryable for UI display

*Audit logging:*

* Log all state transitions with timestamps
* Track who/what caused the change
* Enable debugging ""why is this campaign locked?""

*UI implications (see 4.6):*

* Show lock status on campaign cards
* Provide ""Return to Auto-Pacing"" button for locked campaigns
* Show budget reservation breakdown

h2. Acceptance Criteria

* [ ] System detects LOCKED_ACTIVE when Amazon state = ENABLED but last_applied = PAUSED
* [ ] System detects LOCKED_PAUSED when Amazon state = PAUSED but last_applied = ENABLED
* [ ] LOCKED_ACTIVE campaigns reserve their daily_budget
* [ ] LOCKED_PAUSED campaigns reserve no budget
* [ ] Reserved_Budget = sum of daily_budget for LOCKED_ACTIVE campaigns
* [ ] Available_Budget = Total_Budget - Reserved_Budget
* [ ] Locked campaigns are excluded from optimization candidate set
* [ ] Locked campaigns are not modified by execution engine
* [ ] ""Return to Auto-Pacing"" sets pacing_state = AUTO_MANAGED
* [ ] Unlocked campaigns re-enter optimization pool on next run
* [ ] System warns when Reserved_Budget >= Total_Budget
* [ ] New campaigns default to AUTO_MANAGED state
* [ ] All state transitions are logged with timestamps
* [ ] pacing_state persists across system restarts

cc: [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] ",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Hubstaff project: PORTAL/SAAS;14/Jan/26 2:45 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;8700,Hubstaff project: PORTAL/SAAS;14/Jan/26 2:45 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;7080,,,,,,,,,43200,27420,15780,36%,43200,27420,15780,,PROD-2285,PROD-2337,,,PROD-2339,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@25fe0fb0,,,,,,,,,,,,,,,,,,,,,,,,,,,0|hzzzw6:8i,,,,S16: Jan 12 - Jan 25,,,12/Jan/26 12:00 AM,,,,,,,,,,,,,,,,,,,,,,,17714,PROD-1495,Implement Budget Optimization via Optimal Campaigns Activation,Done,14/Jan/26 10:57 AM
4.4: Implement Auto-Pacing Execution Engine,PROD-2337,23231,Sub-task,To deploy,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,18/Dec/25 3:10 AM,15/Jan/26 4:19 AM,,,, [Advertising] [v2] -[February 1st Release],26/Jan/26 12:00 AM,0,,,"h2. Problem / Context

The execution engine orchestrates the full pacing pipeline: running projections, optimization, and applying campaign state changes to Amazon. It must handle both scheduled runs (every 24 hours) and event-driven triggers (campaign status or budget changes).

h2. Solution Outline

*Triggers:*

||Trigger||When||Scope||
|SCHEDULED|Every 24 hours (configurable time)|All ASINs with auto-pacing enabled|
|CAMPAIGN_STATUS_CHANGE|User manually enables/disables a campaign|Single ASIN containing that campaign|
|BUDGET_CHANGE|User changes any campaign's daily budget|Single ASIN containing that campaign|
|MANUAL|User clicks ""Run Pacing Now"" button|Single ASIN|

----

*Execution Sequence:*

{noformat}1. Identify scope (single ASIN or all enabled ASINs)

2. For each ASIN:
   a. Lock ASIN for processing (prevent concurrent runs)
   
   b. Detect locked campaigns:
      - LOCKED_ACTIVE: User manually turned ON â†’ reserve budget, exclude from optimization
      - LOCKED_PAUSED: User manually turned OFF â†’ exclude from optimization, no budget
   
   c. Pause all non-locked campaigns (clean slate)
   
   d. Run projection pipeline 
      - Only for non-locked campaigns
   
   e. Run optimization pipeline:
      - 4.1: ACOS filter & sort
      - 4.2: Knapsack selection (with auto 20% cap)
      - 4.3: Generate activation output
   
   f. Apply campaign state changes:
      - ACTIVATE selected campaigns
      - Keep non-selected campaigns PAUSED
      - Leave locked campaigns unchanged
   
   g. Store run results (audit trail)
   
   h. Unlock ASIN

3. Update last_pacing_run timestamp{noformat}

----

*State Diagram:*

{noformat}                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Auto-Managed   â”‚
                    â”‚    (default)    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                   â”‚                   â”‚
         â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Auto: Active   â”‚ â”‚  Auto: Paused   â”‚ â”‚     Locked      â”‚
â”‚  (selected by   â”‚ â”‚ (not selected   â”‚ â”‚  (user manual   â”‚
â”‚   knapsack)     â”‚ â”‚  by knapsack)   â”‚ â”‚    override)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                 â”‚
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â–¼                         â–¼
                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â”‚  Locked: Active â”‚       â”‚  Locked: Paused â”‚
                           â”‚ (reserves budget)â”‚       â”‚ (no budget)     â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜{noformat}

----

*Lock Detection Logic:*

{noformat}For each campaign under ASIN:
  current_state = get_amazon_campaign_state()  # ENABLED or PAUSED
  last_known_state = get_our_last_applied_state()
  
  if current_state != last_known_state:
    # User changed it manually
    if current_state == ENABLED:
      mark_as LOCKED_ACTIVE
    else:
      mark_as LOCKED_PAUSED{noformat}

----

*ASIN-Level State:*

||Field||Description||
|auto_pacing_enabled|Boolean â€” is pacing active for this ASIN|
|last_pacing_run|Timestamp of last execution|
|next_pacing_run|Scheduled time for next run|
|pacing_run_status|IDLE / RUNNING / FAILED|
|last_run_id|UUID of most recent ActivationOutput|

----

*Campaign-Level State:*

||Field||Description||
|pacing_state|AUTO_ACTIVE / AUTO_PAUSED / LOCKED_ACTIVE / LOCKED_PAUSED|
|last_applied_state|What we last set (for lock detection)|
|locked_at|Timestamp when lock detected|
|locked_by|User who made manual change (if detectable)|

h2. Connected Work Items

Check ""*Linked work Items*"" section.

h2. Implementation Notes

*Concurrency control:*

* Use database lock per ASIN during execution
* Prevent race conditions from overlapping triggers
* Queue event-driven triggers if scheduled run in progress

*Atomicity:*

* All campaign state changes for an ASIN should succeed or fail together
* If Amazon API fails mid-execution, rollback and retry

*Retry logic:*

* Retry failed Amazon API calls with exponential backoff
* After N retries, mark run as FAILED and alert

*Timezone handling:*

* Store all timestamps in UTC
* Scheduled run time should be configurable per account timezone
* Default: midnight in account's primary marketplace timezone

*Debouncing:*

* Multiple rapid campaign changes should trigger single run
* Wait 5 minutes after last change before executing (configurable)

*Audit trail:*

* Log every state change with before/after values
* Link to run_id for traceability
* Store Amazon API responses

*Performance:*

* Full pipeline for 100 campaigns: target < 30 seconds
* Parallelize Amazon API calls where possible

h2. Acceptance Criteria

* [ ] Scheduled trigger runs every 24 hours for all enabled ASINs
* [ ] Campaign status change triggers re-run for affected ASIN
* [ ] Budget change triggers re-run for affected ASIN
* [ ] Manual ""Run Now"" button triggers immediate run
* [ ] Event-driven triggers are debounced (5 min default)
* [ ] System detects manually-enabled campaigns as LOCKED_ACTIVE
* [ ] System detects manually-disabled campaigns as LOCKED_PAUSED
* [ ] LOCKED_ACTIVE campaigns reserve budget and are excluded from optimization
* [ ] LOCKED_PAUSED campaigns are excluded from optimization with no budget
* [ ] Non-locked campaigns are paused before optimization (clean slate)
* [ ] Selected campaigns are activated via Amazon API
* [ ] Non-selected campaigns remain paused
* [ ] Locked campaigns are not modified
* [ ] ASIN is locked during execution (no concurrent runs)
* [ ] Run results are stored with run_id
* [ ] last_pacing_run and next_pacing_run are updated
* [ ] Failed runs are marked and alerted
* [ ] Retry logic handles transient Amazon API failures

cc: [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] ",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,Hubstaff project: PORTAL/SAAS;13/Jan/26 2:43 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;2220,Hubstaff project: PORTAL/SAAS;13/Jan/26 2:43 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;540,Hubstaff project: PORTAL/SAAS;13/Jan/26 2:43 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;7020,Hubstaff project: PORTAL/SAAS;14/Jan/26 2:45 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3120,Hubstaff project: PORTAL/SAAS;14/Jan/26 2:45 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;6720,,,,,,28800,9180,19620,68%,28800,9180,19620,,PROD-2284,PROD-2285,,,PROD-2338,PROD-2339,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@2a5783cb,,,,,,,,,,,,,,,,,,,,,,,,,,,0|hzzzw6:8,,,,S16: Jan 12 - Jan 25,,,12/Jan/26 12:00 AM,,,,,,,,,,,2026-01-13 13:51:43.021,,13/Jan/26 5:51 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[https://github.com/KeplerCommerce/portal/pull/536|https://github.com/KeplerCommerce/portal/pull/536|smart-link] ,,,,,,,,,,17714,PROD-1495,Implement Budget Optimization via Optimal Campaigns Activation,Done,13/Jan/26 5:51 AM
4.2: Implement Knapsack Budget Optimizer,PROD-2285,23177,Sub-task,To deploy,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,18/Dec/25 2:36 AM,15/Jan/26 4:19 AM,,,, [Advertising] [v2] -[February 1st Release],26/Jan/26 12:00 AM,0,,,"h2. Problem / Context

Given a set of candidate campaigns (filtered and sorted by 4.1) and an available budget (after manual reservations from 4.5), the system must select which campaigns to activate to maximize total Risk-Adjusted Sales without exceeding the budget constraint.

Additional constraint: Auto-targeting campaigns are capped at 20% of total budget ceiling to maintain targeting diversity.

h2. Solution Outline

*Problem Formulation:*

{noformat}Maximize:   Î£ (Risk_Adjusted_Sales_i Ã— selected_i)

Subject to:
  1. Î£ (Spend_proj_i Ã— selected_i) â‰¤ Available_Budget
  2. Î£ (Spend_proj_i Ã— selected_i) for Auto campaigns â‰¤ 0.20 Ã— Total_Budget

Where:      selected_i âˆˆ {0, 1} for each campaign i{noformat}

----

*Algorithm: Greedy by Efficiency with Auto Cap*

{noformat}1. Calculate efficiency for each campaign:
   Efficiency_i = Risk_Adjusted_Sales_i / Spend_proj_i

2. Sort campaigns by efficiency (descending)
   - Note: 4.1 already sorts favorable before unfavorable
   - Within tiers, re-sort by efficiency

3. Greedy selection with constraints:
   remaining_budget = Available_Budget
   auto_budget_remaining = 0.20 Ã— Total_Budget
   selected_campaigns = []
   
   for campaign in sorted_campaigns:
       spend = campaign.Spend_proj
       
       # Check budget constraint
       if spend > remaining_budget:
           continue
       
       # Check auto-targeting cap
       if campaign.targeting_type == ""Auto"":
           if spend > auto_budget_remaining:
               continue
           auto_budget_remaining -= spend
       
       selected_campaigns.append(campaign)
       remaining_budget -= spend
   
   return selected_campaigns{noformat}

----

*Why Greedy Works Here:*

* Campaigns have relatively similar spend magnitudes
* Near-optimal in practice for advertising budget allocation
* Fast execution for hundreds of campaigns
* Easy to explain: ""we picked highest ROI campaigns until budget ran out""

----

*Input:*

||Field||Source||Description||
|Candidate campaigns|Sub-task 4.1|Sorted list (favorable first, then unfavorable by ACOS)|
|Available_Budget|Sub-task 4.5|Total budget minus reserved (locked) budget|
|Total_Budget|ASIN config|Budget ceiling for 20% auto cap calculation|
|Risk_Adjusted_Sales|Sub-task 4.1|Rolled-up confidence-weighted sales projection per campaign|
|Spend_proj|Sub-task 4.1|Rolled-up projected spend per campaign|
|targeting_type|Campaign data|""Auto"" or ""Manual""|

----

*Output:*

||Field||Description||
|selected_campaigns|List of campaigns to activate|
|total_spend_proj|Sum of Spend_proj for selected campaigns|
|total_sales_proj|Sum of Sales_proj (raw) for selected campaigns|
|total_risk_adjusted_sales|Sum of Risk_Adjusted_Sales for selected campaigns|
|remaining_budget|Available_Budget - total_spend_proj|
|auto_spend_proj|Sum of Spend_proj for selected Auto campaigns|
|auto_budget_remaining|20% cap - auto_spend_proj|
|selection_efficiency|total_risk_adjusted_sales / total_spend_proj|

----

*Edge Cases:*

||Scenario||Handling||
|No candidates pass 4.1|Return empty selection, log warning|
|Available_Budget = 0|Return empty selection (all budget reserved)|
|Single campaign exceeds budget|Skip campaign, continue to next|
|All campaigns exceed budget|Return empty selection, log warning|
|Spend_proj = 0 for a campaign|Include campaign (free value), but flag for review|
|Auto cap reached|Skip remaining Auto campaigns, continue with Manual|
|All candidates are Auto|Selection stops at 20% cap|

----

*Tie-breaking:*

When two campaigns have equal efficiency:

# Prefer higher Risk_Adjusted_Sales (bigger absolute impact)
# If still tied, prefer Manual over Auto (preserve auto budget)
# If still tied, prefer campaign_id alphabetically (deterministic)

h2. Connected Work Items

Check ""*Linked work Items*"" section.

âœ… Knapsack is the core optimization stepâ€”takes filtered candidates, produces selection.

h2. Implementation Notes

*Auto-targeting cap rationale:*

* Auto campaigns can consume budget quickly with broad matching
* 20% cap ensures manual targeting campaigns get priority
* Preserves user's keyword targeting strategy
* Cap is configurable (system default 20%, can be overridden per ASIN in future)

*Budget precision:*

* Use cents (integer) internally to avoid floating point issues
* Round Spend_proj to nearest cent before comparison
* Available_Budget and auto cap should also be in cents

*Performance:*

* Greedy runs in O(n log n) due to sorting
* For 1,000 campaigns, completes in milliseconds
* No performance concerns for Phase 1

*Logging:*

* Log selection decisions: campaign_id, efficiency, targeting_type, selected (yes/no), reason if no
* Log constraint status: budget remaining, auto cap remaining
* Log final totals: selected count, total spend, auto spend, remaining budget
* Enable audit trail for why specific campaigns were/weren't selected

*Future enhancement (Phase 2):*

* Configurable auto cap per ASIN
* Dynamic programming for truly optimal solution
* Multiple targeting type caps (e.g., separate caps for product targeting)

h2. Acceptance Criteria

* [ ] System calculates efficiency (Risk_Adjusted_Sales / Spend_proj) per campaign
* [ ] System sorts candidates by efficiency within priority tiers
* [ ] Greedy algorithm selects campaigns until budget exhausted
* [ ] Selected campaigns' total Spend_proj â‰¤ Available_Budget
* [ ] Auto-targeting campaigns' total Spend_proj â‰¤ 20% of Total_Budget
* [ ] System continues selecting Manual campaigns after Auto cap is reached
* [ ] System outputs list of selected campaigns with IDs
* [ ] System calculates total projected spend for selection
* [ ] System calculates total projected sales for selection
* [ ] System calculates auto-targeting spend separately
* [ ] System calculates remaining budget after selection
* [ ] Empty candidate set returns empty selection gracefully
* [ ] Zero budget returns empty selection gracefully
* [ ] All selection decisions are logged with reasons
* [ ] Tie-breaking logic is deterministic and documented
* [ ] 20% auto cap is configurable at system level

cc: [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] ",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,Hubstaff project: PORTAL/SAAS;15/Jan/26 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;8340,Hubstaff project: PORTAL/SAAS;15/Jan/26 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3120,Hubstaff project: PORTAL/SAAS;15/Jan/26 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;6300,Hubstaff project: PORTAL/SAAS;15/Jan/26 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3960,,,,,,,43200,21480,21720,50%,43200,21480,21720,,PROD-2284,,,,PROD-2337,PROD-2338,PROD-2339,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@292f5dd8,,,,,,,,,,,,,,,,,,,,,,,,,,,0|hzzzw6:7,,,,S16: Jan 12 - Jan 25,,,12/Jan/26 12:00 AM,,,,,,,,,,,2026-01-12 13:44:20.181,,12/Jan/26 5:44 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[https://github.com/KeplerCommerce/portal/pull/530|https://github.com/KeplerCommerce/portal/pull/530|smart-link] ,,,,,,,,,,17714,PROD-1495,Implement Budget Optimization via Optimal Campaigns Activation,Done,12/Jan/26 5:44 AM
4.1: Implement ACOS Threshold Filter,PROD-2284,23175,Sub-task,To deploy,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,18/Dec/25 1:20 AM,15/Jan/26 4:19 AM,,,, [Advertising] [v2] -[February 1st Release],26/Jan/26 12:00 AM,0,,,"h2. Problem / Context

Before budget optimization can occur, campaigns need to be prioritized by economic viability. Campaigns projecting unfavorable ACOS (above target) shouldn't be completely excludedâ€”they may still be worth activating if budget allowsâ€”but they should be deprioritized behind campaigns with favorable economics.

The ACOS threshold filter segments campaigns into priority tiers and sorts unfavorable campaigns by ACOS so the least-bad options come first.

h2. Solution Outline



*Step 1: Filter Logic*

{noformat}For each campaign:
  If ACOS_proj <= Target_ACOS:
    Priority_Tier = ""Favorable""
  Else:
    Priority_Tier = ""Unfavorable""{noformat}

----

*Step 2: Sorting for Knapsack Input*

{noformat}1. Favorable campaigns first (sorted by Risk_Adjusted_Sales descending)
2. Unfavorable campaigns second (sorted by ACOS_proj ascending - least bad first){noformat}

This ordering ensures the knapsack considers high-value viable campaigns first, then fills remaining budget with progressively less attractive options.

----

*Target ACOS Source:*

||Priority||Source||Description||
|1|ASIN-level Target ACOS|If user has set target for this ASIN|
|2|Account-level default|Fallback when ASIN target not set|
|3|System default|Fallback when no account default (e.g., 30%)|

----

*Edge Cases:*

||Scenario||Handling||
|Sales_proj = 0|ACOS = âˆ â†’ Unfavorable tier, sorted last|
|Spend_proj = 0|ACOS = 0 â†’ Favorable tier (but likely no opportunity)|
|No Target ACOS at ASIN level|Fall back to account default|
|No account default set|Use system default (e.g., 30%)|
|ACOS_proj exactly equals Target|Favorable tier (use â‰¤ not <)|
|Campaign has no tags with projections|Exclude from candidate set, log warning|

----

*Output:*

{noformat}FilterOutput:
  favorable_campaigns: [
    # Sorted by Risk_Adjusted_Sales descending
    { campaign_id, spend_proj, sales_proj, acos_proj, risk_adjusted_sales, 
      targeting_type, priority_tier: ""Favorable"" }
  ]
  
  unfavorable_campaigns: [
    # Sorted by ACOS_proj ascending (least bad first)
    { campaign_id, spend_proj, sales_proj, acos_proj, risk_adjusted_sales,
      targeting_type, priority_tier: ""Unfavorable"" }
  ]
  
  sorted_candidates: [
    # Combined: favorable_campaigns + unfavorable_campaigns
    # This is the input to knapsack (4.2)
  ]
  
  statistics:
    total_campaigns: integer
    favorable_count: integer
    unfavorable_count: integer
    auto_targeting_count: integer      # For 20% cap tracking
    favorable_spend_total: decimal
    unfavorable_spend_total: decimal
    target_acos_used: decimal
    target_acos_source: ""ASIN"" | ""ACCOUNT"" | ""SYSTEM_DEFAULT""{noformat}

h2. Connected Work Items

Check ""*Linked work Items*"" section.

âœ… Soft filter preserves all candidates while ensuring favorable campaigns get budget priority.

h2. Implementation Notes

*Why soft filter instead of hard exclusion:*

* High-ACOS campaigns may still generate sales if budget allows
* Avoids losing opportunity when favorable campaigns don't consume full budget
* User retains visibility into all options considered

*Targeting type tracking:*

* Each campaign must be flagged as ""Auto"" or ""Manual"" targeting
* Auto campaigns are subject to 20% budget cap in knapsack (4.2)
* Include targeting_type in output for downstream constraint

*Sorting stability:*

* Use stable sort to maintain deterministic ordering
* When Risk_Adjusted_Sales ties, secondary sort by campaign_id for consistency

*Performance:*

* Roll-up is O(tags)
* Sorting is O(n log n) on campaigns
* For 1,000 campaigns, completes in milliseconds

h2. Acceptance Criteria

* [ ] System calculates ACOS_proj for each campaign (Spend_proj / Sales_proj)
* [ ] System retrieves Target ACOS from ASIN level, falling back to account level, then system default
* [ ] Campaigns with ACOS_proj â‰¤ Target_ACOS are assigned Priority_Tier = ""Favorable""
* [ ] Campaigns with ACOS_proj > Target_ACOS are assigned Priority_Tier = ""Unfavorable""
* [ ] Campaigns with Sales_proj = 0 are assigned Priority_Tier = ""Unfavorable""
* [ ] Favorable campaigns are sorted by Risk_Adjusted_Sales descending
* [ ] Unfavorable campaigns are sorted by ACOS_proj ascending
* [ ] Final sorted_candidates list places Favorable before Unfavorable
* [ ] Each campaign includes targeting_type (Auto/Manual) for 20% cap enforcement
* [ ] Priority_Tier is stored per campaign for UI display
* [ ] Statistics are calculated (counts, totals, target used)
* [ ] Target ACOS source is logged (ASIN / ACCOUNT / SYSTEM_DEFAULT)

cc: [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] ",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,Hubstaff project: PORTAL/SAAS;12/Jan/26 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;12720,Hubstaff project: PORTAL/SAAS;13/Jan/26 2:43 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;6180,Hubstaff project: PORTAL/SAAS;13/Jan/26 2:43 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;6960,,,,,,,,28800,2940,25860,89%,28800,2940,25860,,,,,,PROD-2285,PROD-2337,PROD-2339,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@668bc507,,,,,,,,,,,,,,,,,,,,,,,,,,,0|hzzzw6:6,,,,S16: Jan 12 - Jan 25,,,12/Jan/26 12:00 AM,,,,,,,,,,,2026-01-12 11:56:48.442,,12/Jan/26 3:56 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[https://github.com/KeplerCommerce/portal/pull/527|https://github.com/KeplerCommerce/portal/pull/527],,,,,,,,,,17714,PROD-1495,Implement Budget Optimization via Optimal Campaigns Activation,Done,12/Jan/26 2:29 AM
Implement Risk Adjusted Sales Calculation Logic,PROD-2269,23114,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,17/Dec/25 11:54 AM,15/Jan/26 4:19 AM,,08/Jan/26 9:49 AM,, [Advertising] [v2] -[February 1st Release],12/Jan/26 12:00 AM,0,,,"h2. Problem / Context

Raw sales projections treat all estimates as equally reliable. A tag projecting $1,000 in sales based on Level 5 default data appears equal to one projecting $1,000 based on Level 1 historical data. But they are notâ€”the second is far more likely to materialize.

The knapsack optimizer needs a comparison metric that factors in projection reliability. Tags with higher confidence should be prioritized over uncertain tags with similar or slightly higher raw projections.

h2. Solution Outline

*Step 1: Calculate Keyword-Level Confidence*

Confidence depends on the waterfall level used AND the targeting type. Different targeting types have different waterfall structures:

----

*ASIN + Exact Keyword Waterfall (CVR & CTR):*

||Level||Description||Confidence||
|1|ASIN + Exact Search Term|1.0|
|2|ASIN + Tag (keyword segment)|0.85|
|3|ASIN-level aggregate|0.65|
|4|Category benchmark|0.40|
|5|Global default|0.20|

----

*ASIN + Broad/Phrase Keyword Waterfall (CVR & CTR):*

||Level||Description||Confidence||
|1|ASIN + Broad/Phrase Search Term|0.90|
|2|ASIN + Tag (keyword segment)|0.75|
|3|ASIN-level aggregate|0.55|
|4|Category benchmark|0.35|
|5|Global default|0.20|

_Note: Lower confidence than Exact at each level due to wider match scope and less predictable search term mapping._

----

*ASIN + Automation (Auto) Targeting Waterfall (CVR & CTR):*

||Level||Description||Confidence||
|1|ASIN + Auto placement type|0.80|
|2|ASIN-level Auto aggregate|0.60|
|3|Category Auto benchmark|0.40|
|4|Global Auto default|0.20|

_Note: Fewer levels availableâ€”no search term or tag level because Amazon controls targeting. Lower confidence throughout due to limited control over which queries trigger ads._

----

*ASIN + ASIN Targeting (Product Targeting) Waterfall (CVR & CTR):*

||Level||Description||Confidence||
|1|ASIN + Target ASIN pair|0.95|
|2|ASIN + Target category|0.70|
|3|ASIN-level product targeting aggregate|0.50|
|4|Category benchmark|0.35|
|5|Global default|0.20|

_Note: High confidence at Level 1 because targeting a specific ASIN is very predictable. Drops quickly at broader levels due to variability in category-level targeting._

----

*Step 2: Calculate Keyword Confidence Score*

{noformat}Keyword_Confidence = 0.5 Ã— CVR_Confidence + 0.5 Ã— CTR_Confidence{noformat}

Where:

* {{CVR_Confidence}} = Waterfall confidence from appropriate targeting type table
* {{CTR_Confidence}} = Waterfall confidence from appropriate targeting type table

----

*Step 3: Aggregate to Campaign Level*

{noformat}Campaign_Confidence = Sales-weighted average of keyword confidences within Campaign
              = Î£(Keyword_Confidence Ã— Keyword_Sales_proj) / Î£(Keyword_Sales_proj){noformat}

Sales-weighted average ensures high-volume keywords influence campaign confidence more than low-volume ones.

----

*Step 4: Calculate Risk-Adjusted Sales*

{noformat}Risk_Adjusted_Sales = Sales_proj Ã— Campaign_Confidence

Example:
  Tag A: $1,000 sales Ã— 0.50 confidence = $500 risk-adjusted
  Tag B: $800 sales Ã— 0.70 confidence = $560 risk-adjusted
  
  â†’ Tag B prioritized in knapsack despite lower raw projection{noformat}

*Output:*

* {{Sales_proj}} â€” Raw unbiased projection (for display/reporting)
* {{Campaign_Confidence}} â€” Aggregated confidence score (0-1)
* {{Risk_Adjusted_Sales}} â€” Confidence-weighted value (for knapsack input)

h2. Connected Work Items

Check ""*Linked work Items*"" section.

âœ… Risk-Adjusted Sales calculation requires waterfall level outputs from Sub-task 3.2 which defines the targeting-type-specific waterfalls.

h2. Implementation Notes

*Why different waterfalls per targeting type:*

* *Exact keywords* have the most predictable performance because user intent is clear
* *Broad/Phrase* matches wider queries, introducing more variance
* *Auto targeting* removes advertiser control over query matching entirely
* *ASIN targeting* is very predictable at the pair level but highly variable at category level

*Why not dampen raw projections:*

* Confidence indicates uncertainty, not direction
* Low confidence could mean actual CVR is higher OR lower than predicted
* Dampening raw values injects downside bias
* Keeping raw projections unbiased preserves honest reporting

*Knapsack behavior:*

* Optimizes for maximum total Risk-Adjusted Sales within budget
* Effect: Prefers reliable mid-performers over uncertain high-performers
* Still allocates to low-confidence tags if budget allows and they clear ACOS filter

*Confidence weight tuning:*

* Initial weights based on domain knowledge
* Calibrate after observing actual vs projected performance
* Log components for post-hoc analysis

h2. Acceptance Criteria

* [ ] System retrieves CVR waterfall level per keyword
* [ ] System retrieves CTR waterfall level per keyword
* [ ] System identifies targeting type (Exact KW, Broad/Phrase KW, Auto, ASIN Targeting)
* [ ] System maps waterfall level to confidence using targeting-type-specific table
* [ ] System calculates keyword-level confidence using weighted formula
* [ ] Confidence weights (CVR, CTR, -PWS-) are configurable
* [ ] System aggregates keyword confidence to campaign level (sales-weighted average)
* [ ] System calculates Risk-Adjusted Sales = Sales_proj Ã— campaign_Confidence
* [ ] Raw Sales_proj is retained unchanged for reporting
* [ ] Risk_Adjusted_Sales is passed to knapsack optimizer
* [ ] Tag_Confidence is stored for UI display (Score Breakdown Panel)

cc: [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] ",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,PROD-2242,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@4b2708fc,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00ip3:,,,,S15: Dec 29 - Jan 11,,,29/Dec/25 12:00 AM,,,,,,,,,,,2026-01-05 11:31:14.159,3_*:*_1_*:*_92392055_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_590552395_*|*_10003_*:*_2_*:*_1096516497,19/Dec/25 11:41 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] This ticket is ready for review.,"05/Jan/26 3:31 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] Please tell me what PWS is?
*â€[ ] Confidence weights (CVR, CTR, PWS) are configurableâ€*",05/Jan/26 9:12 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] Mistakenly added. Iâ€™ve strikethrough it.,,,,,,,,17712,PROD-1494,Implement Ad Spend & Ad Sales Projection Engine for KW Groups,Done,07/Jan/26 2:12 AM
Implement Spend & Sales Projection Pipeline,PROD-2242,22954,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,17/Dec/25 4:55 AM,15/Jan/26 4:19 AM,,08/Jan/26 9:49 AM,, [Advertising] [v2] -[February 1st Release],12/Jan/26 12:00 AM,0,,,"h1. Problem / Context

With IS_estimate, CTR_estimate, and CVR_estimate now available, we need to calculate projected impressions, clicks, spend, and sales for each keyword, then aggregate to campaign level.

Without this pipeline, we cannot project campaign performance or enable budget-based pacing decisions.

h1. Solution Outline

h2. Part A: Keyword-Level Projections

*Inputs per keyword:*

||Data Point||Source||
|Search_Volume_Monthly|Jungle Scout API|
|IS_estimate|PROD-2241|
|CTR_estimate|PROD-2226|
|CVR_estimate|PROD-2340 (existing bid optimization CVR by targeting type)|
|Bid|KCâ€™s Internal DB / Amazon Amazonâ€™s Ads API (Last bid pushed to Amazon)|
|CPC_estimate|Amazon Ads API|
|ASIN_Price|Amazon API / Scrapper / 3rd party tools|

----

*Projection Formulas:*

{noformat}Search_Volume_Daily = Search_Volume_Monthly / 30

Impressions_proj = Search_Volume_Daily Ã— IS_estimate

Clicks_proj = Impressions_proj Ã— CTR_estimate

Spend_proj = Clicks_proj Ã— CPC_estimate

Sales_proj = Clicks_proj Ã— CVR_estimate Ã— ASIN_Price

ACOS_proj = Spend_proj / Sales_proj (if Sales_proj > 0, else null){noformat}

----

*Example:*

{noformat}Inputs:
- Search_Volume_Monthly: 30,000
- IS_estimate: 0.60 (60%)
- CTR_estimate: 0.005 (0.5%)
- CVR_estimate: 0.10 (10%)
- Bid: $1.00
- CPC_estimate: $0.80
- ASIN_Price: $25.00

Calculations:
- Search_Volume_Daily = 30,000 / 30 = 1,000
- Impressions_proj = 1,000 Ã— 0.60 = 600
- Clicks_proj = 600 Ã— 0.005 = 3
- Spend_proj = 3 Ã— $0.80 = $2.40
- Sales_proj = 3 Ã— 0.10 Ã— $25 = $7.50
- ACOS_proj = $2.40 / $7.50 = 32%{noformat}

----

h2. Part B: Campaign-Level Aggregation

*Formulas:*

{noformat}Campaign_Spend_proj = Î£ keyword Spend_proj (for all keywords in campaign)

Campaign_Sales_proj = Î£ keyword Sales_proj (for all keywords in campaign)

Campaign_ACOS_proj = Campaign_Spend_proj / Campaign_Sales_proj (if Campaign_Sales_proj > 0, else null){noformat}

----

*Example:*

||Keyword||Spend_proj||Sales_proj||
|KW1|$2.40|$7.50|
|KW2|$1.80|$5.00|
|KW3|$3.00|$10.00|

{noformat}Campaign_Spend_proj = $2.40 + $1.80 + $3.00 = $7.20
Campaign_Sales_proj = $7.50 + $5.00 + $10.00 = $22.50
Campaign_ACOS_proj = $7.20 / $22.50 = 32%{noformat}

----

*Output per keyword:*

* Search_Volume_Daily
* Impressions_proj
* Clicks_proj
* Spend_proj
* Sales_proj
* ACOS_proj

*Output per tag:*

* Campaign_Spend_proj
* Campaign_Sales_proj
* Campaign_ACOS_proj

h1. Connected Work Items

Check ""*Linked work Items*"" section.

h1. Implementation Notes

*Data sources:*

||Data Point||Source||
|Search_Volume_Monthly|Jungle Scout API|
|IS_estimate|PROD-2241|
|CTR_estimate|PROD-2226|
|CVR_estimate|PROD-2340 (bid optimization CVR by targeting type)|
|Bid|KCâ€™s Internal DB / Amazon Amazonâ€™s Ads API (Last bid pushed to Amazon)|
|CPC_estimate|Amazon Ads API|
|ASIN_Price|Amazon API / Scrapper / 3rd party tools|

*Missing data handling:*

* Missing Search_Volume_Monthly â†’ Skip keyword (cannot project)
* Missing CPC_estimate â†’ Use Bid as CPC_estimate
* Sales_proj = 0 â†’ ACOS_proj = null
* Tag_Sales_proj = 0 â†’ Tag_ACOS_proj = null

*Edge cases:*

* CTR_estimate = 0 â†’ Clicks_proj = 0, Spend_proj = 0, Sales_proj = 0
* CVR_estimate = 0 â†’ Sales_proj = 0, ACOS_proj = null
* Empty tag (no keywords) â†’ All tag outputs = 0 or null

h1. Out of Scope

* Confidence adjustments (separate sub-task, applied at tag level)

h1. Acceptance Criteria

* [ ] All inputs ingested from respective sources
* [ ] Search_Volume_Daily calculated as monthly / 30
* [ ] Impressions_proj = Search_Volume_Daily Ã— IS_estimate
* [ ] Clicks_proj = Impressions_proj Ã— CTR_estimate
* [ ] Spend_proj = Clicks_proj Ã— CPC_estimate
* [ ] Sales_proj = Clicks_proj Ã— CVR_estimate Ã— ASIN_Price
* [ ] ACOS_proj = Spend_proj / Sales_proj (null if Sales_proj = 0)
* [ ] Tag_Spend_proj = Î£ keyword Spend_proj
* [ ] Tag_Sales_proj = Î£ keyword Sales_proj
* [ ] Tag_ACOS_proj = Tag_Spend_proj / Tag_Sales_proj
* [ ] Missing data handling implemented
* [ ] All projection values returned per keyword and per tag

cc: [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] ",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,PROD-2340,PROD-2226,PROD-2241,,PROD-2269,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@25fdfe66,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00ilb:,,,,S15: Dec 29 - Jan 11,,,29/Dec/25 12:00 AM,,,,,,,,,,,,3_*:*_1_*:*_92392425_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_952439129_*|*_10003_*:*_2_*:*_759804406,19/Dec/25 11:24 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] This ticket is ready for review.,,,,,,,,,,17712,PROD-1494,Implement Ad Spend & Ad Sales Projection Engine for KW Groups,Done,07/Jan/26 2:12 AM
Implement IS Calculation Logic,PROD-2241,22952,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,17/Dec/25 4:50 AM,15/Jan/26 4:19 AM,,08/Jan/26 9:49 AM,, [Advertising] [v2] -[February 1st Release],12/Jan/26 12:00 AM,0,,,"h1. Problem / Context

Impression Share (IS) determines how many impressions a keyword will receive relative to total available impressions. The four component scores (Relevancy, Difficulty, Performance, Bid Competitiveness) have been calculated separately and need to be combined into a single IS estimate.

Without the IS Heuristic Integration, we cannot estimate impressions, which blocks the entire projection pipeline.

h1. Solution Outline

*Inputs (from prior sub-tasks):*

||Component||Source||Weight||
|Bid_Competitiveness_Score|PROD-2240|0.50|
|Relevancy_Score|PROD-2232|0.20|
|Performance_Score|PROD-2239|0.20|
|Difficulty_Score|PROD-2238|0.10|

All component scores are 0-1 (higher = better).

----

*Calculate IS_estimate directly (weighted average with floor)*

{noformat}IS_estimate = (0.50 Ã— Bid_Competitiveness_Score) + 
              (0.15 Ã— Relevancy_Score) + 
              (0.15 Ã— Performance_Score) + 
              (0.10 Ã— Difficulty_Score)

IS_estimate = max(0.05, IS_estimate){noformat}

Result: 5% to 100%

----

*Examples:*

||Bid_Competitiveness||Relevancy||Performance||Difficulty||IS_estimate||
|0.90|0.80|0.70|0.60|83%|
|0.75|0.60|0.50|0.40|58%|
|0.30|0.50|0.40|0.30|32%|
|1.00|1.00|1.00|1.00|100%|

----

*Output per keyword:*

* IS_estimate (0.05 - 1.00)
* Bid_Competitiveness_Score (0-1)
* Relevancy_Score (0-1)
* Performance_Score (0-1)
* Difficulty_Score (0-1)

h1. Connected Work Items

Check ""*Linked work Items*"" section.

h1. Implementation Notes

*Missing data handling:*

* Missing any component score â†’ Use 0.5 (neutral) for that component
* All components missing â†’ Use IS_estimate = 0.50 (mid-point)

*Configurable parameters:*

* Component weights (default: Bid_Competitiveness 0.50, Relevancy 0.20, Performance 0.20, Difficulty 0.10)
* Min_IS floor (default: 0.05)

h1. Out of Scope

* Individual component score calculations (separate sub-tasks)
* Spend & Sales projection pipeline (separate sub-task)
* Confidence adjustments (separate sub-task)

h1. Acceptance Criteria

* [ ] All four component scores ingested from respective sub-tasks
* [ ] Weighted average calculated with weights: Bid_Competitiveness 0.50, Relevancy 0.20, Performance 0.20, Difficulty 0.10
* [ ] Floor applied: IS_estimate = max(0.05, IS_estimate)
* [ ] Final IS_estimate bounded between 5% and 100%
* [ ] Missing data handling implemented (default to 0.5)
* [ ] All component values returned for transparency
* [ ] Weights and floor are configurable for future tuning",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,Hubstaff project: PORTAL/SAAS;08/Jan/26 10:13 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;8820,,,,,,,,,,14400,5580,8820,61%,14400,5580,8820,,PROD-2238,PROD-2232,PROD-2239,PROD-2240,PROD-2242,,,,,,,,,,,,05/Jan/26 2:15 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;screen.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/16930,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@3d49fb29,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00il3:,,,,S15: Dec 29 - Jan 11,,,29/Dec/25 12:00 AM,,,,,,,,,,,2026-01-05 10:15:54.459,3_*:*_1_*:*_92392827_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_952705019_*|*_10003_*:*_2_*:*_759843775,18/Dec/25 10:56 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] This ticketâ€™s now ready for review.,"05/Jan/26 2:15 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07]Please tell me if this is a mistake?

!screen.png|width=505,alt=""screen.png""!


",05/Jan/26 7:40 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] Thanks for noticing and bringing up. Iâ€™ve made the revision. Check now.,,,,,,,,17712,PROD-1494,Implement Ad Spend & Ad Sales Projection Engine for KW Groups,Done,07/Jan/26 2:12 AM
Implement Bid Competitiveness Score Calculation Logic (IS Prerequisite # 4),PROD-2240,22950,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,17/Dec/25 4:41 AM,15/Jan/26 4:19 AM,,08/Jan/26 9:49 AM,, [Advertising] [v2] -[February 1st Release],12/Jan/26 12:00 AM,0,,,"h1. Problem / Context

Competitive Score is one of four components used to estimate Impression Share (IS). It measures how competitive our bid is relative to the suggested bid for a keyword.

Higher bids relative to suggested bid increase likelihood of winning auctions and receiving impressions.

Without a standardized Competitive Score, the IS heuristic cannot account for bid competitiveness.

h1. Solution Outline

*Inputs:*

||Data Point||Source||
|Our_Bid|KCâ€™s Internal DB/Amazon Ad API (Last Bid sent to Amazon)|
|Suggested_Bid or CPC_Estimate|Amazon Ad API|

----

*Step 1: Calculate Bid Ratio*

{noformat}Bid_Ratio = Our_Bid / Suggested_Bid{noformat}

----

*Step 2: Map Bid Ratio to Competitive Score (0-1)*

||Bid Ratio||Competitive_Score||Label||
|< 0.5|0.30|Very low|
|0.5 - 0.8|0.50|Low|
|0.8 - 1.0|0.75|Competitive|
|1.0 - 1.5|0.90|Strong|
|â‰¥ 1.5|1.00|Very strong|

----

*Examples:*

||Our_Bid||Suggested_Bid||Bid_Ratio||Competitive_Score||
|$0.30|$1.00|0.30|0.30|
|$0.60|$1.00|0.60|0.50|
|$0.90|$1.00|0.90|0.75|
|$1.20|$1.00|1.20|0.90|
|$1.80|$1.00|1.80|1.00|

----

*Output per keyword:*

* Competitive_Score (0-1)
* Bid_Ratio
* Our_Bid
* Suggested_Bid

h1. Connected Work Items

Check ""*Linked work Items*"" section.

h1. Implementation Notes

*Data sources:*

||Data Point||Source||
|Our_Bid|KCâ€™s Internal DB/Amazon Ad API (Last Bid sent to Amazon)|
|Suggested_Bid or CPC_Estimate|Amazon Ad API|

*Missing data handling:*

* Missing Suggested_Bid â†’ Use Competitive_Score = 0.5 (neutral)
* Missing Our_Bid â†’ Use Competitive_Score = 0.5 (neutral)

*Edge cases:*

* Suggested_Bid = 0 â†’ Use Competitive_Score = 0.5 (neutral)

h1. Out of Scope

* Relevancy Score calculation (separate sub-task)
* Difficulty Score calculation (separate sub-task)
* Performance Score calculation (separate sub-task)
* IS Heuristic integration (separate sub-task)

h1. Acceptance Criteria

* [ ] Our_Bid ingested from KCâ€™s Internal DB/Amazon Ad API (Last Bid sent to Amazon)
* [ ] Suggested_Bid ingested from Amazon Ads API
* [ ] Bid_Ratio calculated as Our_Bid / Suggested_Bid
* [ ] Bid_Ratio mapped to Competitive_Score using defined brackets
* [ ] Final score 0-1 (higher = more competitive bid)
* [ ] Missing data handling implemented (default to 0.5)
* [ ] All component values returned for transparency
* [ ] Bracket thresholds are configurable for future tuning",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Hubstaff project: PORTAL/SAAS;08/Jan/26 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3480,Hubstaff project: PORTAL/SAAS;08/Jan/26 10:13 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;4140,Hubstaff project: PORTAL/SAAS;08/Jan/26 10:13 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;10740,,,,,,,,18000,0,18360,102%,18000,0,18360,,PROD-2222,,,,PROD-2241,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@4d1d5151,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00ikv:,,,,S15: Dec 29 - Jan 11,,,29/Dec/25 12:00 AM,,,,,,,,,,,,3_*:*_1_*:*_92393634_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_953175238_*|*_10003_*:*_2_*:*_759902106,18/Dec/25 10:46 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] [~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] This ticketâ€™s now ready for review.,,,,,,,,,,17712,PROD-1494,Implement Ad Spend & Ad Sales Projection Engine for KW Groups,Done,07/Jan/26 2:12 AM
Implement Performance Score Calculation Logic (IS Prerequisite # 3),PROD-2239,22948,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,17/Dec/25 4:36 AM,15/Jan/26 4:19 AM,,08/Jan/26 9:49 AM,, [Advertising] [v2] -[February 1st Release],12/Jan/26 12:00 AM,0,,,"h1. Problem / Context

Performance Score is one of four components used to estimate Impression Share (IS). It measures expected click and conversion performance for a keyword, using CTR and CVR estimates from the waterfall models.

Keywords with higher expected CTR and CVR signal better ad quality and relevance, which Amazon's algorithm rewards with better impression share.

Without a standardized Performance Score, the IS heuristic cannot account for ad quality signals.

h1. Solution Outline

*2 Inputs:*

||Data Point||Source||Weight||
|CTR_estimate|CTR Waterfall Model (PROD-2226)|0.50|
|CVR_estimate|Existing CVR Waterfall Model (PROD-2340)|0.50|

----

*Step 1: Normalize each signal to 0-1*

Normalization is done across all keywords belonging to the same ASIN. Min and Max are calculated from all keyword values for that ASIN.

{noformat}Min_CTR = minimum CTR_estimate across all keywords for this ASIN
Max_CTR = maximum CTR_estimate across all keywords for this ASIN

Norm_CTR = (CTR_estimate - Min_CTR) / (Max_CTR - Min_CTR){noformat}

{noformat}Min_CVR = minimum CVR_estimate across all keywords for this ASIN
Max_CVR = maximum CVR_estimate across all keywords for this ASIN

Norm_CVR = (CVR_estimate - Min_CVR) / (Max_CVR - Min_CVR){noformat}

----

*Step 2: Calculate weighted Performance Score (0-1)*

{noformat}Performance_Score = (0.50 Ã— Norm_CTR) + (0.50 Ã— Norm_CVR){noformat}

Result: 0 (lowest performer) to 1 (highest performer)

----

*Full Example:*

{noformat}Keyword pool for ASIN has:
- CTR_estimate: min=0.002, max=0.010
- CVR_estimate: min=0.05, max=0.15

Keyword X values:
- CTR_estimate: 0.006
- CVR_estimate: 0.10

Step 1: Normalize each (0-1)
- Norm_CTR = (0.006 - 0.002) / (0.010 - 0.002) = 0.004 / 0.008 = 0.50
- Norm_CVR = (0.10 - 0.05) / (0.15 - 0.05) = 0.05 / 0.10 = 0.50

Step 2: Weighted average
Performance_Score = (0.50 Ã— 0.50) + (0.50 Ã— 0.50)
                  = 0.25 + 0.25
                  = 0.50{noformat}

----

*Output per keyword:*

* Performance_Score (0-1)
* Norm_CTR (0-1)
* Norm_CVR (0-1)
* CTR_estimate raw
* CVR_estimate raw

h1. Connected Work Items

Check ""*Linked work Items*"" section.

h1. Implementation Notes

*Data sources:*

||Data Point||Source||
|CTR_estimate|CTR Waterfall Model (PROD-2226)|
|CVR_estimate|Existing CVR Waterfall Model (PROD-2340)|

*Missing data handling:*

* Missing CTR_estimate â†’ Use Norm_CTR = 0.5 (neutral)
* Missing CVR_estimate â†’ Use Norm_CVR = 0.5 (neutral)
* Both missing â†’ Use Performance_Score = 0.5 (neutral)

*Edge cases:*

* All keywords for ASIN have same CTR â†’ Norm_CTR = 0.5 (mid-point)
* All keywords for ASIN have same CVR â†’ Norm_CVR = 0.5 (mid-point)
* Single keyword for ASIN â†’ All normalized = 0.5 (mid-point)
* Max = Min for a signal â†’ Normalized = 0.5 (mid-point)

h1. Out of Scope

* Relevancy Score calculation (separate sub-task)
* Difficulty Score calculation (separate sub-task)
* Bid Score calculation (separate sub-task)
* IS Heuristic integration (separate sub-task)

h1. Acceptance Criteria

* [ ] CTR_estimate ingested from CTR Waterfall Model
* [ ] CVR_estimate ingested from existing CVR Waterfall Model
* [ ] Each signal normalized to 0-1 scale across all keywords for the same ASIN
* [ ] Weighted average calculated with weights: 0.50, 0.50
* [ ] Final score 0-1 (higher = better performer)
* [ ] Missing data handling implemented (default to 0.5)
* [ ] All component values returned for transparency
* [ ] Weights are configurable for future tuning

cc: [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] ",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Hubstaff project: PORTAL/SAAS;08/Jan/26 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3120,Hubstaff project: PORTAL/SAAS;08/Jan/26 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;2340,Hubstaff project: PORTAL/SAAS;08/Jan/26 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;900,,,,,,,,21600,15240,6360,29%,21600,15240,6360,,PROD-2226,PROD-2340,PROD-2222,,PROD-2241,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5bfeb540,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00ikn:,,,,S15: Dec 29 - Jan 11,,,29/Dec/25 12:00 AM,,,,,,,,,,,,10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_953327046_*|*_10003_*:*_2_*:*_760013461,18/Dec/25 10:39 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] [~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] This ticketâ€™s now ready for review.,,,,,,,,,,17712,PROD-1494,Implement Ad Spend & Ad Sales Projection Engine for KW Groups,Done,06/Jan/26 12:32 AM
Implement Difficulty Score Calculation Logic (IS Prerequisite # 2),PROD-2238,22946,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,17/Dec/25 4:34 AM,15/Jan/26 4:19 AM,,08/Jan/26 9:49 AM,, [Advertising] [v2] -[February 1st Release],12/Jan/26 12:00 AM,0,,,"h1. Problem / Context

Difficulty Score is one of four components used to estimate Impression Share (IS). It measures how competitive a keyword is based on market signals from Jungle Scout.

Without a standardized Difficulty Score, the IS heuristic cannot account for competitive landscape, leading to overestimated impressions on highly competitive keywords.

h1. Solution Outline

*4 Inputs from Jungle Scout API:*

||Data Point||Direction||Weight||
|recommended_promotions|Lower = easier|0.25|
|organic_product_count|Lower = easier|0.25|
|sponsored_product_count|Lower = easier|0.30|
|ease_of_ranking_score|Higher = easier|0.20|

----

*Step 1: Normalize each signal to 0-1*

Normalization is done across all keywords belonging to the same ASIN. Min and Max are calculated from all keyword values for that ASIN.

For ""lower is better"" signals (invert so lower raw = higher score):

{noformat}Min = minimum value of signal across all keywords for this ASIN
Max = maximum value of signal across all keywords for this ASIN

Norm_Signal = 1 - [(Value - Min) / (Max - Min)]{noformat}

For ""higher is better"" signals (direct):

{noformat}Min = minimum value of signal across all keywords for this ASIN
Max = maximum value of signal across all keywords for this ASIN

Norm_Signal = (Value - Min) / (Max - Min){noformat}

----

*Step 2: Calculate weighted Difficulty Score (0-1)*

{noformat}Difficulty_Score = 
    (0.25 Ã— Norm_Recommended_Promotions) +
    (0.25 Ã— Norm_Organic_Product_Count) +
    (0.30 Ã— Norm_Sponsored_Product_Count) +
    (0.20 Ã— Norm_Ease_Of_Ranking){noformat}

Result: 0 (hardest) to 1 (easiest)

----

*Full Example:*

{noformat}Keyword pool for ASIN has:
- recommended_promotions: min=50, max=200
- organic_product_count: min=500, max=2000
- sponsored_product_count: min=20, max=80
- ease_of_ranking_score: min=2, max=8

Keyword X values:
- recommended_promotions: 100
- organic_product_count: 1000
- sponsored_product_count: 50
- ease_of_ranking_score: 5

Step 1: Normalize each (0-1)
- Norm_Rec_Promos = 1 - (50/150) = 0.67
- Norm_Organic = 1 - (500/1500) = 0.67
- Norm_Sponsored = 1 - (30/60) = 0.50
- Norm_Ease = 3/6 = 0.50

Step 2: Weighted average
Difficulty_Score = (0.25 Ã— 0.67) + (0.25 Ã— 0.67) + (0.30 Ã— 0.50) + (0.20 Ã— 0.50)
                 = 0.167 + 0.167 + 0.15 + 0.10
                 = 0.58{noformat}

----

*Output per keyword:*

* Difficulty_Score (0-1, higher = easier)
* Norm_Recommended_Promotions (0-1)
* Norm_Organic_Product_Count (0-1)
* Norm_Sponsored_Product_Count (0-1)
* Norm_Ease_Of_Ranking (0-1)
* Raw values from JS API

h1. Connected Work Items

Check ""*Linked work Items*"" section.

h1. Implementation Notes

*Data sources:*

||Data Point||Source||
|recommended_promotions|Jungle Scout API|
|organic_product_count|Jungle Scout API|
|sponsored_product_count|Jungle Scout API|
|ease_of_ranking_score|Jungle Scout API|

*Missing data handling:*

* Missing any JS signal â†’ Exclude from calculation, re-weight remaining to sum to 1.0
* All JS signals missing â†’ Use default Difficulty_Score = 0.5

*Edge cases:*

* All keywords for ASIN have same value for a signal â†’ Normalized = 0.5 (mid-point)
* Single keyword for ASIN â†’ All normalized = 0.5 (mid-point)
* Max = Min for a signal â†’ Normalized = 0.5 (mid-point)

h1. Out of Scope

* Relevancy Score calculation (separate sub-task)
* Performance Score calculation (separate sub-task)
* Bid Score calculation (separate sub-task)
* IS Heuristic integration (separate sub-task)

h1. Acceptance Criteria

* [ ] Four JS signals ingested: recommended_promotions, organic_product_count, sponsored_product_count, ease_of_ranking_score
* [ ] Each signal normalized to 0-1 scale across all keywords for the same ASIN
* [ ] ""Lower is better"" signals inverted (1 - normalized)
* [ ] ""Higher is better"" signals used directly
* [ ] Weighted average calculated with weights: 0.25, 0.25, 0.30, 0.20
* [ ] Final score 0-1 (higher = easier)
* [ ] Missing data handling implemented with re-weighting
* [ ] All component values returned for transparency
* [ ] Weights are configurable for future tuning

cc: [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] ",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Hubstaff project: PORTAL/SAAS;07/Jan/26 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3900,Hubstaff project: PORTAL/SAAS;08/Jan/26 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;11520,,,,,,,,,14400,0,15420,107%,14400,0,15420,,PROD-2222,,,,PROD-2241,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@726ef480,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00ikf:,,,,S15: Dec 29 - Jan 11,,,29/Dec/25 12:00 AM,,,,,,,,,,,,10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_953398692_*|*_10003_*:*_2_*:*_760066966,18/Dec/25 10:34 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] [~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] This ticketâ€™s now ready for review.,,,,,,,,,,17712,PROD-1494,Implement Ad Spend & Ad Sales Projection Engine for KW Groups,Done,06/Jan/26 12:32 AM
Implement Relevancy Score Calculation Logic (IS Prerequisite # 1),PROD-2232,22934,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,17/Dec/25 4:20 AM,15/Jan/26 4:19 AM,,08/Jan/26 9:49 AM,, [Advertising] [v2] -[February 1st Release],12/Jan/26 12:00 AM,0,,,"h1. Problem / Context

Relevancy Score is one of four components used to estimate Impression Share (IS). It measures how well a keyword matches the advertised product, combining semantic similarity, our internal tag-based relevancy system, and Jungle Scout's relevancy signal.

Without a standardized Relevancy Score, the IS heuristic cannot account for keyword-product fit, leading to inaccurate impression projections.

h1. Solution Outline

*Three inputs combined:*

||Source||Weight||Range||Description||
|Semantic Relevancy|40%|0 - 100|Cosine similarity from embedding model (PROD-2342)|
|Tag-Based Relevancy|35%|0.10 - 1.00|Internal formula based on tag|
|JS Relevancy Score|25%|0 - 100|Jungle Scout relevancy_score|

----

*Semantic Relevancy (from PROD-2342):*

Pre-computed cosine similarity between product listing embedding and keyword embedding. Stored per ASIN-keyword pair.

{noformat}Semantic_Relevancy_Norm = Semantic_Relevancy_Score / 100{noformat}

----

*Tag-Based Relevancy Calculation:*

Base scores by Brand Ã— Type:

|| ||R (Relevant)||S (Substitute)||C (Complement)||
|OB (Own Brand)|1.00|0.85|0.70|
|NB (Non-Brand)|0.75|0.45|0.35|
|CB (Competitor Brand)|0.50|0.35|0.25|

For R types with tiers:

{noformat}Tag_Relevancy = Base - (Tier - 1) Ã— 0.02
Floor at 0.10{noformat}

*Examples:*

* OBR1 = 1.00
* OBR5 = 1.00 - (4 Ã— 0.02) = 0.92
* NBR1 = 0.75
* NBR15 = 0.75 - (14 Ã— 0.02) = 0.47
* CBR1 = 0.50
* CBR5 = 0.50 - (4 Ã— 0.02) = 0.42
* NBS = 0.45 (no tiers for S/C types)
* CBC = 0.25

----

*JS Relevancy Normalization (to 0-1):*

{noformat}JS_Relevancy_Norm = JS_Relevancy_Score / 100{noformat}

||JS Score||Normalized||
|0|0.00|
|50|0.50|
|75|0.75|
|100|1.00|

----

*Match Type Modifier:*

Match type affects how closely the keyword matches actual search queries:

||Match Type||Modifier||Rationale||
|Exact|1.00|Query must match exactly â€” highest relevancy|
|Phrase|0.85|Query contains the phrase â€” strong relevancy|
|Broad|0.70|Loosest match â€” lower relevancy|

----

*Combined Relevancy Score:*

{noformat}Relevancy_Score = [(0.40 Ã— Semantic_Relevancy_Norm) + (0.35 Ã— Tag_Relevancy) + (0.25 Ã— JS_Relevancy_Norm)] Ã— Match_Type_Modifier{noformat}

*Example with all three inputs:*

{noformat}Tag: NBR3
Tag_Relevancy = 0.75 - (2 Ã— 0.02) = 0.71

JS Relevancy Score: 70
JS_Relevancy_Norm = 70 / 100 = 0.70

Semantic Relevancy Score: 82
Semantic_Relevancy_Norm = 82 / 100 = 0.82

Match Type: Phrase
Match_Type_Modifier = 0.85

Relevancy_Score = [(0.40 Ã— 0.82) + (0.35 Ã— 0.71) + (0.25 Ã— 0.70)] Ã— 0.85
                = [0.328 + 0.249 + 0.175] Ã— 0.85
                = 0.752 Ã— 0.85
                = 0.64{noformat}

----

*Output per keyword:*

* Relevancy_Score (0-1)
* Semantic_Relevancy_Norm (0-1)
* Tag_Relevancy (0.10-1.00)
* JS_Relevancy_Norm (0-1)
* Match_Type_Modifier (0.70-1.00)
* Tag used
* JS_Relevancy_Score raw
* Semantic_Relevancy_Score raw

h1. Connected Work Items

*Is Part Of:* [PROD-1494|https://keplercommerce.atlassian.net/browse/PROD-1494]
*Is Blocked By:* [PROD-2342|https://keplercommerce.atlassian.net/browse/PROD-2342] (Semantic Relevancy Computation)
*Blocks:* IS Heuristic Integration

h1. Implementation Notes

*Data sources:*

||Data Point||Source||
|Semantic Relevancy Score|PROD-2342 (pre-computed, stored in DB)|
|Tag|Internal segregation logic|
|JS Relevancy Score|Jungle Scout API|
|Match Type|Keyword/target metadata|

*Missing data handling:*

* Missing Semantic Relevancy â†’ Redistribute weight: (0.55 Ã— Tag) + (0.45 Ã— JS)
* Missing JS Relevancy â†’ Redistribute weight: (0.55 Ã— Semantic) + (0.45 Ã— Tag)
* Missing Tag â†’ Redistribute weight: (0.60 Ã— Semantic) + (0.40 Ã— JS)
* All three missing â†’ Use default 0.5
* Missing Match Type â†’ Default to Broad (0.70) as conservative estimate

*Edge cases:*

* Tag tier > 50 â†’ Floor at 0.10
* JS Relevancy Score outside 0-100 â†’ Clamp to range
* Semantic Relevancy Score outside 0-100 â†’ Clamp to range

h1. Out of Scope

* Difficulty Score calculation (separate sub-task)
* Performance Score calculation (separate sub-task)
* Bid Score calculation (separate sub-task)
* IS Heuristic integration (separate sub-task)
* Semantic Relevancy computation (PROD-2342)

h1. Acceptance Criteria

* [ ] Semantic Relevancy Score fetched from DB (PROD-2342 output)
* [ ] Tag-Based Relevancy calculated using brand Ã— type base scores
* [ ] Tier decay applied: Base - (Tier - 1) Ã— 0.02, floor 0.10
* [ ] JS Relevancy Score normalized to 0-1 scale (divide by 100)
* [ ] Match Type Modifier applied: Exact=1.00, Phrase=0.85, Broad=0.70
* [ ] Combined score: [(0.40 Ã— Semantic) + (0.35 Ã— Tag) + (0.25 Ã— JS)] Ã— Match_Type_Modifier
* [ ] Missing data handling implemented with weight redistribution
* [ ] All component values returned for transparency
* [ ] Weights are configurable for future tuning",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Hubstaff project: PORTAL/SAAS;29/Dec/25 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;5280,,,,,,,,,,21600,16320,5280,24%,21600,16320,5280,,PROD-2342,PROD-2222,,,PROD-2241,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@48df9381,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00ij3:,,,,S15: Dec 29 - Jan 11,,,29/Dec/25 12:00 AM,,,,,,,,,,,,10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_953480307_*|*_10003_*:*_2_*:*_760846022,18/Dec/25 10:29 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] [~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] This ticketâ€™s now ready for review.,,,,,,,,,,17712,PROD-1494,Implement Ad Spend & Ad Sales Projection Engine for KW Groups,Done,06/Jan/26 12:32 AM
Create CTR Waterfall Model to estimate the CTR,PROD-2226,22829,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,16/Dec/25 11:41 AM,15/Jan/26 4:19 AM,,08/Jan/26 9:49 AM,, [Advertising] [v2] -[February 1st Release],12/Jan/26 12:00 AM,0,,,"h1. Problem / Context

Click-Through Rate (CTR) estimation is required to project clicks from impressions. Currently, no CTR estimation model exists. The existing CVR waterfall model provides a proven pattern that can be replicated for CTR.

CTR behavior varies significantly by targeting type (Manual Keyword, Auto, ASIN Targeting), so the waterfall logic must be split into three separate paths with appropriate aggregation levels for each.

Without CTR estimates, the projection pipeline cannot calculate clicks, which breaks the entire spend/sales projection chain.

h1. Solution Outline

*Data Threshold (applies to all levels):*

{noformat}Use data if: (Impressions â‰¥ 50 AND Clicks â‰¥ 1) OR (Impressions > 100){noformat}

*CTR Ceiling:* 10% (0.10) - cap all estimates to avoid outlier distortion

*Aggregation Method:* Impression-weighted average

{noformat}Aggregated_CTR = Î£(Clicks_i) / Î£(Impressions_i){noformat}

----

h3. Path 1A: Manual Keyword Targeting - Exact Match

||Level||Aggregation||Confidence||
|1|ASIN + Search Term|1.0|
|2|ASIN + Tag (impression-weighted avg of Exact KWs in tag)|0.8|
|3|ASIN|0.6|
|4|Default (Exact)|0.2|

----

h3. Path 1B: Manual Keyword Targeting - Broad / Phrase Match

||Level||Aggregation||Confidence||
|1|ASIN + Keyword + Match Type|1.0|
|2|ASIN + Tag + Match Type (impression-weighted avg of KWs in tag with same MT)|0.8|
|3|ASIN + Match Type|0.6|
|4|ASIN|0.5|
|5|Default (Broad/Phrase)|0.2|

----

h3. Path 2: Auto Targeting

||Level||Aggregation||Confidence||
|1|ASIN + Auto Match Type|1.0|
|2|ASIN|0.6|
|3|Default (Auto)|0.2|

Where Auto Match Type = Close Match, Loose Match, Substitute, Complement

----

h3. Path 3: ASIN Targeting

||Level||Aggregation||Confidence||
|1|ASIN + Target ASIN|1.0|
|2|ASIN + Aggregate of Campaign ASINs (impression-weighted avg) Campaign ASIN = Targets in the campaign|0.7|
|3|ASIN|0.5|
|4|Default (ASIN Targeting)|0.2|

----

*Waterfall Selection Logic:*

{noformat}Determine targeting type:

If Manual Keyword Targeting:
    If Match Type = Exact:
        â†’ Use Path 1A
    Else (Broad or Phrase):
        â†’ Use Path 1B

Else If Auto Targeting:
    â†’ Use Path 2

Else If ASIN Targeting:
    â†’ Use Path 3{noformat}

*Output per keyword/target:*

* CTR_estimate (decimal, capped at 0.10)
* Waterfall_path (1A, 1B, 2, 3)
* Waterfall_level (1-5)
* CTR_confidence (mapped from level)
* Sample_size (impressions used)

h1. Connected Work Items

Check ""*Linked work Items*"" section.

h1. Implementation Notes

*Impression-weighted average formula:*

{noformat}Aggregated_CTR = Î£(Clicks_i) / Î£(Impressions_i){noformat}

Example:

||Keyword||Impressions||Clicks||CTR||
|KW1|500|3|0.6%|
|KW2|50|1|2.0%|
|KW3|200|1|0.5%|

Simple average: (0.6 + 2.0 + 0.5) / 3 = 1.03%  
Impression-weighted: (3 + 1 + 1) / (500 + 50 + 200) = 5 / 750 = *0.67%*

*Default CTR values:*

||Targeting Type||Match Type||Default CTR||
|Manual|Exact|0.004 (0.4%)|
|Manual|Phrase|0.003 (0.3%)|
|Manual|Broad|0.002 (0.2%)|
|Auto|Close Match|0.003 (0.3%)|
|Auto|Loose Match|0.002 (0.2%)|
|Auto|Substitute|0.002 (0.2%)|
|Auto|Complement|0.0015 (0.15%)|
|ASIN Targeting|â€”|0.002 (0.2%)|

*Data recency:*

Cascading time windows with strong threshold (â‰¥5 clicks), then weak fallback (â‰¥1 click):

{noformat}For each aggregation level:

    # Strong threshold: â‰¥5 clicks
    If 3-day data meets (Impressions â‰¥ 50 AND Clicks â‰¥ 5) OR (Impressions > 100):
        â†’ Use 3-day CTR
    
    Else if 7-day data meets (Impressions â‰¥ 50 AND Clicks â‰¥ 5) OR (Impressions > 100):
        â†’ Use 7-day CTR
    
    Else if 15-day data meets (Impressions â‰¥ 50 AND Clicks â‰¥ 5) OR (Impressions > 100):
        â†’ Use 15-day CTR
    
    Else if 30-day data meets (Impressions â‰¥ 50 AND Clicks â‰¥ 5) OR (Impressions > 100):
        â†’ Use 30-day CTR
    
    Else if 60-day data meets (Impressions â‰¥ 50 AND Clicks â‰¥ 5) OR (Impressions > 100):
        â†’ Use 60-day CTR
    
    Else if 90-day data meets (Impressions â‰¥ 50 AND Clicks â‰¥ 5) OR (Impressions > 100):
        â†’ Use 90-day CTR
    
    Else if 180-day data meets (Impressions â‰¥ 50 AND Clicks â‰¥ 5) OR (Impressions > 100):
        â†’ Use 180-day CTR
    
    # Weak threshold fallback: â‰¥1 click (180 days only)
    Else if 180-day data meets (Impressions â‰¥ 50 AND Clicks â‰¥ 1) OR (Impressions > 100):
        â†’ Use 180-day CTR
    
    Else:
        â†’ Fall to next waterfall level{noformat}

||Window||Threshold||
|3 days|(â‰¥50 imp AND â‰¥5 clicks) OR >100 imp|
|7 days|(â‰¥50 imp AND â‰¥5 clicks) OR >100 imp|
|15 days|(â‰¥50 imp AND â‰¥5 clicks) OR >100 imp|
|30 days|(â‰¥50 imp AND â‰¥5 clicks) OR >100 imp|
|60 days|(â‰¥50 imp AND â‰¥5 clicks) OR >100 imp|
|90 days|(â‰¥50 imp AND â‰¥5 clicks) OR >100 imp|
|180 days|(â‰¥50 imp AND â‰¥5 clicks) OR >100 imp|
|180 days (fallback)|(â‰¥50 imp AND â‰¥1 click) OR >100 imp|
|None met|Fall to next waterfall level|

*Edge cases:*

* New ASINs with zero ad history â†’ Fall to Default
* CTR > 10% from raw data â†’ Cap at 10%

h1. Out of Scope

* Seasonality adjustments (Phase 2)
* ML-based CTR prediction (Phase 2)
* Real-time CTR updates during campaign run

h1. Acceptance Criteria

* [ ] System identifies targeting type (Manual KW, Auto, ASIN Targeting)
* [ ] System selects correct waterfall path based on targeting type
* [ ] *Path 1A (Manual Exact):* Waterfall through ASIN+ST â†’ ASIN+Tag â†’ ASIN â†’ Default
* [ ] *Path 1B (Manual Broad/Phrase):* Waterfall through ASIN+KW+MT â†’ ASIN+Tag+MT â†’ ASIN+MT â†’ ASIN â†’ Default
* [ ] *Path 2 (Auto):* Waterfall through ASIN+AutoMT â†’ ASIN â†’ Default
* [ ] *Path 3 (ASIN Targeting):* Waterfall through ASIN+TargetASIN â†’ ASIN+CampaignASINs â†’ ASIN â†’ Default
* [ ] Data threshold applied: (â‰¥50 imp AND â‰¥5 clicks) OR >100 imp for 3/7/15/30/60/90/180 days
* [ ] Cascading time windows implemented: 3 â†’ 7 â†’ 15 â†’ 30 â†’ 60 â†’ 90 â†’ 180 days
* [ ] Weak fallback threshold (â‰¥1 click) applied for 180-day window only
* [ ] Falls to next waterfall level if no time window meets threshold
* [ ] Aggregation uses impression-weighted average: Î£(Clicks) / Î£(Impressions)
* [ ] CTR estimates capped at 10% (0.10)
* [ ] CTR estimate returned as decimal value
* [ ] Waterfall path and level returned for debugging
* [ ] Confidence score returned based on waterfall level
* [ ] Sample size (impressions) returned for transparency
* [ ] Default CTR values configurable per targeting/match type combination

cc: [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] ",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,Hubstaff project: PORTAL/SAAS;06/Jan/26 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;4020,Hubstaff project: PORTAL/SAAS;06/Jan/26 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;1020,Hubstaff project: PORTAL/SAAS;06/Jan/26 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;1200,Hubstaff project: PORTAL/SAAS;07/Jan/26 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;7140,,,,,,,21600,8220,13380,61%,21600,8220,13380,,,,,,PROD-2222,PROD-2239,PROD-2242,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@10032562,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00ihr:,,,,S15: Dec 29 - Jan 11,,,29/Dec/25 12:00 AM,,,,,,,,,,,2026-01-05 11:05:14.228,3_*:*_1_*:*_3536944_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_1011598091_*|*_10003_*:*_2_*:*_759101723,18/Dec/25 8:54 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] This ticketâ€™s now ready for review.,"05/Jan/26 3:05 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] I don't understand these two places:
*â€Use data if: (Impressions â‰¥ 50 AND Clicks â‰¥ 1) OR (Impressions > 100)â€*
*â€[ ] Data threshold applied: (â‰¥50 imp AND â‰¥5 clicks) OR >100 imp for 3/7/15/30/60/90/180 daysâ€*","05/Jan/26 9:08 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] Since weâ€™re referencing the historical CTR right so the question is what timeframe or lookback period we shall reference?

We prefer using the recent CTR but wanna make sure we have enough data in recent period. I wanna use my yesterday's CTR data as my projection for tomorrow if there was like 50-100 impressions but if I just got 1 impression yesterday should I use this data still? No



So we start with last 3d data and check if meets the criteria defined â€œ *(Impressions â‰¥ 50 AND Clicks â‰¥ 1) OR (Impressions > 100)*â€. If it meets the criteria it means the recent data has enough data for us to rely on this and use this for projection. If the criteria is not met then we go for a longer time range i.e. 7d and then again check criteria and we keep on going towards longer time range until we see the criteria is being met.



Weâ€™re balancing Recency with quality of data where quality is determine by the quantity of data.",,,,,,,,17712,PROD-1494,Implement Ad Spend & Ad Sales Projection Engine for KW Groups,Done,06/Jan/26 12:32 AM
Data Requirements & Schema for Projections,PROD-2222,22791,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,16/Dec/25 9:28 AM,15/Jan/26 4:19 AM,,08/Jan/26 9:49 AM,, [Advertising] [v2] -[February 1st Release],12/Jan/26 12:00 AM,0,,,"h1. Problem / Context

The projection engine chains multiple estimation components (CVR, CTR, Impression Share) to produce spend and sales projections per keyword. These projections are then aggregated to the campaign level and fed into the knapsack optimizer for campaign activation decisions.

Multiple inputs are required from upstream systems and new components being built. Without clear data contracts defining inputs, intermediate calculations, and outputs, the projection pipeline cannot be implemented consistently or debugged effectively.

This sub-task establishes the foundation for the projection engine by documenting all data requirements and storage schemas.

h1. Solution Outline

*Define required inputs:*

||Input||Source||Granularity||
|Search Volume (monthly)|Jungle Scout|Per keyword|
|CVR estimate|Existing waterfall model
[Model for Manual KW Targeting|https://miro.com/app/board/uXjVJLfHr60=/?share_link_id=218117458862]
[Model for Automatic Targeting|https://miro.com/app/board/uXjVJC-btCA=/?moveToWidget=3458764635392778348&cot=14]  
[Model for ASIN Targeting|https://miro.com/app/board/uXjVJC-btCA=/?moveToWidget=3458764645984734295&cot=14]|Per keyword|
|CVR waterfall level|Existing waterfall model
Find the links to  the models above.|Per keyword|
|CTR estimate|New waterfall model ( [https://keplercommerce.atlassian.net/browse/PROD-2226|https://keplercommerce.atlassian.net/browse/PROD-2226|smart-link] )|Per keyword|
|CTR waterfall level|New waterfall model ( [https://keplercommerce.atlassian.net/browse/PROD-2226|https://keplercommerce.atlassian.net/browse/PROD-2226|smart-link] )|Per keyword|
|IS estimate|Heuristic model ([https://keplercommerce.atlassian.net/browse/PROD-2241|https://keplercommerce.atlassian.net/browse/PROD-2241|smart-link] )|Per keyword|
|Bid amount|KCâ€™s Internal DB / Amazonâ€™s API (Last Bid sent to Amazon)|Per keyword|
|CPC estimate|Amazon Ads API|Per keyword|
|Relevancy Score|Jungle Scout
Source: relevancy_score|Per keyword
but it should be obtained by submitting our competitor ASINs as input via API.|
|Recommended Promotions|Jungle Scout
Source: recommended_promotions|Per keyword|
|Organic Product Count|Jungle Scout
source: organic_product_count|Per keyword|
|Sponsored Product Count|Jungle Scout
source: sponsored_product_count|Per keyword|
|Easy of Ranking Score|Jungle Scout
ease_of_ranking_score|Per keyword|
|ASIN price|Amazon API / Scraper / 3rd Party API|Per ASIN|

*Define intermediate calculations (per keyword):*

{noformat}Search_Volume_Daily = Search_Volume_Monthly / 30
Impressions_proj = Search_Volume_Daily Ã— IS_proj
Clicks_proj = Impressions_proj Ã— CTR_proj
Spend_proj = Clicks_proj Ã— CPC_estimate
Sales_proj = Clicks_proj Ã— CVR_proj Ã— ASIN_Price
ACOS_proj = Spend_proj / Sales_proj (handle div by zero){noformat}

*Define keyword-level output schema:*

||Output||Data Type||Description||
|Search_Volume_Daily|Integer|Daily search volume estimate|
|Impressions_proj|Integer|Projected daily impressions|
|Clicks_proj|Decimal|Projected daily clicks|
|Spend_proj|Currency|Projected daily spend|
|Sales_proj|Currency|Projected daily sales|
|ACOS_proj|Decimal|Projected ACOS (Spend/Sales)|
|CVR_confidence|Decimal (0-1)|Confidence from CVR waterfall level|
|CTR_confidence|Decimal (0-1)|Confidence from CTR waterfall level|

*Define campaign-level output schema:*

||Output||Data Type||Description||
|Campaign_Spend_proj|Currency|Î£ Spend_proj for all keywords in campaign|
|Campaign_Sales_proj|Currency|Î£ Sales_proj for all keywords in campaign|
|Campaign_ACOS_proj|Decimal|Campaign_Spend_proj / Campaign_Sales_proj|

h1. Connected Work Items

âœ… This sub-task must be completed first as it defines the data contract for all projection components.

Check â€œ*Linked work Items*â€ section.

h1. Implementation Notes

*Granularity flow:*

* Projections calculated at keyword level
* Aggregated to campaign level (spend, sales, ACOS only)
* campaign-level projections used for knapsack optimization

*Confidence mapping from waterfall levels:*

* For each waterfall level under each Ad Targeting type, a confidence level has been defined under the ticket [https://keplercommerce.atlassian.net/browse/PROD-2226|https://keplercommerce.atlassian.net/browse/PROD-2226|smart-link] . This confidence level is used to adjust the Projections.

*Edge case handling:*

* Sales_proj = 0 â†’ ACOS_proj = infinity (or flag as undefined)
* Search volume = 0 â†’ Skip keyword (zero contribution)

*Data freshness:*

* Search volume: Monthly refresh acceptable
* CVR/CTR estimates: Real-time from waterfall (For CTR: [https://keplercommerce.atlassian.net/browse/PROD-2226|https://keplercommerce.atlassian.net/browse/PROD-2226|smart-link], [https://keplercommerce.atlassian.net/browse/PROD-2340|https://keplercommerce.atlassian.net/browse/PROD-2340|smart-link] )
* Bids/CPC: (For Bids: KCâ€™s Internal DB / Amazonâ€™s API (Last Bid sent to Amazon), For CPC: Amazon Ads API)

h1. Out of Scope

* Knapsack optimization logic [https://keplercommerce.atlassian.net/browse/PROD-1495|https://keplercommerce.atlassian.net/browse/PROD-1495|smart-link] 
* Seasonality adjustments to search volume 

h1. Acceptance Criteria

* [ ] All required inputs are documented with sources and granularity
* [ ] Intermediate calculation formulas are documented
* [ ] Keyword-level output schema is defined
* [ ] Campaign-level aggregated output schema is defined (Spend, Sales, ACOS)
* [ ] Confidence mapping from waterfall levels is documented
* [ ] Edge case handling is documented (div by zero, missing data)
* [ ] Data freshness requirements are documented
* [ ] Schema supports historical tracking for audit and debugging

cc: [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] ",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Hubstaff project: PORTAL/SAAS;24/Dec/25 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;900,Hubstaff project: PORTAL/SAAS;24/Dec/25 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;2520,Hubstaff project: PORTAL/SAAS;24/Dec/25 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;5040,Hubstaff project: PORTAL/SAAS;01/Jan/26 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;21300,Hubstaff project: PORTAL/SAAS;03/Jan/26 2:45 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;120,,,,,,10800,0,29880,276%,10800,0,29880,,PROD-2226,,,,PROD-2232,PROD-2238,PROD-2239,PROD-2240,PROD-2340,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@178eefde,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00igv:,,,,S15: Dec 29 - Jan 11,,,29/Dec/25 12:00 AM,,,,,,,,,,,,3_*:*_1_*:*_576383895_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_604111946_*|*_10003_*:*_2_*:*_601696731,18/Dec/25 8:27 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] [~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] This ticketâ€™s now ready for review.,,,,,,,,,,17712,PROD-1494,Implement Ad Spend & Ad Sales Projection Engine for KW Groups,Done,06/Jan/26 12:32 AM
Deploy a Weekly Sync Job for Keywords with Incomplete JS Data,PROD-2175,22435,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,15/Dec/25 10:48 AM,15/Jan/26 4:19 AM,,28/Dec/25 11:57 PM,, [Advertising] [v2] -[February 1st Release],29/Dec/25 12:00 AM,0,,,"*CC:* [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] 

----

h1. Problem / Context

Some keywords may have incomplete Jungle Scout data due to API failures, temporary unavailability, or other issues during initial fetch. These keywords will display partial data on the ""Research List"" page.

A periodic process is needed to identify and attempt to fill gaps.

h1. Solution Outline

Implement a scheduled job that runs once every 7 days to:

# Identify keywords with 3 or more missing JS data fields (out of 13)
# Fetch updated data from Jungle Scout {{keywords_by_asin}} endpoint
# Update database with any newly available data

*Fields to check/update:*

||Field||
|{{monthly_search_volume_exact}}|
|{{monthly_search_volume_broad}}|
|{{searched_asins_avg_organic_rank}}|
|{{searched_asins_avg_sponsored_rank}}|
|{{searched_asins_organic_count}}|
|{{searched_asins_sponsored_count}}|
|{{ease_of_ranking_score}}|
|{{relevancy_score}}|
|{{ppc_bid_broad}}|
|{{ppc_bid_exact}}|
|{{sp_brand_ad_bid}}|
|{{recommended_promotions}}|
|{{updated_at}}|

*Trigger:* Scheduled, once every 7 days

*Threshold:* Keywords with 3+ null fields out of 13

*Scope:* Gap-filling only, not stale data refresh

h1. Connected Work Items

*Is Part Of:* [PROD-1129|https://keplercommerce.atlassian.net/browse/PROD-1129]
*Is Blocked By:* [https://keplercommerce.atlassian.net/browse/PROD-2161|https://keplercommerce.atlassian.net/browse/PROD-2161|smart-link] 

 *Relates To:* [PROD-2162|https://keplercommerce.atlassian.net/browse/PROD-2162] (Backfill), [PROD-2163|https://keplercommerce.atlassian.net/browse/PROD-2163] (Auto-fetch), [PROD-2170|https://keplercommerce.atlassian.net/browse/PROD-2170] (JS Extraction)

âœ… This sub-task ensures ongoing data completeness for keywords where initial fetch was incomplete.

h1. Implementation Notes

Key considerations for engineering:

* Schedule: Weekly (every 7 days)
* Query: Identify keywords where 3+ of the 13 JS fields are null
* Batch processing to manage API rate limits
* Logging for tracking success/failure rates
* Do not refresh data that already exists (gap-fill only)

h1. Acceptance Criteria

* [ ] Scheduled job runs once every 7 days
* [ ] Keywords with 3+ missing JS fields identified
* [ ] JS API called to fetch missing data
* [ ] Database updated with newly available data
* [ ] Existing non-null values not overwritten
* [ ] Job execution logged for monitoring
* [ ] Unit/integration tests passed
* [ ] Code reviewed and merged",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,Hubstaff project: PORTAL/SAAS;23/Dec/25 2:48 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;1380,Hubstaff project: PORTAL/SAAS;23/Dec/25 2:48 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;2280,Hubstaff project: PORTAL/SAAS;24/Dec/25 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;4080,Hubstaff project: PORTAL/SAAS;24/Dec/25 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;1200,,,,,,,7200,0,8940,124%,7200,0,8940,,PROD-2161,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@38568f8a,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i006re:v,,,,S14: Dec 15- Dec 28,,,15/Dec/25 12:00 AM,,,,,,,,,,,2025-12-23 11:37:31.912,3_*:*_1_*:*_94595230_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_170040734_*|*_10003_*:*_2_*:*_400698777,23/Dec/25 3:37 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[https://github.com/KeplerCommerce/portal/pull/488|https://github.com/KeplerCommerce/portal/pull/488|smart-link] ,,,,,,,,,,17001,PROD-1129,v1 Keyword Aggregation & Filtering Engine,Done,23/Dec/25 3:37 AM
Update JS Keyword Extraction to Store All 13 Data Fields,PROD-2170,22425,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,15/Dec/25 10:27 AM,15/Jan/26 4:19 AM,,23/Dec/25 12:15 AM,, [Advertising] [v2] -[February 1st Release],29/Dec/25 12:00 AM,0,,,"*CC:* [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] 

----

h1. Problem / Context

The JS keyword extraction flow may not store all fields returned by the Jungle Scout API. The new columns on the ""Research List"" page require all 13 data fields to be populated.

Without this update, new keywords added through the regular JS extraction process will have incomplete data.

h1. Solution Outline

Update the JS keyword extraction logic to persist all 13 fields from the {{keywords_by_asin}} API response for every new keyword.

*Fields to store:*

||Field||Description||
|{{monthly_search_volume_exact}}|Exact match search volume|
|{{monthly_search_volume_broad}}|Broad match search volume|
|{{searched_asins_avg_organic_rank}}|Avg organic rank across searched ASINs|
|{{searched_asins_avg_sponsored_rank}}|Avg sponsored rank across searched ASINs|
|{{searched_asins_organic_count}}|Count of ASINs with organic rank|
|{{searched_asins_sponsored_count}}|Count of ASINs with sponsored rank|
|{{ease_of_ranking_score}}|Ease of ranking score|
|{{relevancy_score}}|Relevancy score|
|{{ppc_bid_broad}}|PPC bid (broad)|
|{{ppc_bid_exact}}|PPC bid (exact)|
|{{sp_brand_ad_bid}}|SP brand ad bid|
|{{recommended_promotions}}|Recommended promotions|
|{{updated_at}}|Timestamp from JS API|

h1. Connected Work Items

*Is Part Of:* [PROD-1129|https://keplercommerce.atlassian.net/browse/PROD-1129]
*Is Blocked By:* [https://keplercommerce.atlassian.net/browse/PROD-2161|https://keplercommerce.atlassian.net/browse/PROD-2161|smart-link] 


âœ… This sub-task ensures new keywords from the regular JS extraction flow have all 13 fields populated.

h1. Implementation Notes

Key considerations for engineering:

* Review current JS extraction logic to identify which fields are already being stored
* Add storage for any missing fields from the 13-field list
* Ensure data types and null handling are consistent with backfill implementation

h1. Acceptance Criteria

* [ ] JS keyword extraction stores all 13 data fields for new keywords
* [ ] Fields not returned by API stored as null
* [ ] Data types consistent with existing schema
* [ ] Unit/integration tests passed
* [ ] Code reviewed and merged",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,Hubstaff project: PORTAL/SAAS;22/Dec/25 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3000,Hubstaff project: PORTAL/SAAS;22/Dec/25 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;5700,Hubstaff project: PORTAL/SAAS;23/Dec/25 12:30 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3660,,,,,,,,10800,0,12360,114%,10800,0,12360,,PROD-2161,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@74b05df9,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i006re:r,,,,S14: Dec 15- Dec 28,,,15/Dec/25 12:00 AM,,,,,,,,,,,2025-12-21 17:03:12.783,3_*:*_1_*:*_417079_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_170994183_*|*_10003_*:*_2_*:*_341986060,21/Dec/25 9:03 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[https://github.com/KeplerCommerce/portal/pull/479|https://github.com/KeplerCommerce/portal/pull/479|smart-link] ,,,,,,,,,,17001,PROD-1129,v1 Keyword Aggregation & Filtering Engine,Done,21/Dec/25 9:03 AM
Add functionality to Auto-fetch Jungle Scout Data for New Keywords from Non-JS Sources,PROD-2163,22379,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,15/Dec/25 8:47 AM,15/Jan/26 4:19 AM,,23/Dec/25 12:15 AM,, [Advertising] [v2] -[February 1st Release],29/Dec/25 12:00 AM,0,,,"*CC:* [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] 

----

h1. Problem / Context

Keywords added from non-Jungle Scout sources (e.g., Harvesting) will not have Jungle Scout data populated. These keywords will display blank values in the JS columns until data is fetched.

h1. Solution Outline

When a new keyword is added from any source other than Jungle Scout, automatically fetch and populate Jungle Scout data for that keyword.

*Trigger:* New keyword added to research list (from Harvesting or other non-JS sources)

*Action:* Fetch Jungle Scout data via {{keywords_by_asin}} endpoint and populate all 13 fields

*Data to populate:*

* {{monthly_search_volume_exact}}
* {{monthly_search_volume_broad}}
* {{searched_asins_avg_organic_rank}}
* {{searched_asins_avg_sponsored_rank}}
* {{searched_asins_organic_count}}
* {{searched_asins_sponsored_count}}
* {{ease_of_ranking_score}}
* {{relevancy_score}}
* {{ppc_bid_broad}}
* {{ppc_bid_exact}}
* {{sp_brand_ad_bid}}
* {{recommended_promotions}}
* {{updated_at}}

h1. Connected Work Items

*Is Part Of:* [PROD-1129|https://keplercommerce.atlassian.net/browse/PROD-1129]
*Is Blocked By:* [PROD-2161|https://keplercommerce.atlassian.net/browse/PROD-2161] (UI Columns)

 *Relates To:* - 

âœ… Ensures ongoing data completeness for keywords regardless of source.

h1. Implementation Notes

Key considerations for engineering:

* Trigger point: Identify where new keywords enter the system from non-JS sources
* Async vs sync: Consider fetching asynchronously to avoid blocking keyword addition
* Handle JS API failures gracefully (retry logic, store null on failure)
* Consider batching if multiple keywords added simultaneously

h1. Acceptance Criteria

* [ ] New keywords from non-JS sources automatically trigger JS data fetch
* [ ] All 13 JS data fields populated for newly added keywords
* [ ] Keywords where JS returns no data handled gracefully
* [ ] System performance not impacted by auto-fetch
* [ ] Unit/integration tests passed
* [ ] Code reviewed and merged",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,Hubstaff project: PORTAL/SAAS;21/Dec/25 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;840,Hubstaff project: PORTAL/SAAS;22/Dec/25 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;4440,,,,,,,,,14400,9120,5280,36%,14400,9120,5280,,PROD-2161,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@201f2111,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i006re:i,,,,S14: Dec 15- Dec 28,,,15/Dec/25 12:00 AM,,,,,,,,,,,2025-12-21 16:35:40.334,3_*:*_1_*:*_97159854_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_175790082_*|*_10003_*:*_2_*:*_244735809,21/Dec/25 8:35 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[https://github.com/KeplerCommerce/portal/pull/484|https://github.com/KeplerCommerce/portal/pull/484],,,,,,,,,,17001,PROD-1129,v1 Keyword Aggregation & Filtering Engine,Done,21/Dec/25 8:35 AM
Backfill Jungle Scout Data for All Existing Keywords,PROD-2162,22377,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,15/Dec/25 8:47 AM,15/Jan/26 4:19 AM,,23/Dec/25 12:15 AM,, [Advertising] [v2] -[February 1st Release],29/Dec/25 12:00 AM,0,,,"*CC:* [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] 

----

h1. Problem / Context

Existing keywords across all accounts do not have Jungle Scout data populated. The new columns on the ""Research List"" page will display blank for historical keywords unless data is backfilled.

h1. Solution Outline

Fetch and populate Jungle Scout data for all existing keywords across all accounts.

*Data to populate:*

* {{monthly_search_volume_exact}}
* {{monthly_search_volume_broad}}
* {{searched_asins_avg_organic_rank}}
* {{searched_asins_avg_sponsored_rank}}
* {{searched_asins_organic_count}}
* {{searched_asins_sponsored_count}}
* {{ease_of_ranking_score}}
* {{relevancy_score}}
* {{ppc_bid_broad}}
* {{ppc_bid_exact}}
* {{sp_brand_ad_bid}}
* {{recommended_promotions}}
* {{updated_at}}

*Scope:*

* All keywords across all accounts
* Historical keywords (already in system)
* One-time backfill operation

h1. Connected Work Items

 *Is Blocked By:* [PROD-2161|https://keplercommerce.atlassian.net/browse/PROD-2161] (UI Columns)

âœ… Data backfill enables UI columns to display values for existing keywords.

h1. Implementation Notes

Key considerations for engineering:

* Data source: Jungle Scout {{keywords_by_asin}} endpoint
* Scope: All accounts, all existing keywords
* Consider batch processing to manage API rate limits
* Consider logging/reporting on backfill progress and failures
* Handle keywords where JS returns no data (store null)

h1. Acceptance Criteria

* [ ] Jungle Scout data fetched for all existing keywords across all accounts
* [ ] All 13 data fields populated where available
* [ ] Keywords with no JS data handled gracefully (null values stored)
* [ ] Backfill completed without impacting system performance
* [ ] Unit/integration tests passed
* [ ] Code reviewed and merged",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,Hubstaff project: PORTAL/SAAS;21/Dec/25 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3780,Hubstaff project: PORTAL/SAAS;23/Dec/25 12:30 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;420,,,,,,,,,7200,3000,4200,58%,7200,3000,4200,,PROD-2161,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@48faba89,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i006re:,,,,S14: Dec 15- Dec 28,,,15/Dec/25 12:00 AM,,,,,,,,,,,2025-12-21 16:31:46.514,3_*:*_1_*:*_98697413_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_175865395_*|*_10003_*:*_2_*:*_242902943,21/Dec/25 8:31 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[https://github.com/KeplerCommerce/portal/pull/483|https://github.com/KeplerCommerce/portal/pull/483|smart-link] ,,,,,,,,,,17001,PROD-1129,v1 Keyword Aggregation & Filtering Engine,Done,21/Dec/25 8:31 AM
"Add Jungle Scout Data Columns to ""Research List"" Page",PROD-2161,22375,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,15/Dec/25 8:47 AM,15/Jan/26 4:19 AM,,23/Dec/25 12:15 AM,, [Advertising] [v2] -[February 1st Release],29/Dec/25 12:00 AM,0,,,"*CC:* [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] 

----

h1. Problem / Context

The ""Research List"" page does not display key data points from the Jungle Scout keyword API response. Users cannot see competitor ranking metrics, relevancy scores, or advertising intelligence from Jungle Scout without these columns.

Some columns (search volume, PPC bid, Rank) exist from other sources. Adding Jungle Scout versions enables source comparison.

h1. Solution Outline

Add the following columns to the ""Research List"" page (â€œResearch Listâ€ page is shown in the screenshot below). All columns prefixed with *""JS""* to indicate Jungle Scout as source.

[https://portal.keplercommerce.com/amazon-ads/keywords/list|https://portal.keplercommerce.com/amazon-ads/keywords/list|smart-link] 

!image-20251215-180840.png|width=1062,alt=""image-20251215-180840.png""!



*Search Volume:*

||Column Label||Source Field||
|JS Search Volume (Exact)|{{monthly_search_volume_exact}}|
|JS Search Volume (Broad)|{{monthly_search_volume_broad}}|

*Competitor Ranking:*

||Column Label||Source Field||
|JS Avg Organic Rank|{{searched_asins_avg_organic_rank}}|
|JS Avg Sponsored Rank|{{searched_asins_avg_sponsored_rank}}|
|JS Organic ASIN Count|{{searched_asins_organic_count}}|
|JS Sponsored ASIN Count|{{searched_asins_sponsored_count}}|

*Competition & Relevancy:*

||Column Label||Source Field||
|JS Ease of Ranking|{{ease_of_ranking_score}}|
|JS Relevancy Score|{{relevancy_score}}|

*Advertising Intelligence:*

||Column Label||Source Field||
|JS PPC Bid (Broad)|{{ppc_bid_broad}}|
|JS PPC Bid (Exact)|{{ppc_bid_exact}}|
|JS SP Brand Ad Bid|{{sp_brand_ad_bid}}|
|JS Recommended Promotions|{{recommended_promotions}}|

*Metadata:*

||Column Label||Source Field||
|JS Last Updated|{{updated_at}}|

h1. Connected Work Items

*Is Part Of:* [https://keplercommerce.atlassian.net/browse/PROD-1129|https://keplercommerce.atlassian.net/browse/PROD-1129|smart-link]

 *Blocks:* [https://keplercommerce.atlassian.net/browse/PROD-2162|https://keplercommerce.atlassian.net/browse/PROD-2162|smart-link], [https://keplercommerce.atlassian.net/browse/PROD-2163|https://keplercommerce.atlassian.net/browse/PROD-2163|smart-link] 

âœ… This sub-task adds columns to the page; data population handled in separate sub-tasks.

h1. Implementation Notes

Key considerations for engineering:

* Total new columns: 13
* All column labels prefixed with ""JS""
* Data source: Jungle Scout {{keywords_by_asin}} API response
* Display blank/null gracefully if data not yet populated

h1. Acceptance Criteria

* [ ] All 13 JS-prefixed columns display on ""Research List"" page
* [ ] Column labels clearly indicate Jungle Scout as source
* [ ] Null/blank values handled gracefully
* [ ] Unit/integration tests passed
* [ ] Code reviewed and merged
* [ ] UI verified against requirements",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,Hubstaff project: PORTAL/SAAS;20/Dec/25 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;1020,Hubstaff project: PORTAL/SAAS;23/Dec/25 12:30 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;480,Hubstaff project: PORTAL/SAAS;23/Dec/25 12:30 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;6780,Hubstaff project: PORTAL/SAAS;23/Dec/25 12:30 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;600,,,,,,,14400,5520,8880,61%,14400,5520,8880,,,,,,PROD-2162,PROD-2163,PROD-2170,PROD-2175,,,,,,,,,15/Dec/25 10:27 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251215-180840.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/16415,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@11b41607,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i006rd:,,,,S14: Dec 15- Dec 28,,,15/Dec/25 12:00 AM,,,,,,,,,,,2025-12-19 17:49:59.547,10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_173345438_*|*_10003_*:*_2_*:*_176018164,19/Dec/25 9:49 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[https://github.com/KeplerCommerce/portal/pull/479|https://github.com/KeplerCommerce/portal/pull/479|smart-link] ,,,,,,,,,,17001,PROD-1129,v1 Keyword Aggregation & Filtering Engine,Done,19/Dec/25 9:49 AM
Update Jungle Scout Keyword Filter Criteria,PROD-2160,22373,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,15/Dec/25 8:46 AM,15/Jan/26 4:19 AM,,23/Dec/25 12:14 AM,, [Advertising] [v2] -[February 1st Release],29/Dec/25 12:00 AM,0,,,"*CC:* [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] 

----

h1. Problem / Context

Current keyword extraction from Jungle Scout API returns a high volume of low-quality keywords:

* Keywords with no search demand (zero search volume)
* Keywords where competitors have no rank at all
* Keywords where competitors rank poorly, indicating low product relevance

*Impact:* High keyword volume increases processing costs in downstream systems and slows keyword research review workflows.

Tightening filters reduces volume to a higher-quality, relevant set.

h1. Solution Outline

Modify keyword filter criteria applied to Jungle Scout API response data.

*New filters to ADD:*

||Filter||Condition||Rationale||
|{{monthly_search_volume_exact}}|{quote}> 0{quote}|Exclude keywords with no search demand|
|{{searched_asins_avg_organic_rank}}|IS NOT NULL AND â‰  0|Exclude keywords where competitors have no organic visibility|
|{{searched_asins_avg_sponsored_rank}}|IS NOT NULL AND â‰  0|Exclude keywords where competitors have no sponsored visibility|

*Existing filters to MODIFY:*

||Filter||Current||New (Revised)||Rationale||
|{{searched_asins_avg_organic_rank}}|<= 100|<= 50|Focus on keywords where competitors rank higher organically|
|{{searched_asins_avg_sponsored_rank}}|<= 50|<= 25|Focus on keywords where competitors rank higher for sponsored|

*Reference:* Jungle Scout API {{keywords_by_asin}} endpoint response attributes.

h1. Connected Work Items

*Is Part Of:* [PROD-1129|https://keplercommerce.atlassian.net/browse/PROD-1129]


âœ… This sub-task modifies the filtering logic within the keyword aggregation engine.

h1. Implementation Notes

Key considerations for engineering:

* Data source: Jungle Scout API {{keywords_by_asin}} endpoint response
* Fields from JS API response:
** {{monthly_search_volume_exact}} (integer)
** {{searched_asins_avg_organic_rank}} (integer, nullable)
** {{searched_asins_avg_sponsored_rank}} (integer, nullable)
* Handle null vs 0 distinction for rank fields

h1. Acceptance Criteria

* [ ] Keywords with zero monthly search volume are excluded
* [ ] Keywords where competitors have no organic rank (null or 0) are excluded
* [ ] Keywords where competitors have no sponsored rank (null or 0) are excluded
* [ ] Only keywords where {{searched_asins_avg_organic_rank}} <= 50 are included
* [ ] Only keywords where {{searched_asins_avg_sponsored_rank}} <= 25 are included
* [ ] All filter conditions applied together (AND logic)
* [ ] Unit/integration tests passed
* [ ] Code reviewed and merged",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,Hubstaff project: PORTAL/SAAS;20/Dec/25 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;9360,,,,,,,,,,10800,1440,9360,86%,10800,1440,9360,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@1963db25,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i006rc:,,,,S14: Dec 15- Dec 28,,,15/Dec/25 12:00 AM,,,,,,,,,,,2025-12-19 17:50:27.249,10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_173334716_*|*_10003_*:*_2_*:*_168154166,19/Dec/25 9:50 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[https://github.com/KeplerCommerce/portal/pull/479|https://github.com/KeplerCommerce/portal/pull/479|smart-link] ,,,,,,,,,,17001,PROD-1129,v1 Keyword Aggregation & Filtering Engine,Done,19/Dec/25 7:38 AM
Tab 1 â€“ Add Bulk Edit Functionality with Filtering,PROD-2062,21841,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Dec/25 7:00 AM,15/Jan/26 4:19 AM,,05/Jan/26 3:06 AM,, [Advertising] [v2] -[February 1st Release],12/Jan/26 12:00 AM,0,,,"h1. Problem / Context

Users managing large keyword lists on Tab 1 cannot efficiently edit multiple keywords at once. Users need to filter keywords, select a subset, and apply changes in bulk rather than editing one by one.

h1. Solution Outline

System provides Bulk Edit functionality on Tab 1 Keyword Research table.

*Selection mechanism:*

* Table header row includes a ""Select All"" checkbox
* Each row has an individual checkbox for selection
* ""Select All"" checkbox selects/deselects all visible rows in the current filter context

*Filter capability:*

* User can filter keywords by typing in a search field
* User can toggle between filter modes (see snapshot below) 

!image-20251212-150349.png|width=554,alt=""image-20251212-150349.png""!

* When filter is applied, ""Select All"" checkbox selects only filtered/visible rows
* When no filter is applied, ""Select All"" checkbox selects all keywords

*Bulk Edit action:*

* After selecting rows, user clicks a ""Bulk Edit"" or ""Edit"" button
* System presents editing options for the selected rows
* User can edit column values that apply to all selected keywords
* System applies the change to all selected rows

h1. Connected Work Items

*Is Part Of:* [PROD-1462|https://keplercommerce.atlassian.net/browse/PROD-1462]
*Is Blocked By:* TBD

âœ… Ensures task sequencing is visible and coordinated.

h1. Implementation Notes

Key considerations for engineering:

* Checkbox selection state management (especially with filtering)
* Filter persistence while editing
* Bulk edit modal or inline editing approach â€“ design decision needed
* Consider which columns are editable in bulk context

h1. Acceptance Criteria

* [ ] Select All checkbox available in table header
* [ ] Individual row checkboxes available for each keyword row
* [ ] Filter field allows user to search keywords
* [ ] Filter supports all as shown in the SS.
* [ ] Select All respects current filter â€“ selects only visible/filtered rows
* [ ] Bulk Edit button/action appears when rows are selected
* [ ] Bulk Edit allows user to modify applicable column values for selected rows
* [ ] Changes apply to all selected rows upon confirmation
* [ ] Unit/integration tests passed
* [ ] Code reviewed and merged
* [ ] UI verified against mockup",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,Hubstaff project: PORTAL/SAAS;30/Dec/25 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;120,Hubstaff project: PORTAL/SAAS;30/Dec/25 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;480,Hubstaff project: PORTAL/SAAS;31/Dec/25 2:45 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;5160,Hubstaff project: PORTAL/SAAS;31/Dec/25 2:45 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;9900,Hubstaff project: PORTAL/SAAS;31/Dec/25 2:45 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;7140,,,,,,28800,6000,22800,79%,28800,6000,22800,,,,,,,,,,,,,,,,,,12/Dec/25 7:04 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251212-150349.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/16279,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@27ae0075,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00kj2:r,,,,S15: Dec 29 - Jan 11,,,29/Dec/25 12:00 AM,,,,,,,,,,,2025-12-30 14:21:32.403,10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_447682200_*|*_10003_*:*_2_*:*_1105158325,30/Dec/25 6:21 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[https://github.com/KeplerCommerce/portal/pull/499|https://github.com/KeplerCommerce/portal/pull/499],,,,,,,,,,17650,PROD-1462,Automated KW Research - User Feedbackâ€“Driven Enhancements # 4,Done,30/Dec/25 6:21 AM
"Tab 2 â€“ Add ""Add"" and ""Delete"" Row Options",PROD-2058,21835,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Dec/25 6:53 AM,15/Jan/26 4:19 AM,,05/Jan/26 3:06 AM,, [Advertising] [v2] -[February 1st Release],12/Jan/26 12:00 AM,0,,,"h1. Problem / Context

Users can edit existing rows in the Tab 2 Attribute Table UI, but cannot add new rows or delete existing rows. If a user wants to add a new attribute or remove one, they must export the table, make changes externally, and re-import. This is a limitation for users who want to make quick edits directly in the UI.

h1. Solution Outline

System provides Add Row and Delete Row buttons on Tab 2 Attribute Table.

*Button placement:*

* Add Row and Delete Row buttons available at the top of the Attribute Table

!image-20251212-145938.png|width=1062,alt=""image-20251212-145938.png""!



*Add Row capability:*

* User clicks Add Row button
* New row appears in the table for user to fill in values
* User can add rows for any attribute type

*Delete Row capability:*

* User selects a row and clicks Delete Row button
* System removes the row from the table
* System re-sequences ranks for remaining rows in that attribute type

h1. Connected Work Items

*Is Part Of:* [PROD-1462|https://keplercommerce.atlassian.net/browse/PROD-1462]
*Is Blocked By:* TBD

âœ… Ensures task sequencing is visible and coordinated.

h1. Implementation Notes

Key considerations for engineering:

* Add Row and Delete Row buttons placed at the top of the table
* Rank auto-recalculation when rows are added or deleted
* Consider confirmation prompts for delete actions
* Maintain attribute type grouping

h1. Acceptance Criteria

* [ ] Add Row button available at the top of Tab 2 Attribute Table
* [ ] Delete Row button available at the top of Tab 2 Attribute Table
* [ ] User can click Add Row to add a new row and fill in values
* [ ] User can select a row and click Delete Row to remove it
* [ ] Rank values auto-update when rows are added or deleted
* [ ] Unit/integration tests passed
* [ ] Code reviewed and merged
* [ ] UI verified against mockup",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,Hubstaff project: PORTAL/SAAS;30/Dec/25 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;1860,Hubstaff project: PORTAL/SAAS;30/Dec/25 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;9300,Hubstaff project: PORTAL/SAAS;31/Dec/25 2:45 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;1560,Hubstaff project: PORTAL/SAAS;31/Dec/25 2:45 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3780,Hubstaff project: PORTAL/SAAS;31/Dec/25 2:45 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;1080,,,,,,18000,420,17580,97%,18000,420,17580,,,,,,,,,,,,,,,,,,12/Dec/25 6:59 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251212-145938.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/16278,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@1105b928,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00kj2:i,,,,S15: Dec 29 - Jan 11,,,29/Dec/25 12:00 AM,,,,,,,,,,,2025-12-17 19:18:01.665,3_*:*_1_*:*_52128758_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_448018071_*|*_10562_*:*_1_*:*_81696461_*|*_10003_*:*_2_*:*_952557981,17/Dec/25 11:18 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] Please describe how the sequence and uniqueness of the *Rank* value should be controlled within each *attribute type*,"17/Dec/25 12:23 PM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] 
system should check if same attribute does not have same rank in 2 different rows So, add a condition that checks each row and compare to all past rows and produce error if a row is found with same attribute and same rank.

each row within each specific attribute should have the rank in sequence

e.g.

row # 1 in product type should have rank # 1

row # 2 in product type should have rank # 2

rank should get auto updated based on the placement.",30/Dec/25 1:06 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[https://github.com/KeplerCommerce/portal/pull/498|https://github.com/KeplerCommerce/portal/pull/498|smart-link] ,,,,,,,,17650,PROD-1462,Automated KW Research - User Feedbackâ€“Driven Enhancements # 4,Done,30/Dec/25 1:06 AM
Tab 2 â€“ Add Import Functionality for Attribute Table,PROD-2053,21829,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Dec/25 6:10 AM,15/Jan/26 4:19 AM,,05/Jan/26 3:06 AM,, [Advertising] [v2] -[February 1st Release],12/Jan/26 12:00 AM,0,,,"h1. Problem / Context

Users can export the Attribute Table from Tab 2 but cannot re-import modified data. Further, Users cannot delete existing rows nor can add new rows from the UI. Users need to add new attributes/rows, edit existing values, and reorder ranks in bulk. Without import functionality, users must manually edit each row individually while still not being able to delete or add rows.

h1. Solution Outline

System provides an Import option on Tab 2 for the Attribute Table.

*Import behavior:*

* Import file contains four columns matching Tab 2 display 

!image-20251212-141636.png|width=690,alt=""image-20251212-141636.png""!

* User provides the *complete table* â€“ import replaces the entire existing attribute table
* User can update values in all four columns
* User can add new rows for any attribute type (product type, variant, use case, audience)
* Upon successful import, imported values reflect on the UI or the updated table reflects on the UI.

*Rank sequencing requirements:*

* Ranks must be sequential within each attribute type
* Product type rows must have consecutive rank values (1, 2, 3...)
* Variant rows must have consecutive rank values (1, 2, 3...)
* Use case rows must have consecutive rank values (1, 2, 3...)
* Audience rows must have consecutive rank values (1, 2, 3...)

*Validation requirements:*

* *Column 1 (Attribute Name/Value):* No validation â€“ user can enter any value
* *Column 2 (Attribute Type):* Must be one of exactly four values: {{Product Type}}, {{Variant}}, {{Use Case}}, {{Audience}}. Any other value is rejected.
* *Column 3 (User-defined Value):* User can enter any custom value
* *Column 4 (Rank):* Must be sequential integers within each attribute type

*Error Log behavior (following ASIN Config / Campaign Config pattern):*

* ""History"" button available on the same UI (Tab 2) 

!image-20251212-142209.png|width=1038,alt=""image-20251212-142209.png""!

* User can navigate to Error Logs section from this â€œHistoryâ€ button
* History view displays a similar UI to what we have for ASIN Config UI as shown in the snapshot below: 

!image-20251212-135939.png|width=1038,alt=""image-20251212-135939.png""!

* User can download two files:
*# *Original uploaded file* â€“ the file user submitted
*# *Invalid file* â€“ lists each error row with the specific error reason against that row
* Error file format: each rejected row includes the row data plus error description

h1. Connected Work Items

*Is Part Of:* [PROD-1462|https://keplercommerce.atlassian.net/browse/PROD-1462]
*Is Blocked By:* TBD

âœ… Ensures task sequencing is visible and coordinated.

h1. Implementation Notes

Key considerations for engineering:

* Import is a *full replacement* â€“ not a merge or partial update
* Validate rank sequences per attribute type before accepting file
* Column 2 must be exactly one of: Product Type, Variant, Use Case, Audience
* Reference Tab 2 export structure for exact column mapping
* Reference existing Error Log implementation in ASIN Config / Campaign Config for:
** History button placement
** History view UI
** Download options (original file + error file)
** Import file format with errors listed per row

h1. Acceptance Criteria

* [ ] Import button available on Tab 2 UI alongside Export
* [ ] System accepts file format matching Tab 2 export structure (4 columns)
* [ ] Import completely replaces existing attribute table
* [ ] Column 1 accepts any user-entered value
* [ ] Column 2 accepts only: Product Type, Variant, Use Case, Audience
* [ ] Column 2 validation rejects any other values with clear error message
* [ ] Column 3 accepts any user-entered custom value
* [ ] Column 4 rank validation ensures sequential ordering within each attribute type
* [ ] ""History"" button available on Tab 1 UI
* [ ] History view shows list of import files along with other details as shown in the screenshot above.
* [ ] User can download original uploaded file from History UI
* [ ] User can download error file with rejection reasons listed per row
* [ ] Error Log pattern matches ASIN Config / Campaign Config implementation
* [ ] Unit/integration tests passed
* [ ] Code reviewed and merged",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,Hubstaff project: PORTAL/SAAS;30/Dec/25 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;1620,Hubstaff project: PORTAL/SAAS;30/Dec/25 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3660,Hubstaff project: PORTAL/SAAS;04/Jan/26 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;2340,Hubstaff project: PORTAL/SAAS;04/Jan/26 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;2640,Hubstaff project: PORTAL/SAAS;05/Jan/26 2:45 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;60,Hubstaff project: PORTAL/SAAS;06/Jan/26 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;11280,Hubstaff project: PORTAL/SAAS;06/Jan/26 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;1380,Hubstaff project: PORTAL/SAAS;06/Jan/26 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;5520,,,36000,7500,28500,79%,36000,7500,28500,,,,,,,,,,,,,,,,,,12/Dec/25 6:27 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251212-135939.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/16276,12/Dec/25 6:27 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251212-141636.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/16275,12/Dec/25 6:27 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251212-142209.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/16277,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6365ee09,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00kj2:,,,,S15: Dec 29 - Jan 11,,,29/Dec/25 12:00 AM,,,,,,,,,,,2025-12-29 18:37:00.81,3_*:*_1_*:*_12624326_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_447472764_*|*_10003_*:*_2_*:*_1024683013,29/Dec/25 10:37 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[https://github.com/KeplerCommerce/portal/pull/497|https://github.com/KeplerCommerce/portal/pull/497],,,,,,,,,,17650,PROD-1462,Automated KW Research - User Feedbackâ€“Driven Enhancements # 4,Done,29/Dec/25 10:37 AM
Tab 1 â€“ Add Import Functionality ,PROD-2048,21823,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Dec/25 5:27 AM,15/Jan/26 4:19 AM,,05/Jan/26 3:06 AM,, [Advertising] [v2] -[February 1st Release],12/Jan/26 12:00 AM,0,,,"h1. Problem / Context

Users can export keyword research data from Tab 1 but cannot re-import edited data. Users need to make bulk changes to keywords by downloading the export file, editing it externally, and re-uploading. Without this, users must manually update keywords one by one in the UI.

h1. Solution Outline

System provides an Import option on the Keyword Research UI (Tab 1).

*Import behavior:*

* Import format matches the columns displayed on Tab 1 UI 

!image-20251212-135159.png|width=1038,alt=""image-20251212-135159.png""!

* System accepts partial files â€“ user provides only keywords being updated (not the full list)
* Keywords in the file are matched against existing keywords in the system
* *If a keyword does not exist in the system, system adds that keyword to the system*
* Upon successful import, imported values reflect on the UI.

*Validation requirements:*

* *Required fields:* Every row must have values for Keyword (Column 1), Column 2, and Column 3. Rows with any empty/missing values are rejected.
* *Column 2:* Value must match one of the predefined options defined for this column. If value is outside allowed options, row is rejected.
* *Column 3:* Value must match one of four predefined options defined for this column. If value is outside the four allowed options, row is rejected.
* Successful rows are processed; failed rows are logged with rejection reasons.

*Error Log behavior (following ASIN Config / Campaign Config pattern):*

* ""History"" button available on the same UI (Tab 1) something like how we have in ASIN Config UI as shown in the snapshot below: 

!image-20251212-135734.png|width=1038,alt=""image-20251212-135734.png""!

* User can navigate to Error Logs section from this â€œHistoryâ€ button
* History view displays a similar UI to what we have for ASIN Config UI as shown in the snapshot below: 

!image-20251212-135939.png|width=1038,alt=""image-20251212-135939.png""!

* User can download two files:
*# *Original uploaded file* â€“ the file user submitted
*# *Invalid file* â€“ lists each error row with the specific error reason against that row
* Error file format: each rejected row includes the row data plus error description

h1. Connected Work Items

*Is Part Of:* [PROD-1462|https://keplercommerce.atlassian.net/browse/PROD-1462]
*Is Blocked By:* None

âœ… Ensures task sequencing is visible and coordinated.

h1. Implementation Notes

Key considerations for engineering:

* Import file structure should mirror Tab 1 export columns
* Keyword handling: if keyword exists, update it; if keyword does not exist, add it to the system
* Required field validation: reject rows where Keyword, Column 2, or Column 3 is empty/missing
* Column 2 validation: system maintains list of allowed values; reject if not in list
* Column 3 validation: system maintains list of four allowed values; reject if not in list
* Error handling: collect all errors, continue processing valid rows
* Reference existing Error Log implementation in ASIN Config / Campaign Config for:
** History button placement
** History view UI
** Download options (original file + error file)
** Import file format with errors listed per row
* Consider file size limits and processing time for large imports

h1. Acceptance Criteria

* [ ] Import button available on Tab 1 UI alongside Export
* [ ] System accepts file format matching Tab 1 export structure
* [ ] System updates existing keywords in the current research context
* [ ] System adds new keywords to the system if they do not already exist
* [ ] Rows with missing/empty Keyword value are rejected
* [ ] Rows with missing/empty Column 2 value are rejected
* [ ] Rows with missing/empty Column 3 value are rejected
* [ ] Column 2 validation: values outside predefined options are rejected
* [ ] Column 3 validation: values outside the four predefined options are rejected
* [ ] ""History"" button available on Tab 1 UI
* [ ] History view shows list of import files along with other details as shown in the screenshot above.
* [ ] User can download original uploaded file from History UI
* [ ] User can download error file with rejection reasons listed per row
* [ ] Successful rows are processed even when some rows fail validation
* [ ] Error Log pattern matches ASIN Config / Campaign Config implementation
* [ ] Unit/integration tests passed
* [ ] Code reviewed and merged

cc: [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] ",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,Hubstaff project: PORTAL/SAAS;30/Dec/25 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;8400,Hubstaff project: PORTAL/SAAS;03/Jan/26 2:45 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;14940,,,,,,,,,28800,5460,23340,81%,28800,5460,23340,,,,,,,,,,,,,,,,,,12/Dec/25 6:09 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251212-135159.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/16273,12/Dec/25 6:09 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251212-135734.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/16274,12/Dec/25 6:09 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251212-135939.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/16272,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@1bc62b2a,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00kj1:,,,,S15: Dec 29 - Jan 11,,,29/Dec/25 12:00 AM,,,,,,,,,,,2025-12-17 19:07:55.414,3_*:*_1_*:*_4997307_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_452604020_*|*_10562_*:*_1_*:*_5056_*|*_10003_*:*_2_*:*_1012986900,"17/Dec/25 11:07 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] 

* *_If a keyword does not exist in the system, system adds that keyword to the system_* *-* am I correct in understanding that new keywords should be added in the same way as on the Keyword Research List page, meaning they first go through our system using the standard logic, and only then appear as elements in the Keyword Research UI (Tab 1)?",17/Dec/25 11:35 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] Correct,29/Dec/25 5:57 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[https://github.com/KeplerCommerce/portal/pull/496|https://github.com/KeplerCommerce/portal/pull/496|smart-link] ,,,,,,,,17650,PROD-1462,Automated KW Research - User Feedbackâ€“Driven Enhancements # 4,Done,29/Dec/25 5:57 AM
CLONE - SP Ads Manual KW Targeting | Auto Bid Optimization Logic - Revise CVR Waterfall Logic_08 Sep'25,PROD-1526,17813,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,25/Nov/25 9:18 AM,25/Nov/25 9:18 AM,,25/Nov/25 9:18 AM,, [Advertising] [v2] -[February 1st Release],22/Sep/25 12:00 AM,0,,,"Following task
[https://keplercommerce.atlassian.net/browse/AD-465|https://keplercommerce.atlassian.net/browse/AD-465]

Following the instructions
I have concern system last time recalculated Bids 09/16/2025
Yesterday we deployed updated which from my perspective should recalculate CVR and as results bids



!image-20250918-103842.png|width=838,height=250,alt=""image-20250918-103842.png""!

For instance:
*ASIN:* B0B38C1JVG
*Campaign:* NBB3-SPKW-PB01-XX-S-B0B38C1JVG-E-KW

based on requirements CVR should be max (Default CVR, ASIN CVR)

MAX( 0.15,0.08) â†’ 0.15


*What should be done:*
1) Check why system does not recalculate Bids after deploy. It could be because this update not included in Bids trigger list. And we should recalculate all with developers help. Or I should wait when system recalculate it on daily basis.
2) New logic does not deployed as expected.

",,Andrew Pomaz,,,,,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,,,,,,,,,,,,,,7200,7200,,0%,7200,7200,,,,,,,,,,,,,,PROD-10,,TEST-206,,,25/Nov/25 9:18 AM;e5e7d5e7-6911-4643-b0c4-f0ca46f5b43c;image-20250918-103842.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/15587,25/Nov/25 9:18 AM;e5e7d5e7-6911-4643-b0c4-f0ca46f5b43c;image-20250918-103842.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/15588,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@1571164e,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00dxj:,,,,,,,08/Sep/25 12:00 AM,,,,,,,,,,,2025-11-25 17:18:28.887,10004_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_16163,25/Nov/25 9:18 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,,17349,PROD-1305,Automated Bid Optimization - Miscellaneous - I,Done,25/Nov/25 9:18 AM
Status Done,PROD-1525,17812,Sub-task,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,,,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,25/Nov/25 9:04 AM,25/Nov/25 9:04 AM,,,, [Advertising] [v2] -[February 1st Release],,0,,,,,Andrew Pomaz,,,,,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@581d68ea,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00dxb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,17349,PROD-1305,Automated Bid Optimization - Miscellaneous - I,To Do,25/Nov/25 9:04 AM
[PLACEHOLDER] [Phase 4] Model Retraining Pipeline & Operational Runbooks,PROD-1519,17762,Story,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,25/Nov/25 8:01 AM,14/Jan/26 2:45 AM,,,, [Advertising] [v2] -[February 1st Release],,0,,,Placeholder story for Phase 4,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Hubstaff project: PORTAL/SAAS;14/Jan/26 2:45 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;1740,Hubstaff project: PORTAL/SAAS;14/Jan/26 2:45 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;1320,,,,,,,,,,0,3060,,,0,3060,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@4533b36b,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00dvz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16654,PROD-1001,ADS: CVR Estimation Engine with Multi-Dimensional Intelligence,To Do,25/Nov/25 8:01 AM
[PLACEHOLDER] [Phase 4] A/B Testing Framework & Controlled Validation,PROD-1518,17760,Story,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,25/Nov/25 8:01 AM,25/Nov/25 8:04 AM,,,, [Advertising] [v2] -[February 1st Release],,0,,,Placeholder story for Phase 4,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@1c015b7f,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00dvr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16654,PROD-1001,ADS: CVR Estimation Engine with Multi-Dimensional Intelligence,To Do,25/Nov/25 8:01 AM
[PLACEHOLDER] [Phase 4] Predicted vs Actual CVR Diagnostic Dashboard,PROD-1517,17758,Story,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,25/Nov/25 8:01 AM,25/Nov/25 8:05 AM,,,, [Advertising] [v2] -[February 1st Release],,0,,,Placeholder story for Phase 4,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@20671e18,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00dvj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16654,PROD-1001,ADS: CVR Estimation Engine with Multi-Dimensional Intelligence,To Do,25/Nov/25 8:01 AM
[PLACEHOLDER] [Phase 4] CVR Prediction API & Bid Engine Integration,PROD-1516,17756,Story,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,25/Nov/25 8:01 AM,25/Nov/25 8:05 AM,,,, [Advertising] [v2] -[February 1st Release],,0,,,Placeholder story for Phase 4,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@53a48,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00dvb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16654,PROD-1001,ADS: CVR Estimation Engine with Multi-Dimensional Intelligence,To Do,25/Nov/25 8:01 AM
"[PLACEHOLDER] [Phase 3] Continuous Learning System (Bayesian Updates, Monitoring & Drift Detection)",PROD-1515,17754,Story,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,25/Nov/25 8:01 AM,25/Nov/25 8:05 AM,,,, [Advertising] [v2] -[February 1st Release],,0,,,Placeholder story for Phase 3,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@30ff3f4d,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00dv3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16654,PROD-1001,ADS: CVR Estimation Engine with Multi-Dimensional Intelligence,To Do,25/Nov/25 8:01 AM
"[PLACEHOLDER] [Phase 3] ML Feature Engineering, Training Dataset & Model Development",PROD-1514,17752,Story,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,25/Nov/25 8:01 AM,25/Nov/25 8:05 AM,,,, [Advertising] [v2] -[February 1st Release],,0,,,Placeholder story for Phase 3,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@4f7561db,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00duv:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16654,PROD-1001,ADS: CVR Estimation Engine with Multi-Dimensional Intelligence,To Do,25/Nov/25 8:01 AM
"[PLACEHOLDER] [Phase 2] Multi-Dimensional Contextual Adjustment Engine (Relevance, Pricing, Quality, Competition, Seasonality)",PROD-1513,17750,Story,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,25/Nov/25 8:01 AM,25/Nov/25 8:05 AM,,,, [Advertising] [v2] -[February 1st Release],,0,,,Placeholder story for Phase 2,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@4cc1527d,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00dun:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16654,PROD-1001,ADS: CVR Estimation Engine with Multi-Dimensional Intelligence,To Do,25/Nov/25 8:01 AM
[PLACEHOLDER] [Phase 1] Reference CVR Selection Logic & Prioritization Framework,PROD-1512,17748,Story,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,25/Nov/25 8:00 AM,25/Nov/25 8:05 AM,,,, [Advertising] [v2] -[February 1st Release],,0,,,Placeholder story for Phase 1,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6c4008f1,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00duf:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16654,PROD-1001,ADS: CVR Estimation Engine with Multi-Dimensional Intelligence,To Do,25/Nov/25 8:00 AM
[PLACEHOLDER] [Phase 1] Historical Performance Data Collection & Schema Design,PROD-1511,17746,Story,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,25/Nov/25 8:00 AM,25/Nov/25 8:05 AM,,,, [Advertising] [v2] -[February 1st Release],,0,,,Placeholder story for Phase 1,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@32bb44c3,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00du7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16654,PROD-1001,ADS: CVR Estimation Engine with Multi-Dimensional Intelligence,To Do,25/Nov/25 8:00 AM
[PLACEHOLDER] [Phase 1] Multi-Source CVR Data Integration & Normalization Pipeline,PROD-1510,17744,Story,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,25/Nov/25 8:00 AM,25/Nov/25 8:05 AM,,,, [Advertising] [v2] -[February 1st Release],,0,,,Placeholder story for Phase 1,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@76b3af2c,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00dtz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16654,PROD-1001,ADS: CVR Estimation Engine with Multi-Dimensional Intelligence,To Do,25/Nov/25 8:00 AM
Implement Budget Optimization via Optimal Campaigns Activation,PROD-1495,17714,Story,In Progress,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,25/Nov/25 6:51 AM,14/Jan/26 12:15 AM,,,, [Advertising] [v2] -[February 1st Release],26/Jan/26 12:00 AM,0,,,Placeholder story for Phase 1,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Hubstaff project: PORTAL/SAAS;09/Jan/26 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;4260,,,,,,,,,,194400,0,4260,2%,388800,95820,102840,,,,,,PROD-1494,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@76d09b03,,,,,,,,,,,,,,,,,,,,,,,,,,,0|hzzzw6:4,,,,S16: Jan 12 - Jan 25,,,12/Jan/26 12:00 AM,,,,,,,,,,,,,19/Dec/25 12:25 PM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] This story is ready for review,,,,,,,,,,16653,PROD-1000,ADS: Intelligent Pacing Automation,In Progress,14/Jan/26 12:15 AM
Implement Ad Spend & Ad Sales Projection Engine for KW Groups,PROD-1494,17712,Story,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,25/Nov/25 6:49 AM,08/Jan/26 9:49 AM,,08/Jan/26 9:49 AM,, [Advertising] [v2] -[February 1st Release],12/Jan/26 12:00 AM,0,Advertising,,Placeholder story for Phase 1,,abdul,Automation for Jira,Pavlo Lisovets,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,,,,,,,,,,226800,0,,0%,453600,118620,128640,,PROD-1495,,,,,,,,,,,,,PROD-2707,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@658c4911,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00bmr:,,,,S15: Dec 29 - Jan 11,,,29/Dec/25 12:00 AM,,,,,,,,,,,2025-12-31 08:24:42.118,3_*:*_1_*:*_95864961_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_1508872054_*|*_10003_*:*_1_*:*_2093867385,19/Dec/25 11:42 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] This story is ready for review.,"31/Dec/25 12:24 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] Could you please advise how the entire process should be triggered: should it be initiated by some trigger, or run on a scheduled (periodic) basis? Perhaps this is described in another task","31/Dec/25 4:22 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;Hey [~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] , the trigger is defined in [[PROD-2337|https://keplercommerce.atlassian.net/browse/PROD-2337] (Auto-Pacing Execution Engine), which covers the execution for both this story (US3 - Projection Engine) and PROD-1495 (US4 - Budget Optimizer) since they're interconnected.

*Short answer:* Both periodic AND event-driven.

| Trigger | When | Scope |
| SCHEDULED | Every 24 hours (configurable) | All ASINs with auto-pacing enabled |
| CAMPAIGN_STATUS_CHANGE | User manually enables/disables a campaign | Single ASIN |
| BUDGET_CHANGE | User changes any campaign's daily budget | Single ASIN |
| MANUAL | User clicks ""Run Pacing Now"" | Single ASIN |

Event-driven triggers are debounced (5 min default). See PROD-2337 for full execution sequence and implementation details.",08/Jan/26 9:49 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,16653,PROD-1000,ADS: Intelligent Pacing Automation,Done,07/Jan/26 2:12 AM
[PLACEHOLDER] [Phase 5] Executive Summary Dashboard,PROD-1493,17710,Story,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,25/Nov/25 6:01 AM,25/Nov/25 7:13 AM,,,, [Advertising] [v2] -[February 1st Release],,0,,,"*Placeholder Story* - Part of Epic PROD-996 (APDC Platform)

This story will cover executive summary dashboard showing aggregate metrics, team performance, and platform impact across all customers.

*Phase:* Reporting & Communication (Phase 5 of 5)

*Detailed requirements to be added later.*",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@48d5b698,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00dq7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16649,PROD-996,"ADS: APDC (Advertising Performance, Diagnostics & Control Platform)",To Do,25/Nov/25 6:01 AM
[PLACEHOLDER] [Phase 5] Automated Reports & Alerts,PROD-1492,17708,Story,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,25/Nov/25 6:01 AM,25/Nov/25 7:13 AM,,,, [Advertising] [v2] -[February 1st Release],,0,,,"*Placeholder Story* - Part of Epic PROD-996 (APDC Platform)

This story will cover automated weekly reports and real-time alerts for critical issues (email and Slack notifications).

*Phase:* Reporting & Communication (Phase 5 of 5)

*Detailed requirements to be added later.*",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@24085688,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00dpz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16649,PROD-996,"ADS: APDC (Advertising Performance, Diagnostics & Control Platform)",To Do,25/Nov/25 6:01 AM
[PLACEHOLDER] [Phase 4] Issue Prioritization & Progress Tracking Dashboard,PROD-1491,17706,Story,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,25/Nov/25 6:01 AM,25/Nov/25 7:13 AM,,,, [Advertising] [v2] -[February 1st Release],,0,,,"*Placeholder Story* - Part of Epic PROD-996 (APDC Platform)

This story will cover dashboard for issue prioritization, progress tracking, and historical trend analysis (weekly trends, custom periods, issue resolution tracking).

*Phase:* Actionable Insights & Controls (Phase 4 of 5)

*Detailed requirements to be added later.*",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@73881970,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00dpr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16649,PROD-996,"ADS: APDC (Advertising Performance, Diagnostics & Control Platform)",To Do,25/Nov/25 6:01 AM
[PLACEHOLDER] [Phase 4] Immediate Fix Controls,PROD-1490,17704,Story,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,25/Nov/25 6:00 AM,25/Nov/25 7:12 AM,,,, [Advertising] [v2] -[February 1st Release],,0,,,"*Placeholder Story* - Part of Epic PROD-996 (APDC Platform)

This story will cover immediate fix controls allowing PMs to resolve simple problems directly from RCA view (adjust budgets, pause campaigns, update bids, add negative keywords).

*Phase:* Actionable Insights & Controls (Phase 4 of 5)

*Detailed requirements to be added later.*",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@160c0c5f,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00dpj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16649,PROD-996,"ADS: APDC (Advertising Performance, Diagnostics & Control Platform)",To Do,25/Nov/25 6:00 AM
[PLACEHOLDER] [Phase 3] Issue Attribution Engine,PROD-1489,17702,Story,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,25/Nov/25 6:00 AM,25/Nov/25 7:12 AM,,,, [Advertising] [v2] -[February 1st Release],,0,,,"*Placeholder Story* - Part of Epic PROD-996 (APDC Platform)

This story will cover attribution calculation algorithm to quantify each issue's impact on performance (% spend consumed, % sales prevented), including separation of internal logic issues from external factors.

*Phase:* Root Cause Analysis Engine (Phase 3 of 5)

*Detailed requirements to be added later.*",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6a288293,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00dpb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16649,PROD-996,"ADS: APDC (Advertising Performance, Diagnostics & Control Platform)",To Do,25/Nov/25 6:00 AM
[PLACEHOLDER] [Phase 3] Fishbone Diagram with Issue Hierarchy & Drill-Down,PROD-1488,17700,Story,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,25/Nov/25 6:00 AM,25/Nov/25 7:12 AM,,,, [Advertising] [v2] -[February 1st Release],,0,,,"*Placeholder Story* - Part of Epic PROD-996 (APDC Platform)

This story will cover fishbone diagram visualization of issue hierarchy and drill-down capabilities to see affected ASINs and campaigns.

*Phase:* Root Cause Analysis Engine (Phase 3 of 5)

*Detailed requirements to be added later.*",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@131a7cbd,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00dp3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16649,PROD-996,"ADS: APDC (Advertising Performance, Diagnostics & Control Platform)",To Do,25/Nov/25 6:00 AM
[PLACEHOLDER] [Phase 2] RCA Workflow Integration & Navigation,PROD-1487,17698,Story,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,25/Nov/25 6:00 AM,25/Nov/25 7:12 AM,,,, [Advertising] [v2] -[February 1st Release],,0,,,"*Placeholder Story* - Part of Epic PROD-996 (APDC Platform)

This story will cover seamless navigation between performance snapshot and RCA results, maintaining context across workflow.

*Phase:* Performance Dashboard & Navigation (Phase 2 of 5)

*Detailed requirements to be added later.*",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@1289ce57,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00dov:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16649,PROD-996,"ADS: APDC (Advertising Performance, Diagnostics & Control Platform)",To Do,25/Nov/25 6:00 AM
[PLACEHOLDER] [Phase 2] Performance Snapshot - Interactive Features & Saved Views,PROD-1486,17696,Story,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,25/Nov/25 6:00 AM,25/Nov/25 7:12 AM,,,, [Advertising] [v2] -[February 1st Release],,0,,,"*Placeholder Story* - Part of Epic PROD-996 (APDC Platform)

This story will cover interactive dashboard features including time period controls, drill-down navigation, filtering, and saved views.

*Phase:* Performance Dashboard & Navigation (Phase 2 of 5)

*Detailed requirements to be added later.*",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@1d235e5d,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00don:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16649,PROD-996,"ADS: APDC (Advertising Performance, Diagnostics & Control Platform)",To Do,25/Nov/25 6:00 AM
[PLACEHOLDER] [Phase 2] Performance Snapshot - Core View & Multi-Customer Navigation,PROD-1485,17694,Story,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,25/Nov/25 6:00 AM,25/Nov/25 7:12 AM,,,, [Advertising] [v2] -[February 1st Release],,0,,,"*Placeholder Story* - Part of Epic PROD-996 (APDC Platform)

This story will cover core performance snapshot view and multi-customer navigation capabilities.

*Phase:* Performance Dashboard & Navigation (Phase 2 of 5)

*Detailed requirements to be added later.*",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@bbffa52,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00dof:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16649,PROD-996,"ADS: APDC (Advertising Performance, Diagnostics & Control Platform)",To Do,25/Nov/25 6:00 AM
[PLACEHOLDER] [Phase 1] Historical Baseline & Issue Tracking Schema,PROD-1484,17692,Story,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,25/Nov/25 5:59 AM,25/Nov/25 7:12 AM,,,, [Advertising] [v2] -[February 1st Release],,0,,,"*Placeholder Story* - Part of Epic PROD-996 (APDC Platform)

This story will cover historical performance baselines and issue tracking structure for performance comparison and issue resolution tracking.

*Phase:* Foundation & Data Pipeline (Phase 1 of 5)

*Detailed requirements to be added later.*",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6f74a61f,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00do7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16649,PROD-996,"ADS: APDC (Advertising Performance, Diagnostics & Control Platform)",To Do,25/Nov/25 5:59 AM
[PLACEHOLDER] [Phase 1] Data Ingestion & Processing Pipeline,PROD-1483,17690,Story,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,25/Nov/25 5:59 AM,25/Nov/25 7:12 AM,,,, [Advertising] [v2] -[February 1st Release],,0,,,"*Placeholder Story* - Part of Epic PROD-996 (APDC Platform)

This story will cover automated data collection from Amazon Ads API and internal systems to provide fresh performance data for analysis.

*Phase:* Foundation & Data Pipeline (Phase 1 of 5)

*Detailed requirements to be added later.*",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5452e3ab,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00dnz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16649,PROD-996,"ADS: APDC (Advertising Performance, Diagnostics & Control Platform)",To Do,25/Nov/25 5:59 AM
Upload KW Research Tab # 1 & Tab # 2 data for 7 ASINs via Backend,PROD-1474,17673,Task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,25/Nov/25 2:21 AM,08/Jan/26 2:03 AM,09/Jan/26 5:00 AM,08/Jan/26 2:03 AM,, [Advertising] [v2] -[February 1st Release],,0,,,,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,14400,0,,0%,28800,840,13560,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5221090f,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00dlz:,,,,,,,,,,,,,,,,,,,3_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_3077314_*|*_10003_*:*_1_*:*_3642967350,,,,,,,,,,,14631,PROD-9,ADS: Miscellaneous,Done,08/Jan/26 2:03 AM
Column Preferences & Preset Templates Management,PROD-1465,17655,Story,Engineering review,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,Kostyantyn Solovtsov,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,25/Nov/25 1:34 AM,09/Jan/26 9:01 AM,,,, [Advertising] [v2] -[February 1st Release],26/Jan/26 12:00 AM,0,Advertising,,"h1. *User Story:*


  As a portal user working with Amazon Ads UIs, I want to save and manage multiple column preset templates, so that I can quickly switch between different column configurations for different analysis tasks.

h1. Problem / Context

* Users analyze Amazon Ads data using different methods
* Analysis methods include general overview, detailed analysis, and period-based review
* Different tasks require different column sets:
** Some users review CVR_1D, CVR_7D, CVR_30D conversion metrics
** Some users review campaign statuses (Enabled/Disabled)
** Some users analyze Bids and CPC data
* Currently column settings reset after each session
* Users waste time reconfiguring columns for each analysis task
* Viewing all columns simultaneously is inconvenient
* Users need multiple saved configurations for different scenarios

  Business impact:

* Reduced productivity due to repetitive configuration
* User frustration with lost settings
* Inefficient workflow for different analysis tasks

h1. Solution Outline

  System provides preset template management for column configurations.

  *Core functionality:*

* Users create named presets for column configurations
* Users save multiple presets  per UI
* Users load any saved preset from available list
* Users delete unwanted presets
* System persists all presets to user profile
* Reset function returns to default columns

  *UI requirements (improvements):*

* Mockup:  (need UI updates for Save/Load preset features)
* To Existing â€œColumnsâ€ configuration modal extended with *""Save Preset"" functionality*
* *'Text input'* field for preset name (maximum 15 characters)
* New ""*Load Preset*"" button which  displaying modal window with list of saved presets
* Delete option for each preset in the list
* Existing ""Reset Filters"" button clears active preset and loads defaults

  *API / backend behavior:*

* System stores multiple named presets per user profile
* System validates preset name length (15 characters maximum)
* System loads default columns for new users

!image-20251125-103921.png|width=415,alt=""image-20251125-103921.png""!

h2. Amazon Ads Routes ({{/amazon-ads}})

h3. Main & Dashboard

* {{/amazon-ads/dashboard}} - Main dashboard

h3. Target Records

* {{/amazon-ads/target-records/dashboard}} 
* {{/amazon-ads/target-records/list}} 

h3. ASIN Management

* {{/amazon-ads/asin/dashboard}} 
* {{/amazon-ads/asin-config}} 

h3. Search Terms

* {{/amazon-ads/search-term/dashboard}} 
* {{/amazon-ads/search-term/list}} 
* {{/amazon-ads/search-term/config}} 

h3. Keywords

* {{/amazon-ads/keywords/list}} 
* {{/amazon-ads/keywords/automation}} 
* {{/amazon-ads/keywords/config}} 

h3. Campaigns

* {{/amazon-ads/campaigns/list}} 
* {{/amazon-ads/campaigns/config}} 

h3. Bid Optimization

* {{/amazon-ads/bid-strategy-logs}} 

h1. Connected Work Items

  *Blocks:* -
  *Is Blocked By:* -
  *Relates To:* -

h1. Implementation Notes

  Key considerations for engineering:

* Applies to Amazon Ads UIs (advertising tables and grids)
* Multiple presets per user 
* Preset naming constraint (maximum 15 characters)
* User profile storage for all presets
* Preset name uniqueness validation required

  *Example use cases:*

* ""Campaign Analysis"" preset: Campaign Name, Spend, ROAS, Impressions columns
* ""Budget Review"" preset: Campaign Name, Budget, Spend, Remaining Budget columns
* ""Performance Check"" preset: Campaign Name, CTR, Conversions, CPA columns
* ""Status Review"" preset: Campaign Name, Status, Enabled/Disabled columns
* ""Bid Analysis"" preset: Campaign Name, Bids, CPC, Target columns

  *Edge cases:*

* New user (first login): Display default columns
* Delete currently active preset: Preset deleted, current column settings remain in draft mode until user navigates away
* New columns added to system: Preserve existing presets and add new columns to configuration
* Reset Filters action: Clear active preset state and load default columns
* Preset name validation: Maximum 15 characters, unique names per user
* Duplicate preset names: Display validation error
* Preset ordering in dropdown: Consider alphabetical or chronological order

  *Future considerations (mentioned but not in scope):*

* System-level pre-defined templates created by administrators
* Templates made available at configuration level for all users

  *Technical decisions required:*

* UI placement for export/import functionality (future consideration)

h1. Out of Scope

* Sharing presets between users
* Export/Import preset functionality (separate future Story)
* Preset categories or folder organization
* System-level administrator-defined templates (separate future Story)
* Duplicate preset functionality
* Preset permissions or access control
* Preset versioning or history

h1. Test Cases

* User creates preset named ""Campaign Analysis"" with 10 columns selected â†’ preset saves successfully
* User clicks ""Load Preset"" button, selects ""Campaign Analysis"" â†’ columns load correctly
* User enters preset name with 20 characters â†’ validation error displays
* User enters preset name with 15 characters â†’ name accepts successfully
* User deletes currently active preset â†’ preset deleted, current view remains until user navigates away
* User clicks ""Reset Filters"" button â†’ default columns load, active preset cleared
* New user logs in for first time â†’ default columns display
* System adds new column to available columns â†’ existing saved presets update with new column
* User creates preset, logs out, logs in, loads preset â†’ preset persists correctly
* User loads preset, modifies columns, saves with same preset name â†’ preset updates
* User loads preset, modifies columns, saves with new preset name â†’ new preset created
* User attempts to create preset with empty name â†’ validation error displays
* User attempts to create preset with duplicate name â†’ validation error displays
* Preset save operation fails (API error) â†’ user sees error message, preset not saved
* Preset load operation fails (API error) â†’ user sees error message, maintains current view

h1. Acceptance Criteria

*  Users can create named column presets (max 15 characters)
* Users can load any saved preset from dropdown
* Users can delete unwanted presets
* Preset name validation (15 characters max, unique names)
* Reset Filters clears active preset and loads default columns
* Delete active preset keeps current view until navigation
* New columns added to system appear in existing presets
* Presets persist across sessions (login/logout)
*  New users see default columns
* API save/load failures display user-friendly error messages
* Edge cases and validation covered
*  API contract validated (preset CRUD operations)
*  Tests passed (unit + integration + E2E)
* Mockups approved by PM/UI/UX (modal + dropdown UI changes)",,Kostyantyn Solovtsov,,,,,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Nov/25 2:41 AM;d2a95269-cc51-4c1b-aa6d-b327487ceaa6;image-20251125-103921.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/15584,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6af6e152,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|hzzzw6:3zv,,,,S16: Jan 12 - Jan 25,,,12/Jan/26 12:00 AM,,,,,,ef27ea9c-4877-4c77-b13a-e787725dc584,Ads,,,,,,,,,,,,,,,,14631,PROD-9,ADS: Miscellaneous,In Progress,25/Nov/25 1:34 AM
Automated KW Research - Bugs Fixes # 1,PROD-1464,17654,Bug,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,25/Nov/25 1:21 AM,08/Jan/26 7:47 AM,08/Jan/26 7:47 AM,23/Dec/25 12:45 AM,, [Advertising] [v2] -[February 1st Release],29/Dec/25 12:00 AM,0,,,,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Hubstaff project: PORTAL/SAAS;19/Dec/25 2:49 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;7920,,,,,,,,,,10800,2880,7920,73%,21600,13680,7920,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5336f1ea,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00hcm:zui,,,,S14: Dec 15- Dec 28,,,15/Dec/25 12:00 AM,,,,,,,,,,,,10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_2891684_*|*_10003_*:*_2_*:*_2007241518,,,,,,,,,,,16903,PROD-1099,ADS: Automated KW Research,Done,18/Dec/25 7:44 AM
Automated KW Research - User Feedbackâ€“Driven Enhancements # 4,PROD-1462,17650,Task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,High,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,25/Nov/25 1:21 AM,05/Jan/26 3:07 AM,,05/Jan/26 3:06 AM,, [Advertising] [v2] -[February 1st Release],12/Jan/26 12:00 AM,0,Advertising,,cc: [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] ,,abdul,Automation for Jira,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,,,,Hubstaff project: PORTAL/SAAS;18/Dec/25 2:48 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;4140,Hubstaff project: PORTAL/SAAS;29/Dec/25 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;2820,Hubstaff project: PORTAL/SAAS;30/Dec/25 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;8220,Hubstaff project: PORTAL/SAAS;30/Dec/25 2:46 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3240,,,,,,,111600,0,18420,16%,223200,19380,110640,,,,,,,,,,,,,,,PROD-2630,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@589d0190,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00kiz:,,,,S15: Dec 29 - Jan 11,,,29/Dec/25 12:00 AM,,,,,,,,,,Engineering,2026-01-05 11:07:01.812,3_*:*_1_*:*_87354544_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_448138690_*|*_10003_*:*_2_*:*_2506569223,05/Jan/26 3:07 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,,16903,PROD-1099,ADS: Automated KW Research,Done,30/Dec/25 6:22 AM
Automated Bid Optimization - Miscellaneous - I,PROD-1305,17349,Story,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,19/Nov/25 8:10 AM,25/Nov/25 9:15 AM,,19/Nov/25 8:46 AM,, [Advertising] [v2] -[February 1st Release],,0,,,,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Progress logged via Aha!;25/Nov/25 9:15 AM;e5e7d5e7-6911-4643-b0c4-f0ca46f5b43c;3600,,,,,,,,,,7200,0,3600,50%,21600,14400,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@3f247ec1,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00ckf:,,,,,,,,,,,,,,,,,,,10004_*:*_2_*:*_1411439_*|*_10003_*:*_3_*:*_667144,,,,,,,,,,,15085,PROD-269,ADS: Automated Bid Optimization,Done,19/Nov/25 8:46 AM
Provide simulated output to validate the existing Keyword Research Automation logic.,PROD-1282,17322,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,18/Nov/25 12:17 PM,15/Jan/26 4:19 AM,,15/Dec/25 3:26 AM,, [Advertising] [v2] -[February 1st Release],14/Dec/25 12:00 AM,0,,,"Need to validate the existing Keyword Research Automation logic.
Simulate ASIN upload using the [provided list of keywords and content|https://docs.google.com/spreadsheets/d/1frUUNuxoCyymbbyNUqeOx3ZQ1Ostl1Ib4NEG2oyVjKM/edit?usp=sharing], run the system through all three processing stages, and return the generated data for validation:

* Branding Scope & KWâ€“Product Relationship
* Listing Attributes Ranking
* KWs Grouping & Ranking

cc: [~accountid:712020:aff451dd-dd5b-4c4b-8d72-d72ba00e7042] [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] [~accountid:712020:1d1844b7-ba02-4d68-8831-878ca65c5425] ",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Hubstaff project: PORTAL/SAAS;01/Dec/25 2:50 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3720,Hubstaff project: PORTAL/SAAS;02/Dec/25 3:02 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;2100,Hubstaff project: PORTAL/SAAS;02/Dec/25 3:02 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;480,,,,,,,,18000,11700,6300,35%,18000,11700,6300,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@347ed76d,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00cfj:,,,,S13: Nov 30- Dec 15,,,01/Dec/25 12:00 AM,,,,,,,,,,,,3_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_162832398_*|*_10003_*:*_2_*:*_926631456,,,,,,,,,,,17320,PROD-1281,Automated KW Research - User Feedbackâ€“Driven Enhancements # 3 | Testing & Validation,Done,15/Dec/25 3:26 AM
Automated KW Research - User Feedbackâ€“Driven Enhancements # 3 | Testing & Validation,PROD-1281,17320,Task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,18/Nov/25 12:15 PM,08/Jan/26 7:47 AM,08/Jan/26 7:46 AM,11/Dec/25 11:06 AM,, [Advertising] [v2] -[February 1st Release],14/Dec/25 12:00 AM,0,Advertising,,,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Hubstaff project: PORTAL/SAAS;09/Dec/25 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;1080,Hubstaff project: PORTAL/SAAS;09/Dec/25 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;4860,Hubstaff project: PORTAL/SAAS;09/Dec/25 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;600,Hubstaff project: PORTAL/SAAS;10/Dec/25 2:49 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;1380,Hubstaff project: PORTAL/SAAS;10/Dec/25 2:49 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;7020,Hubstaff project: PORTAL/SAAS;11/Dec/25 11:20 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;4620,,,,,18000,0,19560,108%,36000,11700,25860,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@333f9593,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00cfb:,,,,S13: Nov 30- Dec 15,,,01/Dec/25 12:00 AM,,,,,,,,,,,,3_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_162832490_*|*_10003_*:*_2_*:*_1005360721,,,,,,,,,,,16903,PROD-1099,ADS: Automated KW Research,Done,11/Dec/25 11:06 AM
Add KW Research Manual Trigger and Status to ASIN Config Page,PROD-1264,17270,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,17/Nov/25 10:38 AM,15/Jan/26 4:19 AM,,27/Nov/25 11:52 PM,, [Advertising] [v2] -[February 1st Release],01/Dec/25 12:00 AM,0,,,"h1. Problem / Context

Users need visibility and control over keyword research process for individual ASINs. Currently, keyword research runs automatically without user visibility into status or ability to trigger on demand.

This Sub-task adds three UI columns to ASIN Config page to enable manual control and status tracking of keyword research.

h1. Solution Outline

Add three new columns to ASIN Config page:

*Column 1: Manual Trigger â€œGenerate Researchâ€*

* Button labeled ""Run KW Research""
* Users click button to trigger keyword research for specific ASIN
* Replaces automatic trigger behavior

*Column 2: Status Display â€œKW Research Statusâ€*

* Shows current keyword research status for each ASIN
* Status values displayed:
** ""Insufficient Data - Cannot Generate"" - system lacks required inputs to initiate research (e.g., competitor ASINs)
** ""Ready to Generate - Action Required"" - system has all required data, awaiting user click to start generation process
** ""Research In Progress"" - system generating research, not ready yet
** ""Research Ready - Pending Review"" - research generated, awaiting user review and submission
** ""Research Submitted & Processed"" - research submitted via Tab 3 + processed into one click launch campaigns

*Column 3: Research Link â€œView Researchâ€*

* Hyperlink labeled ""View KW Research""
* Routes user to keyword research page for *specific ASIN*
* Link enabled when research status is ""Research Ready - Pending Review"" or ""Research Submitted & Processed""

h1. Acceptance Criteria

â˜ Three new columns appear in ASIN Config page table

â˜ ""Run KW Research"" button triggers keyword research for selected ASIN

â˜ Status column displays correct status as research progresses through workflow

â˜ Status shows ""Insufficient Data - Cannot Generate"" - system has all required data, awaiting user click to start generation process

â˜ Status shows ""Ready to Generate - Action Required"" - system has all required data, awaiting user click to start generation process

â˜ Status shows ""Research In Progress"" when system is generating research

â˜ Status shows ""Research Ready - Pending Review"" when generation completes

â˜ Status shows ""Research Submitted & Processed"" when Tab 3 submission completes

â˜ Hyperlink routes to correct keyword research page for ASIN

â˜ Link clickable when status is ""Research Ready - Pending Review"" or ""Research Submitted & Processing""

â˜ Link disabled when status is ""Research Not Started"" or ""Research In Progress""

h1. Connected Work Items

*Is Part Of:* [PROD-1262|https://keplercommerce.atlassian.net/browse/PROD-1262]

âœ… This Sub-task provides UI components for PROD-1262 functionality.

h1. Implementation Notes

*UI Components:*

* ASIN Config page table structure
* Button component for manual trigger
* Status indicator component with 5 states
* Hyperlink component with conditional enable/disable 

!image-20251117-191906.png|width=1072,alt=""image-20251117-191906.png""!

[Mockup|https://preview--spads.lovable.app/amazon-ads/asin-config] 

*State Management:*

* Track keyword research status per ASIN across 4 states
* Update status on trigger action
* Update status when Tab 3 submission completes
* Enable/disable link based on status value

*Routing:*

* Define route path to keyword research page
* Pass ASIN identifier as parameter

*Status Flow:*

{noformat}""Ready to Generate - Action Required"" â†’ [User clicks button] â†’ ""Research In Progress"" â†’ 
""Research Ready - Pending Review"" â†’ [Tab 3 submitted] â†’ ""Research Submitted & Processing""{noformat}

*Status-Link Relationship:*

* ""Research Not Started"" â†’ Link disabled
* ""Research In Progress"" â†’ Link disabled
* ""Research Ready - Pending Review"" â†’ Link enabled (user can review)
* ""Research Submitted & Processing"" â†’ Link enabled (user can view submitted research)",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,;24/Nov/25 6:20 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;21600,,,,,,,,,,28800,7200,21600,75%,28800,7200,21600,,,,,,,,,,,,,,,,,,17/Nov/25 11:20 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251117-191906.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/15424,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@286e8414,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00cb3:,,,,S12: Nov 17- Nov 30,,,17/Nov/25 12:00 AM,,,,,,,,,,,2025-11-20 18:04:23.053,3_*:*_1_*:*_94079617_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_251448505_*|*_10003_*:*_2_*:*_243690692,"20/Nov/25 10:04 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] Regarding this, my proposal is to make the â€œProduct Detailsâ€ (optional) field editable only when the status is â€œInsufficient Data â€“ Cannot Generateâ€. If the status is anything else, the field should be disabled. If the system still lacks required data, but the manager enters the missing details into Product Details and competitor keywords are already available, then after saving the status should change to â€œReady to Generate â€“ Action Requiredâ€",24/Nov/25 6:18 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[https://github.com/KeplerCommerce/portal/pull/391|https://github.com/KeplerCommerce/portal/pull/391],,,,,,,,,17266,PROD-1262,Automated KW Research - User Feedbackâ€“Driven Enhancements # 2,Done,24/Nov/25 6:18 AM
Automated KW Research - User Feedbackâ€“Driven Enhancements # 2,PROD-1262,17266,Story,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,17/Nov/25 9:05 AM,27/Nov/25 11:52 PM,,27/Nov/25 11:52 PM,, [Advertising] [v2] -[February 1st Release],01/Dec/25 12:00 AM,0,Advertising,,,,abdul,Automation for Jira,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,,,,Hubstaff project: PORTAL/SAAS;24/Nov/25 2:50 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;4740,Hubstaff project: PORTAL/SAAS;24/Nov/25 2:50 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;9300,Hubstaff project: PORTAL/SAAS;25/Nov/25 2:50 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;6720,Hubstaff project: PORTAL/SAAS;25/Nov/25 2:50 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;1080,Hubstaff project: PORTAL/SAAS;25/Nov/25 2:51 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;1200,Hubstaff project: PORTAL/SAAS;25/Nov/25 2:51 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;6540,Hubstaff project: PORTAL/SAAS;25/Nov/25 2:51 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;1620,Hubstaff project: PORTAL/SAAS;25/Nov/25 2:51 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;60,Hubstaff project: PORTAL/SAAS;25/Nov/25 2:51 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;2880,Hubstaff project: PORTAL/SAAS;25/Nov/25 2:51 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;2340,50400,0,36480,72%,100800,18000,68880,,,,,,,,,,,,,,,PROD-1616,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@3a6b5751,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00can:,,,,S12: Nov 17- Nov 30,,,17/Nov/25 12:00 AM,,,,,,,,,,,2025-11-28 07:52:51.409,3_*:*_1_*:*_86094727_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_251477069_*|*_10003_*:*_2_*:*_348651544,27/Nov/25 11:52 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,,16903,PROD-1099,ADS: Automated KW Research,Done,25/Nov/25 7:42 AM
CLONE - UI - Product Selection Page,PROD-1222,17214,Task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,Kostyantyn Solovtsov,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,17/Nov/25 8:32 AM,12/Dec/25 7:17 AM,,12/Dec/25 7:17 AM,, [Advertising] [v2] -[February 1st Release],14/Dec/25 12:00 AM,0,Advertising,,"h1. User Story

As a User, I want to follow to Product Selection UI and select a product from my automatically synchronized catalog for advertising, so that I can quickly add an eligible product and create campaign with visibility of SP status - Eligible.

----

h1. Problem / Context

*What specific user or system problem are we solving?*

Users need a way to browse their complete product catalog (automatically synchronized from Ads-API) and select products to add to advertising campaigns. The current process lacks visibility into product eligibility and requires manual product discovery. Users need to see which products are ELIGIBLE before attempting to configure advertising.

*Why is this needed?*

This is Step 1 ([SP-API Integration & ASIN Status Sync|https://keplercommerce.atlassian.net/browse/PROD-299]  or [PROD-299|https://keplercommerce.atlassian.net/browse/PROD-299]) of the new User Journey. Users must be able to view their complete synchronized product catalog, filter by eligibility status, and select a product for campaign configuration. Clear visibility of SP statuses prevents wasted time attempting to configure ineligible products. This Product Selection UI  serves as the bridge between the ASIN Config UI (configured products) and the complete product catalog.

----

h1. Solution Outline

*Proposed Approach:*

# Create Product Selection UI triggered by ""[Add Product]"" button from Story 3 ([UI - ASIN Config UI Improvements|https://keplercommerce.atlassian.net/browse/PROD-316] or [PROD-316|https://keplercommerce.atlassian.net/browse/PROD-316])
# Display ALL products from Ads-API sync (exclude configured products which we already added to ASIN Config UI, created Configuration)
# Default filter: show only ELIGIBLE products
# Toggle/Checkbox: ""Show all products including ineligible""
# When toggle enabled: show all products with visual indicators
# INELIGIBLE products: disabled selection + tooltip with explanation
# SUPPRESSED products: disabled selection + critical warning tooltip
# Single product selection 
# Backend validation: reject INELIGIBLE/SUPPRESSED ASINs if submitted
# Button ""[Next: Select Competitors]"" â†’ proceed to Step 2 ([Story 5 UI - Competitor Selection UI|https://keplercommerce.atlassian.net/browse/PROD-331] or [PROD-331|https://keplercommerce.atlassian.net/browse/PROD-331])

*UI / API / System Behavior in Scope:*

* Product Selection UI 
* Product table with SP status badges
* Radio button (checkbox) selection (single product )
* Filter toggle for showing all products
* Search/filter by ASIN or product name
* Backend validation for INELIGIBLE/SUPPRESSED products

h1. *Constraints / Assumptions:*

*[Mockup]*

* Design reference from Lovable mockup Link: [https://preview--spads.lovable.app/amazon-ads/asin-config|https://preview--spads.lovable.app/amazon-ads/asin-config|smart-link] 

!image-20251023-111829.png|width=654,alt=""image-20251023-111829.png""!
* Backend API provides all synced products (Step 1 [SP-API Integration & ASIN Status Sync|https://keplercommerce.atlassian.net/browse/PROD-299]  or [PROD-299|https://keplercommerce.atlassian.net/browse/PROD-299] - completed)
* Need to handle large product lists (500+ ASINs)
* Product Selection UI  should load quickly (<2s)
* Phase 1: Single product selection only (Variant A)

----

h1. Acceptance Criteria

â˜ ""[Add Product]"" button in ASIN Config (Story 3  [UI - ASIN Config UI Improvements|https://keplercommerce.atlassian.net/browse/PROD-316] or [PROD-316|https://keplercommerce.atlassian.net/browse/PROD-316]) opens this Product Selection UI 

â˜ Default: shows only Product which we still not added to ASIN COnfig UI (not configurated) and only ELIGIBLE products and (filter ON by default)

â˜ Toggle ""Show all products including ineligible"" works:

* Disabled (default) â†’ only ELIGIBLE products visible
* Enabled â†’ all products visible with status badges

â˜ Product selection works with radio buttons (single selection - Variant A)

â˜ ELIGIBLE products: can be selected (enabled radio button)

â˜ INELIGIBLE products (when toggle ON):

* Disabled radio button
* Tooltip on hover: ""This product is not eligible for advertising""
* Visual distinction (grayed out row, opacity: 0.5)

â˜ SUPPRESSED products (when toggle ON):

* Disabled radio button
* Tooltip on hover: ""This product is suppressed and cannot be used for advertising""
* Visual distinction (grayed out row, opacity: 0.5, red warning icon)

â˜ Selected product count displayed: ""1 product selected""

â˜ Button ""[Next: Select Competitors]"" enabled only when product selected

â˜ Click ""[Next: Select Competitors]"" â†’ validate with backend, then proceed to Step 2 ([Story 5 UI - Competitor Selection UI|https://keplercommerce.atlassian.net/browse/PROD-331] or [PROD-331|https://keplercommerce.atlassian.net/browse/PROD-331])

â˜ Backend validation rejects INELIGIBLE/SUPPRESSED ASINs

â˜ UI shows backend error if INELIGIBLE/SUPPRESSED ASIN somehow submitted

â˜ Product Selection UI  closes on Cancel button 

â˜ Pagination works for large lists (>50 products)

â˜ Search/filter by ASIN or product name functional

â˜ Loading state while fetching products

----

h1. Implementation Notes

* New Component: `ProductSelection` 

* Table Component: Product table with radio buttons for single selection

* State Management: React Context or Redux for selected product state

* Data Field: Display `sp_overallStatus` for each product

* Toggle Component: ""Show All"" toggle switch (default: OFF, shows only ELIGIBLE)

* Validation Required: 

* Frontend: Disable radio buttons for INELIGIBLE products (based on `sp_overallStatus`)

* Backend: Must validate selected product is ELIGIBLE before proceeding

* Pagination: 10/25/50 products per page

* Search: Filter by product name or ASIN (client-side or server-side - TBD with frontend)

* Navigation: ""Next"" button passes selected product ID to [PROD-331|https://keplercommerce.atlassian.net/browse/PROD-331]

* API Endpoints Needed:

* GET all products with `sp_overallStatus` (paginated)

* POST validate selected product (security check)

* Loading/Error States: Reuse existing patterns

* Dependencies: [PROD-299|https://keplercommerce.atlassian.net/browse/PROD-299] (needs `sp_overallStatus` data), soft dependency on [PROD-316|https://keplercommerce.atlassian.net/browse/PROD-316]

* Blocks: [PROD-331|https://keplercommerce.atlassian.net/browse/PROD-331] (Competitor Selection depends on product selection)

* Security Requirement: Backend validation endpoint is CRITICAL

*Dependencies:*

* Story 1 ([PROD-298|https://keplercommerce.atlassian.net/browse/PROD-298] completed for product data
* Story 3 ([PROD-316|https://keplercommerce.atlassian.net/browse/PROD-316]) provides trigger button
* Story 5 ([PROD-331|https://keplercommerce.atlassian.net/browse/PROD-331]) is the next step
* Backend endpoint for product validation

----

h1. Out of Scope

What this story explicitly does not cover:

* Multiple product selection (Phase 2 - Variant B)
* Inline product editing in Product Selection UI 
* Favorite/bookmark products
* Recently selected products history
* Bulk operations
* Product details view/drill-down
* Export product list from Product Selection UI 



h1. Test Cases

*Test Case 1: Product Selection UI  Open/Close*

* Given: User on ASIN Config page
* When: Click ""[Add Product]"" button
* Then: Product Selection UI opens with product list

*Test Case 2: Default Filter (ELIGIBLE Only)*

* Given: User opens Product Selection UI 
* When: Product Selection UI loads (toggle OFF by default)
* Then: Only ELIGIBLE products shown, count displays ""Showing X eligible products""

*Test Case 3: Toggle ""Show All"" - Enable*

* Given: Toggle OFF (default - only ELIGIBLE shown)
* When: User enables toggle ""Show all products including ineligible""
* Then: All products shown including INELIGIBLE and SUPPRESSED with disabled radio buttons

*Test Case 4: Toggle ""Show All"" - Disable*

* Given: Toggle ON (all products shown)
* When: User disables toggle
* Then: Only ELIGIBLE products shown again, selected INELIGIBLE product cleared if any

*Test Case 5: Select ELIGIBLE Product*

* Given: ELIGIBLE products visible
* When: User clicks radio button for product B08XFFLSY
* Then: Product selected, radio button checked, ""[Next: Select Competitors]"" button enabled

*Test Case 6: INELIGIBLE Product Interaction*

* Given: Toggle ON, INELIGIBLE product visible
* When: User hovers over INELIGIBLE product
* Then: Radio button disabled, tooltip shows ""This product is not eligible for advertising"", row grayed out

*Test Case 7: SUPPRESSED Product Interaction*

* Given: Toggle ON, SUPPRESSED product visible
* When: User hovers over SUPPRESSED product
* Then: Radio button disabled, tooltip shows ""This product is suppressed and cannot be used for advertising"", row grayed out with red warning icon

*Test Case 8: Change Selection*

* Given: Product B08XFFLSY selected
* When: User selects different product B0FS5XYCFP
* Then: Previous selection cleared, new product selected, count remains ""1 product selected""

*Test Case 9: Backend Validation (Success)*

* Given: ELIGIBLE product B08XFFLSY selected
* When: Click ""[Next: Select Competitors]""
* Then: Backend validates successfully,  Product Selection UI  transitions to Competitor Selection UI (Story 5 [PROD-331|https://keplercommerce.atlassian.net/browse/PROD-331])

*Test Case 10: Backend Validation (Failure - Edge Case)*

* Given: User somehow selected INELIGIBLE ASIN (bypassing UI)
* When: Click ""[Next: Select Competitors]""
* Then: Backend returns 400 error, UI shows error message: ""Selected product is not eligible for advertising""

*Test Case 11: Search Functionality*

* Given: 500 products in catalog
* When: User types ""B08X"" in search field
* Then: Products filtered to show only ASINs containing ""B08X"", debounced (300ms)

*Test Case 12: Pagination*

* Given: 200 ELIGIBLE products, 50 per page
* When: User clicks ""Next Page""
* Then: Shows products 51-100, page indicator updates (Page 2 of 4)

*Test Case 13: Close Product Selection UI - No Selection*

* Given: *Product Selection UI* open, no product selected
* When: User clicks Cancel
* Then: User following to ASIN Config UI

*Test Case 14: Close Product Selection UI- With Selection*

* Given: Product Selection UI opened, product selected
* When: User click button cancel 
* Then: Confirmation dialog: ""You have a product selected. Close without continuing?"" with [Cancel] [Close] buttons

*Test Case 15: Empty State - No ELIGIBLE Products*

* Given: All synced products are INELIGIBLE or SUPPRESSED
* When: *Product Selection UI* opens (toggle OFF)
* Then: Empty state: ""No eligible products available. Enable 'Show all products' to see ineligible products.""

*Test Case 16: Loading State*

* Given: User opens Product Selection UI
* When: Products are being fetched
* Then: Loading skeleton displayed (10/25/50 rows), ""[Next]"" button disabled

*Test Case 17: URL State (Optional Enhancement)*

* Given: Product Selection UI open with search ""B08X"" and page 2
* When: User refreshes page
* Then: Product Selection UI state preserved (search and page) OR Product Selection UI closes and user returns to ASIN Config",,abdul,Automation for Jira,Pavlo Lisovets,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,Progress logged via Aha!;01/Dec/25 7:55 AM;e5e7d5e7-6911-4643-b0c4-f0ca46f5b43c;72000,Hubstaff project: PORTAL/SAAS;02/Dec/25 3:02 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;12960,,,,,,,,,30600,0,84960,277%,61200,30600,84960,,,,,,,,,,,,,,,PROD-2081,,,17/Nov/25 8:32 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251023-111829.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/15417,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6d0b67b3,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00cfa:v,,,,S13: Nov 30- Dec 15,,,30/Nov/25 12:00 AM,,,,,,,,,,,2025-12-02 14:55:07.009,3_*:*_2_*:*_1736780_*|*_10594_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_1205552535,02/Dec/25 6:55 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[https://github.com/KeplerCommerce/portal/pull/401|https://github.com/KeplerCommerce/portal/pull/401|smart-link] ,12/Dec/25 7:17 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,17186,PROD-1194,ADS: Automated Competitor Research,Done,01/Dec/25 7:54 AM
CLONE - Backend - Ads-API  Integration & ASIN Status Sync,PROD-1215,17207,Task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Kostyantyn Solovtsov,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,Kostyantyn Solovtsov,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,17/Nov/25 8:32 AM,28/Nov/25 1:49 AM,,28/Nov/25 1:46 AM,, [Advertising] [v2] -[February 1st Release],,0,Advertising,,"h1. User Story

As a Portal Administrator, We want to automatically sync product eligibility status and list of Clients products from Ads-API on a daily basis, so that users always see up-to-date information about products list and which products are eligible for advertising.

----

h1. Problem / Context

*What specific user or system problem are we solving?*

The system does not have current information about available products and their statuses for advertising. We need integration with Ads-API to retrieve the list of ASINs/SKUs and their advertising eligibility statuses.

*Why is this needed?*

This is the foundation for the entire User Journey - without list of products ant their statuses, users cannot see which products are available for advertising. Accurate, up-to-date product eligibility information is critical for preventing errors during campaign setup and reducing time spent troubleshooting ineligible products.

----

h1. Solution Outline

*Proposed Approach:*

# Integration with Ads-API Product Eligibility endpoint
# Create new datapoint {{sp_overallStatus}} in database
# Implement status aggregation logic for ASINs with multiple SKUs
# Compare with existing ASINs and add new products discovered via Ads-API
# Daily schedule for automatic synchronization

*API / System Behavior in Scope:*

* Endpoint: Ads-API Product Eligibility ([https://advertising.amazon.com/API/docs/en-us/eligibility-prod-3p#tag/Product-Eligibility|https://advertising.amazon.com/API/docs/en-us/eligibility-prod-3p#tag/Product-Eligibility|smart-link] )
* Response parsing for overallStatus
* Database schema update for new datapoint
* Daily cron job execution

*Constraints / Assumptions:*

* Ads-API rate limits must be considered in scheduler design
* Multiple SKUs may exist for a single ASIN
* Must handle statuses gracefully
* Sync runs during off-peak hours 

----

h1. Acceptance Criteria

* Ads-API Product Eligibility endpoint is integrated and operational 
*  Database schema updated with new datapoint {{sp_overallStatus}}
*  Status aggregation logic implemented according to rules:

* ELIGIBLE + ELIGIBLE = ELIGIBLE (if any have status ELIGIBLE = ELIGABLE)
*  INELIGIBLE + INELIGIBLE= INELIGIBLE (if all have status INELIGIBLE )
* No data + No data = SUPPRESSED (if no data by ASIN = SUPRESSED)

*  New ASINs from Ads-API are automatically added to client's product list in DB
*  Existing ASINs update their {{sp_overallStatus}} correctly
*  Daily schedule created and operational (cron job / scheduler)
*  Error handling implemented for Ads-API failures and rate limits
*  Unit tests cover status aggregation logic with 90%+ code coverage
*  Sync logs include timestamp, products processed, errors encountered

----

h1. Implementation Notes

*Key API Endpoints:*

[https://advertising.amazon.com/API/docs/en-us/eligibility-prod-3p#tag/Product-Eligibility|https://advertising.amazon.com/API/docs/en-us/eligibility-prod-3p#tag/Product-Eligibility|smart-link] 



* API Endpoints: Amazon Ads-API Product Eligibility endpoint (requires AWS credentials)

* Database: Add `sp_overallStatus` ENUM column and `last_sp_sync` TIMESTAMP to ASIN table

* New Services: 

* `AdsAPIService` for API communication with Amazon Ads-API

* `ASINSyncService` for orchestration and business logic

* Scheduler: Daily cron job at 2 AM UTC

* Rate Limits: Amazon Ads-API allows 10 requests/second - implement throttling

* Error Handling: Exponential backoff, circuit breaker pattern for API failures

* Logging: All status changes must be logged with timestamps

* Configuration: Need ENV variables for Ads-API credentials and region settings

* Dependencies: None - this is foundation task

* Blocks: [PROD-316|https://keplercommerce.atlassian.net/browse/PROD-316], [PROD-323|https://keplercommerce.atlassian.net/browse/PROD-323] (UI tasks depend on this data)

----

h1. Out of Scope

What this story explicitly does not cover:

* Real-time synchronization (daily schedule only)
* Manual force-sync UI button (can be added in Phase 2)
* Detailed eligibility reasons analysis (using only overallStatus)
* Historical status tracking (only current status stored log can be added in Phase 2)
* Notifications to users about status changes (can be added in Phase 2)

----

h1. Test Cases

*Test Case 1: Successful Ads-API Sync*

* Given: Client has 50 existing ASINs in database
* When: Daily sync runs
* Then: All ASINs updated with SP statuses, sync log created with timestamp and count

*Test Case 2: Aggregation Logic - Multiple SKUs (ELIGIBLE)*

* Given: ASIN has 2 SKUs: SKU1=ELIGIBLE, SKU2=ELIGIBLE
* When: Sync processes this ASIN
* Then: sp_overallStatus = ELIGIBLE

*Test Case 3: Aggregation Logic - Mixed Statuses*

* Given: ASIN has 2 SKUs: SKU1=ELIGIBLE, SKU2=NO_DATA_AVAILABLE
* When: Sync processes this ASIN
* Then: sp_overallStatus = ELIGIBLE

*Test Case 4: New ASIN Discovery*

* Given: Ads-API returns ASIN B08NEWPROD not in our database
* When: Sync processes response
* Then: New ASIN added to client's product list with SP status and sp_status_updated_at timestamp

*Test Case 5: Ads-API Rate Limit Hit*

* Given: Sync processing 500 ASINs
* When: Rate limit reached (HTTP 429)
* Then: Queue system pauses, implements exponential backoff, resumes after cooldown

*Test Case 6: Ads-API Failure*

* Given: Ads-API returns 500 error
* When: Sync attempts to fetch product data
* Then: Error logged, retry attempted up to 3 times, sync continues with remaining products

*Test Case 7: SUPPRESSED Status Handling*

* Given: ASIN has 2 SKUs: SKU1=INELIGIBLE, SKU2=INELIGIBLE
* When: Sync processes this ASIN
* Then: sp_overallStatus = SUPPRESSED, stored correctly in database",,abdul,Automation for Jira,Pavlo Lisovets,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,Progress logged via Aha!;28/Nov/25 1:49 AM;e5e7d5e7-6911-4643-b0c4-f0ca46f5b43c;6300,,,,,,,,,,0,33300,6300,,39600,72900,6300,,,,,,,,,,,,,PROD-299,,PROD-1106,PROD-1645,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@25d654bd,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00bzb:,,,,,,,,,,,,,,,,,,2025-11-28 08:44:28.393,10562_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_922277204,28/Nov/25 12:44 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] duplicate [https://keplercommerce.atlassian.net/browse/PROD-299|https://keplercommerce.atlassian.net/browse/PROD-299|smart-link] ,28/Nov/25 1:46 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,17186,PROD-1194,ADS: Automated Competitor Research,Done,28/Nov/25 1:46 AM
UI - ASIN Config UI Improvements,PROD-1208,17200,Task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,Kostyantyn Solovtsov,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,17/Nov/25 8:32 AM,26/Dec/25 8:44 AM,,01/Dec/25 4:30 AM,, [Advertising] [v2] -[February 1st Release],14/Dec/25 12:00 AM,0,Advertising,,"h1. User Story

As a User, I want to see SP-API eligibility status for products that already have advertising configurations in ASIN Config UI, so that I can monitor the advertising eligibility of my configured products and have a clear way to add new products to my advertising campaigns.

----

h1. Problem / Context

*What specific user or system problem are we solving?*

The current ASIN Config UI does not display SP eligibility statuses for configured products, and there is no clear entry point to add new products from the automatically synchronized product catalog. Users cannot monitor if their configured products remain eligible for advertising, and the process to add new products is unclear or missing.

*Why is this needed?*

Users need visibility into SP status for products they've already configured for advertising - if a product becomes INELIGIBLE or SUPPRESSED, they need to know immediately. Additionally, users need a clear, accessible way to add new products from their automatically synchronized catalog to their advertising campaigns. This UI serves as the management interface for configured products and the gateway to adding new ones.

----

h1. Solution Outline

*Proposed Approach:*

# Display only products that already have ads configurations (not all synced products)
# Add new ""SP Status"" column to ASIN Config table for monitoring eligibility
# Implement filter dropdown for SP statuses (with filter options)
# Add sorting capability on SP Status column
# Visual indicators (badges) for different statuses with clear color coding
# Add prominent ""[Add Product]"" button to open Product Selection Modal (Story 4 - [UI - Product Selection Modal|https://keplercommerce.atlassian.net/browse/PROD-323] or [PROD-323|https://keplercommerce.atlassian.net/browse/PROD-323])
# 

*UI / API / System Behavior in Scope:*

* URL: [https://portal.keplercommerce.com/amazon-ads/asin-config|https://portal.keplercommerce.com/amazon-ads/asin-config|smart-link] 
* Display only products with existing advertising configurations
* New ""SP Status"" column with color-coded badges (green/yellow/red)
* Dropdown filter for SP statuses
* Sorting functionality on SP Status column
* ""[Add Product]"" button opens Product Selection Modal (Story 4 - [UI - Product Selection Modal|https://keplercommerce.atlassian.net/browse/PROD-323] or [PROD-323|https://keplercommerce.atlassian.net/browse/PROD-323])
* Responsive design for mobile devices

*Constraints / Assumptions:*

* Backend provides {{sp_overallStatus}} through API (Story 1 - [P-API Integration & ASIN Status Sync|https://keplercommerce.atlassian.net/browse/PROD-299] or [PROD-299|https://keplercommerce.atlassian.net/browse/PROD-299] )
* Backend distinguishes between ""all products"" and ""configured products""
* Design reference from Lovable mockup ( Link to Mockup: [ASIN Config UI|https://preview--spads.lovable.app/amazon-ads/asin-config] )
Screenshot of update version ASIN Config UI

!image-20251023-112059.png|width=654,alt=""image-20251023-112059.png""!
* Existing table component can be extended
* Must maintain current UI performance (<2s load time)

----

h1. Acceptance Criteria

â˜ ASIN Config table displays ONLY products with existing advertising configurations

â˜ New ""SP Status"" column added to ASIN Config table

â˜ Badges display correctly with color coding:

* ELIGIBLE - green badge ({{#10B981}})
* INELIGIBLE - yellow badge ({{#F59E0B}})
* SUPPRESSED - red badge ({{#EF4444}})

â˜ Dropdown filter works with options: All, ELIGIBLE, INELIGIBLE, SUPPRESSED

â˜ Sorting by SP Status column works (alphabetical order)

â˜ Default filter: shows all configured products (All option selected)

â˜ ""[Add Product]"" button prominently displayed (bottom of table or header area)

â˜ Clicking ""[Add Product]"" button opens Product Selection Modal (Story 4 - [UI - Product Selection Modal|https://keplercommerce.atlassian.net/browse/PROD-323] or [PROD-323|https://keplercommerce.atlassian.net/browse/PROD-323])

â˜ Loading states display properly when fetching data

â˜ Empty state handled gracefully:

* No configured products yet: ""No products configured yet. Click 'Add Product' to get started.""

â˜ Filter and sort state persists in URL query parameters

â˜ Page load time remains <2 seconds with new column

â˜ Product count displayed (e.g., ""Showing 45 configured products"")

----

h1. Implementation Notes

* Existing Component: ASIN Config table (extend, don't rebuild)

* New Component: `SPStatusBadge` (reusable badge component)

* Existing Filter System: Add SP Status to existing dropdown filters

* Data Field: Display `sp_overallStatus` from backend

* Color Coding: ELIGIBLE (green #10B981), INELIGIBLE (red #EF4444), SUPPRESSED (yellow #F59E0B)

* Sorting: Add SP Status to existing table sort logic

* â€œAdd Product"" button should navigate to Product Selection Page ([PROD-323|https://keplercommerce.atlassian.net/browse/PROD-323])

* API Endpoint: Need endpoint to fetch ASINs with `sp_overallStatus` field (from [PROD-299|https://keplercommerce.atlassian.net/browse/PROD-299])

* Loading States: Reuse existing spinner components

* Error Handling: Display user-friendly error messages if sync fails

* Dependencies: [PROD-299|https://keplercommerce.atlassian.net/browse/PROD-299] must be complete (needs `sp_overallStatus` data)

* Default Behavior: Show ALL products by default

*Dependencies:*

* Backend Story 1 must be completed (SP status data available via API)
* Story 4 (Product Selection Modal) should be developed in parallel
* Design mockup from Lovable (reference for visual styling)

----

h1. Out of Scope

What this story explicitly does not cover:

* Product Selection Modal functionality (covered in Story 4 - [UI - Product Selection Modal|https://keplercommerce.atlassian.net/browse/PROD-323] or [PROD-323|https://keplercommerce.atlassian.net/browse/PROD-323])
* Displaying all synced products in ASIN Config (only configured products shown here)
* Bulk actions based on SP status (future feature may be Phase 2)
* Historical SP status tracking and timeline view
* Tooltip with detailed ineligibility reasons (may be Phase 2)
* Export functionality filtered by SP status
* Notifications for status changes
* Inline editing of product information
* Manual product addition form (replaced by modal in Story 4 - [UI - Product Selection Modal|https://keplercommerce.atlassian.net/browse/PROD-323] or [PROD-323|https://keplercommerce.atlassian.net/browse/PROD-323])

----

h1. Test Cases

*Test Case 1: Configured Products Only Display*

* Given: User has 45 products with advertising configurations, 500 total products synced
* When: User opens ASIN Config UI
* Then: Only 45 configured products displayed, not all 500 synced products

*Test Case 2: Column Display*

* Given: User opens ASIN Config UI with configured products
* When: Page loads
* Then: SP Status column visible with correct badges for each configured product

*Test Case 3: Badge Color Coding*

* Given: Configured products with different statuses
* When: Table renders
* Then:
** ELIGIBLE shows green badge ({{#10B981}})
** INELIGIBLE shows yellow badge ({{#F59E0B}})
** SUPPRESSED shows red badge ({{#EF4444}})

*Test Case 4: Add Product Button Visibility*

* Given: User on ASIN Config page
* When: Page loads
* Then: ""[Add Product]"" button prominently displayed and easily discoverable

*Test Case 5: Add Product Button Action*

* Given: ""[Add Product]"" button visible
* When: User clicks button
* Then: Product Selection Modal opens (Story 4 functionality)

*Test Case 6: Product Count Display*

* Given: 45 configured products, 30 are ELIGIBLE
* When: ELIGIBLE filter applied
* Then: Shows ""Showing 30 of 45 products""

*Test Case 7: Filtering by ELIGIBLE*

* Given: Filter dropdown set to ""ELIGIBLE""
* When: Apply filter
* Then: Only configured products with ELIGIBLE status displayed (green badges), URL updated with ?sp_status=ELIGIBLE

*Test Case 8: Filtering by INELIGIBLE (Alert Scenario)*

* Given: Filter set to ""INELIGIBLE""
* When: Filter applied
* Then: Shows configured products that are ineligible (yellow badges) - important for monitoring and fixing issues

*Test Case 9: Filtering by SUPPRESSED (Critical Alert)*

* Given: Filter set to ""SUPPRESSED""
* When: Filter applied
* Then: Shows configured products that are suppressed (red badges) - critical issues requiring immediate attention

*Test Case 10: Sorting by SP Status*

* Given: User clicks SP Status column header
* When: Sort triggered
* Then: Products sorted alphabetically by status (ELIGIBLE â†’ INELIGIBLE â†’ SUPPRESSED)

*Test Case 11: Sort Direction Toggle*

* Given: Products sorted ascending
* When: User clicks column header again
* Then: Sort order reverses (descending), sort icon updates

*Test Case 12: Empty State - No Configured Products*

* Given: New user with no configured products yet
* When: User opens ASIN Config
* Then: Empty state message: ""No products configured yet. Click 'Add Product' to get started."" with visible [Add Product] button

*Test Case 13: Empty State - No Matching Filter*

* Given: No configured products match selected filter
* When: Filter applied (e.g., no SUPPRESSED products)
* Then: Empty state message: ""No products found with selected status""

*Test Case 14: Loading State*

* Given: User navigates to ASIN Config page
* When: Data is being fetched
* Then: Loading skeleton displayed for table rows and [Add Product] button visible

*Test Case 15: URL Deep Linking*

* Given: URL contains query params {{?sp_status=ELIGIBLE&sort=sp_status&order=desc}}
* When: User visits URL directly
* Then: Table loads with ELIGIBLE filter applied and sorted descending by status

*Test Case 16: Filter + Sort Combination*

* Given: User applies filter (ELIGIBLE) and sort (descending)
* When: Both are active
* Then: Table shows only ELIGIBLE configured products sorted correctly, URL reflects both parameters

*Test Case 17: Status Change Visibility - ELIGIBLE to INELIGIBLE*

* Given: Configured product changes from ELIGIBLE to INELIGIBLE after daily sync
* When: User refreshes ASIN Config page
* Then: Product's badge updates from green to yellow, user can identify products needing attention

*Test Case 18: Status Change Visibility - INELIGIBLE to SUPPRESSED*

* Given: Configured product changes from INELIGIBLE to SUPPRESSED after daily sync
* When: User refreshes ASIN Config page
* Then: Product's badge updates from yellow to red, critical alert visible",,abdul,Automation for Jira,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,,,,Hubstaff project: PORTAL/SAAS;27/Nov/25 2:50 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3060,Progress logged via Aha!;26/Dec/25 8:44 AM;ug:383e894e-72ee-4ea4-89b8-6830f01da48a;14940,,,,,,,,,23400,0,18000,76%,46800,23400,18000,,,,,,,,,,,,,PROD-316,,PROD-1107,PROD-1713,,17/Nov/25 8:32 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251023-112059.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/15416,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@620140bd,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00cfa:r,,,,S13: Nov 30- Dec 15,,,30/Nov/25 12:00 AM,,,,,,,,,,,2025-12-01 12:30:17.523,10004_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_1195071146,01/Dec/25 4:30 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,,17186,PROD-1194,ADS: Automated Competitor Research,Done,01/Dec/25 4:30 AM
UI - Competitor Selection UI (Step 2),PROD-1195,17187,Story,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,Kostyantyn Solovtsov,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,17/Nov/25 8:32 AM,26/Dec/25 8:44 AM,,12/Dec/25 7:17 AM,, [Advertising] [v2] -[February 1st Release],14/Dec/25 12:00 AM,0,Advertising,,"h1. User Story

As a User, I want to see auto-selected competitors for my chosen product, so that I can review and adjust competitor selection before finalizing my advertising campaign configuration.

----

h1. Problem / Context

*What specific user or system problem are we solving?*

After selecting a product (Step 1), users need to review automatically selected competitors and have the option to adjust the selection before proceeding. Manual competitor research is time-consuming and error-prone. Users need visibility into competitor metrics (rank, revenue, price, keywords) to make informed decisions about which competitors to include in their advertising strategy.

*Why is this needed?*

This is Step 2 and the final step of the User Journey before campaign configuration. Competitor selection is critical for advertising campaign quality - the right competitors determine keyword targeting quality. Automatic selection saves time while allowing users to review and adjust based on their expertise. This step bridges product selection and final campaign setup.

----

h1. Solution Outline

*Proposed Approach:*

# Automatically fetch competitors after product selection in Step 1
# Display competitors with all relevant metrics (image, title, ASIN, rank, revenue, price, keywords)
# Competitors auto-selected by default (checkboxes checked)
# User can deselect competitors they don't want
# Show selection counter: ""10/48 competitors selected""
# Button ""[Confirm & Continue]"" to finalize and proceed to campaign configuration
# Loading state during competitor fetching (~3-5 seconds)

*UI / API / System Behavior in Scope:*

* Auto-fetch competitors from Backend API (Story 2)
* Display competitor cards with checkboxes
* All competitors checked by default
* Deselection capability
* Real-time counter updates
* Metrics display: image, title, ASIN, rank, revenue, price, root keywords
* Mobile responsive design

*Constraints / Assumptions:*

* Backend API (Story 2) completed and provides competitor data
* Design reference: screenshot from mockup
*Link to already existing UI* [https://portal.keplercommerce.com/acg/create|https://portal.keplercommerce.com/acg/create|smart-link] 


!image-20251023-113702.png|width=654,alt=""image-20251023-113702.png""!
* Loading time for competitor fetch: <5 seconds
* Up to 50 competitors per product (based on API capacity)
* Step 2 accessible only after Step 1 completion

----

h1. Acceptance Criteria

â˜ Step 2 UI displays automatically after product selection in Step 1

â˜ Competitors auto-fetched via API on Step 2 load

â˜ All competitors displayed with checkboxes (checked by default)

â˜ Competitor cards show all required metrics:

* Product image
* Product title
* ASIN
* Rank (number)
* Revenue (formatted currency)
* Price (formatted currency)
* Root keywords (displayed as tags or comma-separated list)

â˜ Checkbox for each competitor allows deselection

â˜ Counter displays selection status: ""X/Y competitors selected""

â˜ Counter updates in real-time as selections change

â˜ Minimum 5 competitor must be selected (validation)

â˜ Button ""[Confirm & Continue]"" enabled when at least 5 competitor selected

â˜ Click ""[Confirm & Continue]"" proceeds to next step (campaign configuration - out of Epic scope)

â˜ Loading state displayed while fetching competitors (3-5 seconds)

â˜ Error handling if competitors fail to load (show error + retry option)

â˜ Empty state if no competitors found for selected product

â˜ Responsive design works on mobile (375px width minimum)

â˜ Can navigate back to Step 1 to change product selection

----

h1. Implementation Notes:

* New Component: `CompetitorSelectionView` (new page/step in workflow)

* Card Component: `CompetitorCard` with image, name, ASIN, price, rating

* Grid Layout: Responsive grid (3-4 cards per row), use CSS Grid or Flexbox

* State Management: Track selected competitors in component state (multi-select)

* Selection Validation: Minimum 1 competitor required

* API Integration: Fetch competitors from [PROD-308|https://keplercommerce.atlassian.net/browse/PROD-271] (CompetitorAPIService)

* Data Flow: Receive selected product ID from [PROD-323|https://keplercommerce.atlassian.net/browse/PROD-323]

* ""Confirm"" Button: Submits final selection and completes workflow

* Loading/Error/Empty States: Standard patterns for API calls

* API Endpoints Needed:

* GET competitors by product ID (from [PROD-308|https://keplercommerce.atlassian.net/browse/PROD-271])

* POST submit final selection (product + competitors)

* Dependencies: PROD-308 (Competitor API), [PROD-323|https://keplercommerce.atlassian.net/browse/PROD-271] (Product Selection)

* Blocks: PROD-338 (Testing depends on complete workflow)

* Question for Backend: What's the expected response format from Competitor API?





*Technical Considerations:*

* Fetch competitors immediately on Step 2 mount using useEffect
* Checkbox state management: array of selected competitor ASINs
* All checkboxes checked by default (pre-populate state)
* Counter calculation: {{selectedCount / totalCount}}
* Minimum selection validation: at least 5 competitor required
* Currency formatting: use Intl.NumberFormat or similar
* Keywords display: limited space, consider truncation with ""show more""

*Dependencies:*

* Story 2 (Backend Competitor API) must be completed
* Story 4 (Product Selection Modal) provides the selected ASIN
* Navigation flow from Step 1 â†’ Step 2 established
*[MOCKUP ]*
Link to already existing UI: [https://portal.keplercommerce.com/acg/create|https://portal.keplercommerce.com/acg/create|smart-link] 

!image-20251023-113547.png|width=654,alt=""image-20251023-113547.png""!

----

h1. Out of Scope

What this story explicitly does not cover:

* Manual competitor search/addition (only auto-selected shown)
* Competitor metrics sorting/filtering
* Detailed competitor analytics view
* Save draft (finalize immediately on confirm)
* Select all / deselect all buttons (may be Phase 2 enhancement)
* Competitor comparison tools
* Historical competitor performance data

----

h1. Test Cases

*Test Case 1: Auto-Load Competitors*

* Given: User completed Step 1, selected ASIN B08XFFLSY
* When: Proceed to Step 2
* Then: Competitors auto-loaded via API, all displayed with checked checkboxes

*Test Case 2: Competitor Card Display*

* Given: Competitors loaded successfully
* When: View competitor cards
* Then: Each card shows image, title, ASIN, rank, revenue, price, root keywords

*Test Case 3: All Competitors Pre-Selected*

* Given: 48 competitors loaded
* When: Step 2 displays
* Then: All 48 checkboxes checked, counter shows ""48/48 competitors selected""

*Test Case 4: Deselect Competitor*

* Given: Competitor B09M7MYQNX checked by default
* When: User unchecks checkbox
* Then: Checkbox unchecked, counter updates ""47/48 competitors selected""

*Test Case 5: Reselect Competitor*

* Given: Competitor B09M7MYQNX unchecked
* When: User checks checkbox again
* Then: Checkbox checked, counter updates ""48/48 competitors selected""

*Test Case 6: Counter Real-Time Update*

* Given: 48 competitors, 48 selected
* When: User unchecks 5 competitors
* Then: Counter updates to ""43/48 competitors selected"" in real-time

*Test Case 7: Minimum Selection Validation*

* Given: User deselects all competitors (0 selected)
* When: Try to click ""[Confirm & Continue]""
* Then: Button disabled, validation message: ""Please select at least 1 competitor""

*Test Case 8: Confirm Button Enabled*

* Given: At least 1 competitor selected
* When: View confirm button
* Then: Button enabled and clickable

*Test Case 9: Confirm & Continue Action*

* Given: 10 competitors selected out of 48
* When: Click ""[Confirm & Continue]""
* Then: Proceeds to campaign configuration (out of Epic scope), passes selected competitor ASINs

*Test Case 10: Loading State*

* Given: User proceeds from Step 1 to Step 2
* When: Competitors being fetched (0-5 seconds)
* Then: Loading skeleton/spinner displayed, counter not shown yet

*Test Case 11: Error Handling - API Failure*

* Given: Competitor API returns 500 error
* When: Step 2 tries to load
* Then: Error message displayed: ""Unable to load competitors. Please try again."" with [Retry] button

*Test Case 12: Error Handling - Retry*

* Given: Error state displayed
* When: User clicks [Retry]
* Then: API call retried, loading state shown again

*Test Case 13: Empty State - No Competitors Found*

* Given: Selected ASIN has no competitors in API response
* When: Step 2 loads
* Then: Empty state: ""No competitors found for this product. Please go back and select a different product.""

*Test Case 14: Back to Step 1 Navigation*

* Given: User on Step 2
* When: Click ""[Back]"" or ""Change Product"" button
* Then: Returns to Step 1 (Product Selection Modal), previous selection cleared

*Test Case 15: Keywords Display*

* Given: Competitor has 10 root keywords
* When: View competitor card
* Then: Keywords displayed (truncated if too many, with ""show more"" option or tooltip)

*Test Case 16: Currency Formatting*

* Given: Competitor price $27.99, revenue $3200
* When: View competitor card
* Then: Formatted as ""$27.99"" and ""$3,200"" respectively",,abdul,Automation for Jira,Pavlo Lisovets,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,Hubstaff project: PORTAL/SAAS;02/Dec/25 3:02 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3600,Hubstaff project: PORTAL/SAAS;02/Dec/25 3:02 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3480,Hubstaff project: PORTAL/SAAS;02/Dec/25 3:02 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;960,Hubstaff project: PORTAL/SAAS;03/Dec/25 2:49 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;12840,Hubstaff project: PORTAL/SAAS;03/Dec/25 2:49 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;6360,Hubstaff project: PORTAL/SAAS;03/Dec/25 2:49 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;5160,Hubstaff project: PORTAL/SAAS;03/Dec/25 2:49 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;540,Hubstaff project: PORTAL/SAAS;03/Dec/25 2:49 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;720,Hubstaff project: PORTAL/SAAS;03/Dec/25 2:49 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3480,Progress logged via Aha!;26/Dec/25 8:44 AM;ug:383e894e-72ee-4ea4-89b8-6830f01da48a;16860,54000,0,54000,100%,108000,54000,54000,,,,,,,,,,,,,,,PROD-2080,,,17/Nov/25 8:32 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251023-113547.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/15413,17/Nov/25 8:32 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251023-113702.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/15414,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@4db0960c,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00cfa:,,,,S13: Nov 30- Dec 15,,,01/Dec/25 12:00 AM,,,,,,,,,,,2025-12-02 20:31:20.666,3_*:*_1_*:*_90486816_*|*_10594_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_1219875727,02/Dec/25 12:31 PM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[https://github.com/KeplerCommerce/portal/pull/405|https://github.com/KeplerCommerce/portal/pull/405|smart-link] ,12/Dec/25 7:17 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,17186,PROD-1194,ADS: Automated Competitor Research,Done,02/Dec/25 12:31 PM
ADS: Automated Competitor Research,PROD-1194,17186,Epic,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,17/Nov/25 8:32 AM,28/Nov/25 7:29 AM,08/Jan/26 7:30 AM,, [Advertising] [v2] -[February 1st Release], [Advertising] [v2] -[February 1st Release],17/Nov/25 12:00 AM,0,Advertising,,"*High-level Business Problem:*

The current process for adding products to Ads Automations requires significant manual work and manual collection of product identifiers (SKU/ASIN IDs). The system does not provide visibility into product advertising eligibility status through Amazon Ads-API. Users cannot quickly identify which products are eligible for advertising, and the competitor selection process is extremely time-consuming.

There is a high probability of incorrect competitor selection due to user error, which leads to choosing suboptimal competitors and consequently obtaining a non-optimal set of keywords for advertising campaigns.

Product status visibility is also critical because we periodically add products that are not available for advertising. During testing of advertising automation features, users spend excessive time investigating issues when a product has been unavailable for advertising for a week or longer.

*Why It Matters (Business Value):*

* Improved User Journey for creating advertising campaigns
* Automated synchronization with Ads-API to retrieve product eligibility statuses (ELIGIBLE/INELIGIBLE/SUPPRESSED)
* Intelligent competitor matching based on proven logic from Listing Optimization
* Significant reduction in campaign setup time
* Minimized mistakes when selecting unsuitable products for advertising
* Clear product status visibility enables rapid problem resolution related to product eligibility issues

----

h1. Solution Outline

*Strategic Direction:*

Integrate Ads-API for automatic retrieval of product lists and their advertising eligibility statuses, combined with a new two-step User Journey: (1) product selection with SP status filtering, (2) automatic competitor discovery and selection.

*Scope of Work:*

# Backend: Ads-API Integration - Synchronize products and statuses on a daily schedule (Done)
# Backend: Competitor Selection API Integration - Leverage existing logic from Listing Optimization team (Should be done By Yehor)
# UI: ASIN Config UI Improvements - Add new SP Status column and filtering capabilities (Done)
# _UI: Product Selection Page (Step 1) - Enable single product selection workflow_ 
# _UI: Competitor Selection UI (Step 2) - Display and manage auto-selected competitors_
# Integration: End-to-End Flow - Complete integration from product selection through competitor assignment

*Key Dependencies and Constraints:*

* Dependency on Listing Optimization team for Competitor Selection API access and coordination
* Ads-API rate limits and daily synchronization schedule requirements
* Lovable mockup serves as reference for UI implementation
* ASIN Config UI improvements must be ready before or in parallel with Product Selection Page
* Initial release supports single product selection (Variant A); batch selection planned for Phase 2

----

h1. Acceptance Criteria

â˜ Business outcome clearly achieved: Users can view Ads-API eligibility status for all products and add products with auto-selected competitors via 2-step flow

â˜ All linked Stories are delivered and accepted

â˜ Ads-API synchronization operates successfully on daily schedule with <5% error rate

â˜ UI displays SP statuses with filtering options (ELIGIBLE/INELIGIBLE/SUPPRESSED)

â˜ Single product selection workflow (Variant A) functions correctly

â˜ Competitor auto-selection is integrated and operational

â˜ Users can complete product addition with competitors in <5 minutes (vs current process)

â˜ 90%+ of users see accurate, up-to-date SP product statuses

â˜ Competitor selection accuracy aligns with Listing Optimization logic

â˜ Documentation and knowledge transfer completed (API endpoints, UI components, workflow documentation)

----

h1. Out of Scope

The following items are explicitly NOT included in this Epic:

* Analytics/tracking events (separate Epic for logging system)
* Permissions & security restrictions (not required at this stage)
* Advanced error handling & comprehensive system logs (separate Epic)
* Batch competitor selection (ability to add multiple products simultaneously) - Phase 2
* Historical SP status tracking
* Manual competitor search and addition
* Real-time Ads-API synchronization (only daily scheduled sync)

----

h1. Success Metrics

The following KPIs and measurable results define success for this Story:

* Daily Ads-API sync executes successfully with <5% error rate
* Users can add products with competitors in <5 minutes (compared to current manual process)
* 90%+ of users view accurate, current SP product statuses
* Competitor selection accuracy matches Listing Optimization logic performance
* Zero production incidents related to INELIGIBLE product selection
* Reduced support tickets related to product eligibility confusion

----

h2. 
Task Dependencies Map

h3. ğŸ”´ PRIORITY 1: Start Immediately (No Dependencies)

*#PROD-299: Backend - Ads-API Integration & ASIN Status Sync*

* *Dependencies:* None âœ…
* *Blocks:* #PROD-316, #PROD-323
* *Team:* Backend
* *Critical:* Blocks all frontend work

*#PROD-308: Backend - Competitor Selection API Integration*

* *Dependencies:* None âœ…
* *Blocks:* #PROD-331
* *Team:* Backend
* *Critical:* External API dependency
* *âš ï¸ Must start #PROD-311 first* (Listing Optimization coordination)

*Action:* Start both tasks in parallel immediately.

----

h3. ğŸŸ¡ PRIORITY 2: Start After Backend Ready

*#PROD-316: UI - ASIN Config UI Improvements*

* *Dependencies:* Requires #PROD-299 âœ…
* *Blocks:* Nothing
* *Team:* Frontend

*#PROD-323: UI - Product Selection Page*

* *Dependencies:* Requires #PROD-299 âœ… (hard), #PROD-316 (soft - optional)
* *Blocks:* #PROD-331
* *Team:* Frontend

*Action:* Start both tasks in parallel when PROD-299 completes. PROD-316 soft dependency means no need to wait.

----

h3. ğŸŸ¢ PRIORITY 3: Start After UI Step 1 Ready

*#PROD-331: UI - Competitor Selection UI (Step 2)*

* *Dependencies:* Requires #PROD-308 âœ… AND #PROD-323 âœ…
* *Blocks:* #PROD-338
* *Team:* Frontend

*Action:* Cannot start until both dependencies complete.

----

h3. ğŸ”µ PRIORITY 4: Final Integration

*#PROD-338: Integration & End-to-End Testing*

* *Dependencies:* Requires ALL (#PROD-299, #PROD-308, #PROD-316, #PROD-323, #PROD-331) âœ…
* *Blocks:* Nothing (final task)
* *Team:* QA + All teams

*Action:* Final testing phase.


{adf:display=block}
{""type"":""table"",""attrs"":{""isNumberColumnEnabled"":false,""layout"":""center"",""localId"":""4770cb3b-6101-48e6-8ee7-4594741c0502""},""content"":[{""type"":""tableRow"",""content"":[{""type"":""tableCell"",""attrs"":{""colspan"":2},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""Quick Reference: Who Waits for What?"",""marks"":[{""type"":""strong""}]}]}]}]},{""type"":""tableRow"",""content"":[{""type"":""tableCell"",""attrs"":{},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""Task""}]}]},{""type"":""tableCell"",""attrs"":{},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""Waits For""}]}]}]},{""type"":""tableRow"",""content"":[{""type"":""tableCell"",""attrs"":{},""content"":[{""type"":""paragraph"",""content"":[{""type"":""inlineCard"",""attrs"":{""url"":""https://keplercommerce.atlassian.net/browse/PROD-299""}},{""type"":""text"",""text"":"" (Done)"",""marks"":[{""type"":""strong""},{""type"":""underline""}]}]}]},{""type"":""tableCell"",""attrs"":{},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""Nothing""}]}]}]},{""type"":""tableRow"",""content"":[{""type"":""tableCell"",""attrs"":{},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""PROD-308"",""marks"":[{""type"":""link"",""attrs"":{""href"":""https://keplercommerce.atlassian.net/browse/PROD-308""}},{""type"":""strong""},{""type"":""underline""}]},{""type"":""text"",""text"":""  (We already have it for Listing Optimization migration)"",""marks"":[{""type"":""strong""},{""type"":""underline""}]}]}]},{""type"":""tableCell"",""attrs"":{},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""Nothing""}]}]}]},{""type"":""tableRow"",""content"":[{""type"":""tableCell"",""attrs"":{},""content"":[{""type"":""paragraph"",""content"":[{""type"":""inlineCard"",""attrs"":{""url"":""https://keplercommerce.atlassian.net/browse/PROD-316""}},{""type"":""text"",""text"":"" (Done)"",""marks"":[{""type"":""strong""},{""type"":""underline""}]}]}]},{""type"":""tableCell"",""attrs"":{},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""PROD-299"",""marks"":[{""type"":""link"",""attrs"":{""href"":""https://keplercommerce.atlassian.net/browse/PROD-299""}},{""type"":""strong""},{""type"":""underline""}]}]}]}]},{""type"":""tableRow"",""content"":[{""type"":""tableCell"",""attrs"":{},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""PROD-323"",""marks"":[{""type"":""link"",""attrs"":{""href"":""https://keplercommerce.atlassian.net/browse/PROD-323""}},{""type"":""strong""},{""type"":""underline""}]}]}]},{""type"":""tableCell"",""attrs"":{},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""PROD-299"",""marks"":[{""type"":""link"",""attrs"":{""href"":""https://keplercommerce.atlassian.net/browse/PROD-299""}},{""type"":""strong""},{""type"":""underline""}]}]}]}]},{""type"":""tableRow"",""content"":[{""type"":""tableCell"",""attrs"":{},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""PROD-331"",""marks"":[{""type"":""link"",""attrs"":{""href"":""https://keplercommerce.atlassian.net/browse/PROD-331""}},{""type"":""strong""},{""type"":""underline""}]},{""type"":""text"",""text"":"" (We already have ready prototype under Listing Optimization migrations)"",""marks"":[{""type"":""strong""},{""type"":""underline""}]}]}]},{""type"":""tableCell"",""attrs"":{},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""PROD-308"",""marks"":[{""type"":""link"",""attrs"":{""href"":""https://keplercommerce.atlassian.net/browse/PROD-308""}},{""type"":""strong""},{""type"":""underline""}]},{""type"":""text"",""text"":"" + "",""marks"":[{""type"":""strong""}]},{""type"":""text"",""text"":""PROD-323"",""marks"":[{""type"":""link"",""attrs"":{""href"":""https://keplercommerce.atlassian.net/browse/PROD-323""}},{""type"":""strong""},{""type"":""underline""}]}]}]}]},{""type"":""tableRow"",""content"":[{""type"":""tableCell"",""attrs"":{},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""PROD-338"",""marks"":[{""type"":""link"",""attrs"":{""href"":""https://keplercommerce.atlassian.net/browse/PROD-338""}},{""type"":""strong""},{""type"":""underline""}]}]}]},{""type"":""tableCell"",""attrs"":{},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""ALL tasks""}]}]}]}]}
{adf}",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,0,0,,,219600,102360,169800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@133556c,,,,,,,,,,,ghx-label-9,,,,,,,,,orange,,,,,,Yes,0|i00bun:,,,,S11: Nov 3 - Nov 16,,,03/Nov/25 12:00 AM,,,,,,ef27ea9c-4877-4c77-b13a-e787725dc584,Ads,,,Engineering,,,,,,,,,,,,,,,,To Do,17/Nov/25 8:32 AM
Manual KW Targeting - v1 Baseline Budget Logic Engine,PROD-1131,17008,Story,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Nov/25 9:29 AM,27/Nov/25 1:09 AM,,25/Nov/25 7:44 AM,, [Advertising] [v2] -[February 1st Release],01/Dec/25 12:00 AM,0,Advertising,,,,abdul,Automation for Jira,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,,,,,,,,,,,,,,7200,7200,,0%,14400,7200,7200,,,,,,,,,,,,,,,PROD-1505,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@2588e2a,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00bf3:,,,,S12: Nov 17- Nov 30,,,17/Nov/25 12:00 AM,,,,,,,,,,,2025-11-25 15:44:16.472,10563_*:*_1_*:*_144717889_*|*_10003_*:*_2_*:*_18506,25/Nov/25 7:44 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,,16967,PROD-1111,ADS: Automated Budget Optimization,Done,25/Nov/25 7:44 AM
Manual KW Targeting - Isolation Logic Engine,PROD-1130,17006,Story,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Nov/25 8:27 AM,26/Dec/25 8:46 AM,,13/Nov/25 8:38 AM,, [Advertising] [v2] -[February 1st Release],,0,Advertising,,,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Progress logged via Aha!;26/Dec/25 8:46 AM;ug:383e894e-72ee-4ea4-89b8-6830f01da48a;3600,,,,,,,,,,,0,3600,,28800,0,32400,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@41f4a2d5,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00bev:,,,,,,,,,,,,,,,,,,,10563_*:*_1_*:*_150316_*|*_10003_*:*_2_*:*_10974,,,,,,,,,,,16968,PROD-1112,ADS: Automated High Performers Isolation,Done,13/Nov/25 8:38 AM
v1 Keyword Aggregation & Filtering Engine,PROD-1129,17001,Story,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Highest,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Nov/25 8:13 AM,26/Dec/25 8:03 AM,,26/Dec/25 8:03 AM, [Advertising] [v2] -[February 1st Release], [Advertising] [v2] -[February 1st Release],29/Dec/25 12:00 AM,0,Advertising,,,,abdul,Andrew Pomaz,Automation for Jira,Kostyantyn Solovtsov,Pavlo Lisovets,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,Progress logged via Aha!;28/Nov/25 8:56 AM;e5e7d5e7-6911-4643-b0c4-f0ca46f5b43c;3600,Hubstaff project: PORTAL/SAAS;18/Dec/25 2:48 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;4440,Hubstaff project: PORTAL/SAAS;18/Dec/25 2:48 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;1500,Hubstaff project: PORTAL/SAAS;24/Dec/25 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;300,,,,,,,72000,0,9840,13%,144000,19080,70440,,,,,,,,,,,,,,,PROD-2574,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@d4b6fd6,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i006r5:,,,,S14: Dec 15- Dec 28,,,15/Dec/25 12:00 AM,,,,,,,,,,,2025-11-27 21:14:48.602,3_*:*_1_*:*_258793530_*|*_10627_*:*_2_*:*_581620391_*|*_10561_*:*_1_*:*_113530203_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_2_*:*_338222323_*|*_10562_*:*_1_*:*_24345_*|*_10003_*:*_4_*:*_2233669173,27/Nov/25 1:14 PM;712020:f3cab010-5271-43c1-acd3-3156ad0572f2;Blocked wait feedback from the team,"17/Dec/25 10:57 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] I have reviewed the tasks and they are feasible. However, I would like to note that since the implementation involves a large number of repeated requests per ASIN, the cost of retrieving the data may reach 1â€“2$ (or possibly more) per ASIN
cc [~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] ","17/Dec/25 11:49 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07]  Firstly, if we donâ€™t receive all the data, we need to resend the request to retrieve it. But if the data still doesnâ€™t arrive, how many more times should we try?
[http://keplercommerce.atlassian.net/browse/PROD-2170|http://keplercommerce.atlassian.net/browse/PROD-2170]
Secondly, we check the data weekly, but if it never appears for a certain keyword, what should we do with such keywords?
Additionally, we have keywords that are manually uploaded, so we probably need to distinguish between keywords obtained from Jungle Scout and those from other sources.
[https://keplercommerce.atlassian.net/browse/PROD-2175|https://keplercommerce.atlassian.net/browse/PROD-2175]
Additionally, logic similar to [https://keplercommerce.atlassian.net/browse/PROD-2163|https://keplercommerce.atlassian.net/browse/PROD-2163] will be added.
I just wanted to draw your attention to this.
I might have misunderstood the intended approach, so please clarify.","17/Dec/25 12:30 PM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] 1. Keep it 2 times and target to get 10 of 13 column values at least. if you get > 10 values in first attempt then donâ€™t retry otherwise retry for 1 more times. i

# try one time only for non-js kws as they pose a risk of not being available there as well. Though in most cases, they would be fiund.

[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] 1-2$ per ASIN is ok for now. Engineering team should keep an eye on this, If this goes exploding over time then weâ€™ll think something. ",26/Dec/25 8:03 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,16903,PROD-1099,ADS: Automated KW Research,Done,23/Dec/25 3:38 AM
Manual KW Targeting - Bid Data Integration & Sync Layer,PROD-1128,16997,Story,Pending requirements,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Nov/25 8:10 AM,08/Jan/26 11:16 PM,,,, [Advertising] [v2] -[February 1st Release],,0,Advertising,,,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@65c16026,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00766:r,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15085,PROD-269,ADS: Automated Bid Optimization,In Progress,08/Jan/26 11:15 PM
Automatic Targeting - Bid Data Integration & Sync Layer,PROD-1127,16995,Story,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Nov/25 8:00 AM,25/Nov/25 7:09 AM,,12/Nov/25 8:01 AM,, [Advertising] [v2] -[February 1st Release],,0,Advertising,,,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Progress logged via Aha!;18/Nov/25 1:30 PM;e5e7d5e7-6911-4643-b0c4-f0ca46f5b43c;3600,,,,,,,,,,,0,3600,,14400,14400,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@3c1bef5d,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00bd3:,,,,,,,,,,,,,,,,,,,10004_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_11711,,,,,,,,,,,15085,PROD-269,ADS: Automated Bid Optimization,Done,12/Nov/25 8:01 AM
Automatic Targeting - v1 Baseline Conversion Rate Estimation Engine,PROD-1126,16993,Story,Pending requirements,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Nov/25 8:00 AM,08/Jan/26 11:16 PM,,,, [Advertising] [v2] -[February 1st Release],,0,Advertising,,,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,57600,0,,0%,57600,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@32d8dc56,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00766:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15085,PROD-269,ADS: Automated Bid Optimization,In Progress,08/Jan/26 11:16 PM
Automatic Targeting - v1 Bid Logic Engine (Core Optimization),PROD-1125,16991,Story,Pending requirements,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Nov/25 7:59 AM,08/Jan/26 11:16 PM,,,, [Advertising] [v2] -[February 1st Release],,0,Advertising,,,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,28800,0,,0%,28800,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@4f3df3ff,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00763:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15085,PROD-269,ADS: Automated Bid Optimization,In Progress,08/Jan/26 11:16 PM
ASIN Targeting - v1 Baseline Conversion Rate Estimation Engine,PROD-1124,16989,Story,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Nov/25 7:47 AM,09/Jan/26 9:01 AM,,,, [Advertising] [v2] -[February 1st Release],26/Jan/26 12:00 AM,0,Advertising,,,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,21600,0,,0%,43200,21600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@66c78a3c,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|hzzzw6:3zi,,,,S16: Jan 12 - Jan 25,,,12/Jan/26 12:00 AM,,,,,,,,,,,,,,,,,,,,,,,15085,PROD-269,ADS: Automated Bid Optimization,To Do,23/Nov/25 11:29 PM
ASIN Targeting - Campaign Configuration Engine,PROD-1122,16985,Story,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Nov/25 7:37 AM,25/Nov/25 7:38 AM,,13/Nov/25 8:35 AM,, [Advertising] [v2] -[February 1st Release],,0,Advertising,,,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Progress logged via Aha!;18/Nov/25 1:30 PM;e5e7d5e7-6911-4643-b0c4-f0ca46f5b43c;3600,,,,,,,,,,,0,3600,,28800,0,46800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5d5c112c,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00bc7:,,,,,,,,,,,,,,,,,,,10563_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_187865,,,,,,,,,,,16981,PROD-1120,ADS: Automated Campaign Creation,Done,13/Nov/25 8:35 AM
ASIN Targeting - Targeting Data Aggregation & Campaign Structuring Engine,PROD-1121,16983,Task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Nov/25 7:36 AM,25/Nov/25 7:38 AM,,13/Nov/25 8:35 AM,, [Advertising] [v2] -[February 1st Release],,0,Advertising,,,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Progress logged via Aha!;18/Nov/25 1:30 PM;e5e7d5e7-6911-4643-b0c4-f0ca46f5b43c;3600,,,,,,,,,,,0,3600,,28800,14400,18000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@54230572,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00bbz:,,,,,,,,,,,,,,,,,,,10563_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_203191,,,,,,,,,,,16981,PROD-1120,ADS: Automated Campaign Creation,Done,13/Nov/25 8:35 AM
ADS: Automated Campaign Creation,PROD-1120,16981,Epic,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Nov/25 7:33 AM,14/Nov/25 9:30 AM,08/Jan/26 8:02 AM,13/Nov/25 8:35 AM, [Advertising] [v2] -[February 1st Release], [Advertising] [v2] -[February 1st Release],16/Nov/25 12:00 AM,0,,,,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,0,0,,,0,0,7200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6822dcf0,,,,,,,,,,,ghx-label-9,,To Do,,,,,,,orange,,,,,,,0|i00bbr:,,,,,,,,,,,,,,,,,,,10004_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_90125453,,,,,,,,,,,,,,Done,13/Nov/25 8:35 AM
Brand Grouping & Structuring Component,PROD-1119,16980,Story,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Nov/25 7:21 AM,25/Nov/25 7:37 AM,,12/Nov/25 7:27 AM,, [Advertising] [v2] -[February 1st Release],,0,Advertising,,,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Progress logged via Aha!;18/Nov/25 1:30 PM;e5e7d5e7-6911-4643-b0c4-f0ca46f5b43c;3600,,,,,,,,,,,0,3600,,28800,0,32400,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6b2422cf,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00bbj:,,,,,,,,,,,,,,,,,,,10004_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_413942,,,,,,,,,,,16971,PROD-1114,ADS: Automated Target Product Research,Done,12/Nov/25 7:27 AM
v1 Competitor Qualification Logic Engine,PROD-1117,16977,Story,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Nov/25 7:20 AM,25/Nov/25 7:37 AM,,12/Nov/25 7:27 AM,, [Advertising] [v2] -[February 1st Release],,0,Advertising,,,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Progress logged via Aha!;18/Nov/25 1:30 PM;e5e7d5e7-6911-4643-b0c4-f0ca46f5b43c;3600,,,,,,,,,,,0,3600,,57600,0,61200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@58d19ff,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00bb3:,,,,,,,,,,,,,,,,,,,10004_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_395844,,,,,,,,,,,16971,PROD-1114,ADS: Automated Target Product Research,Done,12/Nov/25 7:27 AM
ASIN Retrieval Engine,PROD-1116,16975,Story,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Nov/25 7:20 AM,25/Nov/25 7:36 AM,,12/Nov/25 7:27 AM,, [Advertising] [v2] -[February 1st Release],,0,Advertising,,,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Progress logged via Aha!;18/Nov/25 1:30 PM;e5e7d5e7-6911-4643-b0c4-f0ca46f5b43c;3600,,,,,,,,,,,0,3600,,86400,14400,75600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@7333e4d3,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00bav:,,,,,,,,,,,,,,,,,,,10004_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_391265,,,,,,,,,,,16971,PROD-1114,ADS: Automated Target Product Research,Done,12/Nov/25 7:27 AM
Search Term Performance Analysis Engine,PROD-1115,16973,Story,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Nov/25 7:20 AM,25/Nov/25 7:36 AM,,12/Nov/25 7:26 AM,, [Advertising] [v2] -[February 1st Release],,0,Advertising,,,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Progress logged via Aha!;18/Nov/25 1:30 PM;e5e7d5e7-6911-4643-b0c4-f0ca46f5b43c;3600,,,,,,,,,,,0,3600,,43200,0,54000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6b7d4c48,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00ban:,,,,,,,,,,,,,,,,,,,10004_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_377348,,,,,,,,,,,16971,PROD-1114,ADS: Automated Target Product Research,Done,12/Nov/25 7:26 AM
ADS: Automated Target Product Research,PROD-1114,16971,Epic,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Nov/25 7:18 AM,19/Nov/25 4:46 AM,08/Jan/26 9:10 AM,13/Nov/25 8:27 AM, [Advertising] [v2] -[February 1st Release], [Advertising] [v2] -[February 1st Release],05/Dec/25 12:00 AM,0,,,"h2. Resources:

[ASIN Targeting_Competitor Research & Campaign Update Workflow (15-Day Cycle)_30 Oct'25|https://docs.google.com/document/d/1BEzpSTmuDqbzXmfRTOIcBaY3peCMTqaBNSHbpY9_w_E/edit?usp=sharing]",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,0,0,,,0,0,14400,,,,,,,,,,,,,,,,,,19/Nov/25 4:46 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251119-124538.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/15511,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@1a4ac855,,,,,,,,,,,ghx-label-9,,To Do,,,,,,,orange,,,,,,,0|i00baf:,,,,,,,,,,,,,,,,,,,10004_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_90513276,"19/Nov/25 4:46 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;!image-20251119-124538.png|width=1079,alt=""image-20251119-124538.png""!

this document =>[https://docs.google.com/document/d/1BEzpSTmuDqbzXmfRTOIcBaY3peCMTqaBNSHbpY9_w_E/edit?usp=sharing|https://docs.google.com/document/d/1BEzpSTmuDqbzXmfRTOIcBaY3peCMTqaBNSHbpY9_w_E/edit?usp=sharing|smart-link] 

[https://github.com/KeplerCommerce/portal/pull/379|https://github.com/KeplerCommerce/portal/pull/379|smart-link] ",,,,,,,,,,,,,Done,13/Nov/25 8:27 AM
ASIN Targeting - Isolation Logic Engine,PROD-1113,16970,Story,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Nov/25 6:58 AM,25/Nov/25 7:27 AM,,,, [Advertising] [v2] -[February 1st Release],,0,,,"*Note:* This user story is a placeholder. The details and subtasks will be added later.

*Context (so you can add story points):* Similar to our high-performance isolation campaigns for manual keyword targeting (covering all search terms except for the Search Terms which are 10 digit ASINs), we now want to implement a high-performance isolation logic specifically for *ASIN-based search terms*.

Here, a *search term* refers to the terms reported in the system (search term reports), which can include keywords, phrases, or exact ASINs that shoppers enter. For this subtask, we are only concerned with *search terms that are exactly a 10-digit ASIN*, not generic keywords, intent-based phrases, or partial ASINs. These are retrieved from the search term report where each term represents actual shopper queries.

For each *ASIN based Search term* that is found within the list of top search terms (as per the Isolation criteria), we will create a separate campaign configured similarly to our existing *ASIN targeting campaigns*, effectively isolating the ASIN for high-performance advertising.

In summary, we will have *two types of high-performance isolation campaigns*:

# *Manual keyword targeting campaigns* â€“ targeting general search terms (keywords or intent-based queries) under manual keyword configuration. (Done already)
# *ASIN targeting campaigns* â€“ targeting search terms that are exact ASINs, with campaign configuration mirroring ASIN-targeted ads. (Pertains to this User Story)",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@1a583b16,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00ba7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16968,PROD-1112,ADS: Automated High Performers Isolation,To Do,12/Nov/25 6:58 AM
ADS: Automated High Performers Isolation,PROD-1112,16968,Epic,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Nov/25 6:56 AM,17/Nov/25 6:44 AM,08/Jan/26 9:07 AM,, [Advertising] [v2] -[February 1st Release], [Advertising] [v2] -[February 1st Release],21/Jan/26 12:00 AM,0,,,,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,0,0,,,0,0,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@7e27f97b,,,,,,,,,,,ghx-label-9,,To Do,,,,,,,orange,,,,,,,0|i00b9z:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do,12/Nov/25 6:56 AM
ADS: Automated Budget Optimization,PROD-1111,16967,Epic,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Nov/25 5:05 AM,17/Nov/25 6:35 AM,,, [Advertising] [v2] -[February 1st Release], [Advertising] [v2] -[February 1st Release],30/Dec/25 12:00 AM,0,,,,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,0,0,,,43200,7200,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@63143962,,,,,,,,,,,ghx-label-9,,To Do,,,,,,,orange,,,,,,,0|i00b9r:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do,12/Nov/25 5:05 AM
ASIN Targeting - Harvesting Routing Engine,PROD-1110,16966,Story,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Nov/25 4:27 AM,17/Dec/25 8:58 AM,,17/Dec/25 8:58 AM,, [Advertising] [v2] -[February 1st Release],14/Dec/25 12:00 AM,0,Advertising,,,,abdul,Automation for Jira,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,,,,Hubstaff project: PORTAL/SAAS;08/Dec/25 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;1860,,,,,,,,,,68400,0,1860,2%,136800,14700,56700,,,,,,,,,,,,,,,PROD-2268,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@65244be6,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00cf9:,,,,S13: Nov 30- Dec 15,S14: Dec 15- Dec 28,,30/Nov/25 12:00 AM,,,,,,,,,,,2025-12-17 16:58:16.74,10563_*:*_1_*:*_187433811_*|*_10003_*:*_2_*:*_155669,17/Dec/25 8:58 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,,16930,PROD-1108,ADS: Automated Harvesting,Done,17/Dec/25 8:58 AM
ASIN Targeting - Harvesting Logic Engine,PROD-1109,16964,Story,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Nov/25 4:25 AM,15/Dec/25 6:28 AM,,15/Dec/25 6:28 AM,, [Advertising] [v2] -[February 1st Release],,0,Advertising,,,,abdul,Automation for Jira,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,,,,Progress logged via Aha!;08/Dec/25 8:46 AM;ug:383e894e-72ee-4ea4-89b8-6830f01da48a;3600,,,,,,,,,,3600,0,3600,100%,7200,3600,3600,,,,,,,,,,,,,,,PROD-2159,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@52f6a017,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00b9b:,,,,,,,,,,,,,,,,,,2025-12-15 14:28:39.779,10563_*:*_1_*:*_1279834006_*|*_10562_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_300389,15/Dec/25 6:28 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,,16930,PROD-1108,ADS: Automated Harvesting,Done,15/Dec/25 6:28 AM
ADS: Automated Harvesting,PROD-1108,16930,Epic,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,12/Nov/25 12:40 AM,17/Nov/25 6:42 AM,08/Jan/26 9:09 AM,, [Advertising] [v2] -[February 1st Release], [Advertising] [v2] -[February 1st Release],13/Jan/26 12:00 AM,0,,,,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,0,0,,,72000,0,5460,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@4afe9fa0,,,,,,,,,,,ghx-label-9,,To Do,,,,,,,orange,,,,,,,0|i00b93:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do,12/Nov/25 12:40 AM
End-to-End Automated Keyword Research Pipeline,PROD-1105,16915,Task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,11/Nov/25 12:10 PM,18/Nov/25 1:30 PM,,13/Nov/25 8:34 AM, [Advertising] [v2] -[February 1st Release], [Advertising] [v2] -[February 1st Release],,0,Advertising,,,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Progress logged via Aha!;18/Nov/25 1:30 PM;e5e7d5e7-6911-4643-b0c4-f0ca46f5b43c;3600,,,,,,,,,,,0,3600,,64980,64980,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@aa2465e,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00b8f:,,,,,,,,,,,,,,,,,,,3_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_60814614,,,,,,,,,,,16903,PROD-1099,ADS: Automated KW Research,Done,13/Nov/25 8:34 AM
Automated KW Research - User Feedbackâ€“Driven Enhancements # 1 | Research Reset Functionality,PROD-1104,16913,Story,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,11/Nov/25 11:58 AM,30/Dec/25 3:53 AM,,30/Dec/25 3:53 AM, [Advertising] [v2] -[February 1st Release], [Advertising] [v2] -[February 1st Release],01/Dec/25 12:00 AM,0,Advertising,,,,abdul,Automation for Jira,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,,,,Hubstaff project: PORTAL/SAAS;21/Nov/25 2:50 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;8940,Hubstaff project: PORTAL/SAAS;22/Nov/25 2:50 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;1260,Hubstaff project: PORTAL/SAAS;22/Nov/25 2:50 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3240,Hubstaff project: PORTAL/SAAS;22/Nov/25 2:50 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;12720,Hubstaff project: PORTAL/SAAS;22/Nov/25 2:50 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;1140,Hubstaff project: PORTAL/SAAS;22/Nov/25 2:50 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;240,,,,,43200,8460,27540,63%,86400,15360,63840,,,,,,,,,,,,,,,PROD-2614,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@71851964,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00i2b:,,,,S12: Nov 17- Nov 30,S13: Nov 30- Dec 15,S15: Dec 29 - Jan 11,17/Nov/25 12:00 AM,,,,,,,,,,,2025-12-30 11:53:18.183,3_*:*_2_*:*_363207548_*|*_10563_*:*_1_*:*_298063070_*|*_10562_*:*_1_*:*_0_*|*_10003_*:*_3_*:*_618082863,30/Dec/25 3:53 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,,16903,PROD-1099,ADS: Automated KW Research,Done,30/Dec/25 3:53 AM
Relevance Tagging Framework,PROD-1102,16909,Story,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,11/Nov/25 11:27 AM,18/Nov/25 1:30 PM,,13/Nov/25 9:44 AM, [Advertising] [v2] -[February 1st Release], [Advertising] [v2] -[February 1st Release],,0,Advertising,,,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Progress logged via Aha!;18/Nov/25 1:30 PM;e5e7d5e7-6911-4643-b0c4-f0ca46f5b43c;3600,,,,,,,,,,,0,3600,,36000,3600,36000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@13e9fa80,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00b7r:,,,,,,,,,,,,,,,,,,,3_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_63387810,,,,,,,,,,,16903,PROD-1099,ADS: Automated KW Research,Done,13/Nov/25 9:44 AM
Attributeâ€“Intent Mapping Engine,PROD-1101,16907,Story,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,11/Nov/25 11:27 AM,18/Nov/25 1:30 PM,,13/Nov/25 8:33 AM, [Advertising] [v2] -[February 1st Release], [Advertising] [v2] -[February 1st Release],,0,Advertising,,,,abdul,Automation for Jira,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,,,,Progress logged via Aha!;18/Nov/25 1:30 PM;e5e7d5e7-6911-4643-b0c4-f0ca46f5b43c;3600,,,,,,,,,,,0,3600,,403200,374400,32400,,,,,,,,,,,,,,,PROD-1154,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@a1a841d,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00b7j:,,,,,,,,,,,,,,,,,,2025-11-13 16:33:47.879,3_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_63390323,13/Nov/25 8:33 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,,16903,PROD-1099,ADS: Automated KW Research,Done,13/Nov/25 8:33 AM
LLM-Driven Keyword Classification Engine,PROD-1100,16905,Story,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,11/Nov/25 11:26 AM,18/Nov/25 1:30 PM,08/Jan/26 7:44 AM,13/Nov/25 8:33 AM, [Advertising] [v2] -[February 1st Release], [Advertising] [v2] -[February 1st Release],,0,Advertising,,,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Progress logged via Aha!;18/Nov/25 1:30 PM;e5e7d5e7-6911-4643-b0c4-f0ca46f5b43c;3600,,,,,,,,,,,0,3600,,266400,100800,169200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@fd7276a,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00b7b:,,,,,,,,,,,,,,,,,,,3_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_63398646,,,,,,,,,,,16903,PROD-1099,ADS: Automated KW Research,Done,13/Nov/25 8:33 AM
ADS: Automated KW Research,PROD-1099,16903,Epic,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,11/Nov/25 11:25 AM,02/Dec/25 2:48 AM,08/Jan/26 8:06 AM,, [Advertising] [v2] -[February 1st Release], [Advertising] [v2] -[February 1st Release],15/Dec/25 12:00 AM,0,,,"References:

Email containing details can be found with the subject: *Product - Advertising | KW Research Automation*[Product - Advertising KW Research Automation.pdf|https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13588]

Overview Video: [Link|https://fathom.video/share/821Tw8pzF1b-TkwJjFJjDDSLzns_n9gH]

Process schema: [Link|https://miro.com/app/board/uXjVJNp9oB8=/?share_link_id=99432383758]

UI Mockups: [Link|https://preview--auto-kw-research.lovable.app/]",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,0,0,,,306000,11340,134160,,,,,,,,,,,,,,,PROD-98,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@3abc676f,,,,,,,,,,,ghx-label-9,,To Do,,,,,,,orange,,,,,,,0|i00b73:,,,,,,,17/Nov/25 12:00 AM,,,,,,,,,,,,,,,,,,,,,,,,,,To Do,11/Nov/25 11:25 AM
Implement Reset for External (Published) Records,PROD-1070,16840,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,10/Nov/25 10:48 AM,15/Jan/26 4:19 AM,,23/Dec/25 12:44 AM,, [Advertising] [v2] -[February 1st Release],14/Dec/25 12:00 AM,0,,,"*Problem / Context*
Some records have already been *published to Amazon* (campaigns enabled for tags). Resetting these requires user confirmation and special handling: internal records should be deleted and recreated, while published records must pause existing keywords, create new keywords with updated tags, and push to Amazon if the campaign is enabled. All changes should be logged for auditing.

*Solution Outline*

# *Reset Button Behavior:*
#* When the user clicks â€œResetâ€ on the final tab, detect if any records correspond to published entries (tags already enabled in campaigns).
#* Display a *confirmation dialog*:
â€œSome entries have already been published to Amazon and may require additional changes. Do you want to proceed?â€
#* Only proceed if the user approves.
# *Internal Records Processing:*
#* Internal records (not yet submitted to Amazon) are deleted and recreated as defined in Sub-Task #1.
# *Published / External Records Processing:*
#* For records linked to published tags:
#** Check if the *final output for the tag has changed*.
#** If changed, perform the existing workflow:
#*** *Pause* the existing keyword in all campaign match types for the existing tag.
#*** *Create* the keyword in a new campaign with the updated tag.
#** Record creation happens *internally first*.
#*** If the campaign for the new tag is enabled, push the new keyword directly to Amazon.
# *Logging & Audit:*
#* Log all changes (paused keywords, newly created keywords, internal vs external updates) for auditing.
#* Prepare logs to surface in the UI later if needed.

*Connected Work Items*

* Is Blocked By: [https://keplercommerce.atlassian.net/browse/PROD-1066|https://keplercommerce.atlassian.net/browse/PROD-1066|smart-link] 
* Relates to: [https://keplercommerce.atlassian.net/browse/PROD-1065|https://keplercommerce.atlassian.net/browse/PROD-1065|smart-link] 

*Acceptance Criteria*

* Confirmation dialog appears for published records before reset.
* Internal records are deleted and recreated as per Sub-Task [https://keplercommerce.atlassian.net/browse/PROD-1065|https://keplercommerce.atlassian.net/browse/PROD-1065|smart-link] .
* Published records follow the workflow: pause old keywords, create new keywords, and push to Amazon if campaign enabled.
* Logs are generated for all changes.
* Unit/integration tests passed.
* Code reviewed and merged.
* UI verified against mockup.

*Implementation Notes*

* *Files/Services:* Services handling record state, Amazon API integration, and keyword management.
* *UI:* Confirmation dialog for published records on reset.
* *Deployment Notes:* Ensure careful deployment to avoid accidental Amazon campaign updates.
* *Links:* PR/test run links as applicable.",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,Hubstaff project: PORTAL/SAAS;19/Dec/25 2:49 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;2400,Hubstaff project: PORTAL/SAAS;19/Dec/25 2:49 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;1500,Hubstaff project: PORTAL/SAAS;23/Dec/25 1:00 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;5400,Hubstaff project: PORTAL/SAAS;23/Dec/25 1:00 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;2100,Hubstaff project: PORTAL/SAAS;23/Dec/25 1:00 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;360,Hubstaff project: PORTAL/SAAS;23/Dec/25 1:00 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;1080,Hubstaff project: PORTAL/SAAS;23/Dec/25 1:00 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;2940,,,,21600,5820,15780,73%,21600,5820,15780,,PROD-1066,,,,,,,,,,,,,PROD-1065,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5651e9dd,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00i2l:,,,,S12: Nov 17- Nov 30,S13: Nov 30- Dec 15,S15: Dec 29 - Jan 11,01/Dec/25 12:00 AM,,,,,,,,,,,2025-11-14 14:35:35.479,3_*:*_1_*:*_73061908_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_3_*:*_655211353_*|*_10562_*:*_2_*:*_2109495101_*|*_10003_*:*_3_*:*_838876375,14/Nov/25 6:35 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] Could you clarify what you mean by â€œpublished to Amazon (campaigns enabled for tags)â€?,"17/Nov/25 11:52 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] *Explanation: What â€œPublish to Amazonâ€ Means (Structured Overview)*

# *Tag Assignment Triggers Campaign Creation (Internally Only)*

* Whenever a _new_ tag is assigned to one or more keywordsâ€”whether through the automated Keyword Research process or manually via the UIâ€”the system checks if that tag already exists.
* If the tag is new, the system automatically creates an *internal campaign placeholder* for that tag.
* This internal campaign is *not* created on Amazon yet. It only appears in our *Campaign Config UI* and reflects the tag and associated keywords.

# *Campaign Is Created on Amazon Only When Enabled*

* The internal campaign remains in our system until a user explicitly *enables* it.
* Enabling = *Publishing to Amazon*
â†’ At this moment, the campaign is actually created in Amazon Seller Central.
* Before publishing, everything is just internal to our portal and can be freely modified.

# *After Publishing, Amazon Holds the â€œOfficialâ€ Version*

* Once the campaign is published (i.e., created on Amazon), Amazon becomes the *source of truth* for that campaignâ€™s structure.
* After publishing, certain changesâ€”like modifying the keywordâ€™s tag (e.g., moving a keyword from tag NBH1 to NBH2)â€”require syncing updates between our internal system and Amazon.

# *What This Ticket Defines*

* This ticket outlines *how to handle updates when a keywordâ€™s tag changes after the campaign has already been published to Amazon*.
* For example: if a keyword was added to a campaign created under tag *NBH1*, but the tag is later changed to *NBH2*, the system needs a controlled process to:
** remove the keyword from the NBH1 campaign on Amazon, and
** add it to the NBH2 campaign on Amazon.

# *Additional Context*

* Andrew has deeper context on how this logic currently works, so you can coordinate with him for implementation specifics.","20/Nov/25 9:03 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] 

A *tag* is used as a unique identifier for a campaign in our system. The campaign name is derived directly from this tag.

*Example:*

* Suppose the keyword *â€œHot Sauceâ€* is assigned the tag *NBR1*.
* Our internal system will create a campaign named *â€œNBR1â€*.
* When a user enables this campaign, our system creates a corresponding campaign on *Amazon* with the same name (*â€œNBR1â€*) and places the keyword *â€œHot Sauceâ€* under that campaign.
* At this point, the keyword *â€œHot Sauceâ€* with tag *NBR1* becomes an *external record* on Amazon. Till the time we donâ€™t activate a campaign for the first time and our system does not create campaign on Amazon, it is referred as internal record.

*Changing the Tag:*

* If the tag for the keyword *â€œHot Sauceâ€* is changed from *NBR1* to *NBR2*, this effectively means the keyword must belong to a different campaign.
* Since Amazon does not support moving a keyword directly between campaigns, the change must be handled as follows:
*# *Pause* the keyword *â€œHot Sauceâ€* in the *NBR1* campaign.
*# *Create* the same keyword under a new (or existing) campaign named *â€œNBR2â€*.

In summary, changing a tag results in the keyword being removed (paused) from the old campaign and recreated under a new campaign that matches the updated tag.",18/Dec/25 2:15 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] Important clarification: should it be possible to click the Reset button after approval has already been completed at the third stage (Tab 3)?,18/Dec/25 3:05 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] Yes - this ticket is actually for the cases where 3rd tab has been submitted/approved. That why it is called as external record.,,,,,,16913,PROD-1104,Automated KW Research - User Feedbackâ€“Driven Enhancements # 1 | Research Reset Functionality,Done,23/Dec/25 12:06 AM
Add Button to Trigger the records deletion process,PROD-1066,16832,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,10/Nov/25 10:08 AM,15/Jan/26 4:19 AM,,26/Nov/25 11:58 PM,, [Advertising] [v2] -[February 1st Release],14/Dec/25 12:00 AM,0,,,"*Problem / Context*
The final tab (Tab 3 => KW GROUPING & RANKING) needs a *Reset button* that allows users to reset their records. Clicking this button should trigger the workflows for deleting internal records ( [https://keplercommerce.atlassian.net/browse/PROD-1065|https://keplercommerce.atlassian.net/browse/PROD-1065|smart-link] ) and published/external records ( [https://keplercommerce.atlassian.net/browse/PROD-1070|https://keplercommerce.atlassian.net/browse/PROD-1070|smart-link] , after user approval). This centralizes the reset functionality in the UI and links the button to the existing backend workflows.

*Solution Outline*

# Add a *â€œResetâ€ button* to the Tab 3 UI, positioned clearly for user access. 

!image-20251110-190733.png|width=1072,alt=""image-20251110-190733.png""!

# On click, trigger:
#* *Internal reset workflow* â†’ call [https://keplercommerce.atlassian.net/browse/PROD-1065|https://keplercommerce.atlassian.net/browse/PROD-1065|smart-link] Logic
#* *Published/external reset workflow* â†’ call [https://keplercommerce.atlassian.net/browse/PROD-1070|https://keplercommerce.atlassian.net/browse/PROD-1070|smart-link] logic (show confirmation dialog if published records exist).
# Ensure proper *UI feedback*:
#* Confirmation dialogs for published records.
#* Loading / success messages after workflows complete.
# Log the action for auditing purposes.

*Connected Work Items*

* Blocks: [https://keplercommerce.atlassian.net/browse/PROD-1066|https://keplercommerce.atlassian.net/browse/PROD-1066|smart-link], [https://keplercommerce.atlassian.net/browse/PROD-1070|https://keplercommerce.atlassian.net/browse/PROD-1070|smart-link] 

*Acceptance Criteria*

* Reset button added to Tab 3.
* Clicking the button triggers the internal reset workflow.
* If published/external records exist, confirmation dialog appears before triggering that workflow.
* UI feedback for process success/failure implemented.
* Unit/integration tests passed.
* Code reviewed and merged.
* UI verified against mockup.

*Implementation Notes*

* *Files/Components:* Tab 3 UI component, button component, API call handlers.
* *Deployment Notes:* Ensure button triggers correct workflows without affecting unrelated data.
* *Links:* PR/test run links as applicable.",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,;23/Nov/25 4:05 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;14400,,,,,,,,,,14400,0,14400,100%,14400,0,14400,,,,,,PROD-1065,PROD-1070,,,,,,,,,,,10/Nov/25 11:08 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251110-190733.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/15218,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6e9dc3cf,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00i2h:,,,,S12: Nov 17- Nov 30,S13: Nov 30- Dec 15,S15: Dec 29 - Jan 11,01/Dec/25 12:00 AM,,,,,,,,,,,2025-11-20 16:41:56.491,3_*:*_1_*:*_33428370_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_865024131_*|*_10003_*:*_2_*:*_51534290,"20/Nov/25 8:41 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] Could you please tell me if this button should reset data only Tab #3 or for all tabs?
[https://keplercommerce.atlassian.net/browse/PROD-1065|https://keplercommerce.atlassian.net/browse/PROD-1065|smart-link] ",20/Nov/25 8:47 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] All,20/Nov/25 9:06 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;And do we need to save the history of reset data?,21/Nov/25 10:01 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[https://github.com/KeplerCommerce/portal/pull/389|https://github.com/KeplerCommerce/portal/pull/389|smart-link] ,,,,,,,16913,PROD-1104,Automated KW Research - User Feedbackâ€“Driven Enhancements # 1 | Research Reset Functionality,Done,21/Nov/25 10:01 AM
Implement Reset for Internal (Not Yet Published) Records,PROD-1065,16830,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,10/Nov/25 10:07 AM,15/Jan/26 4:19 AM,,26/Nov/25 7:19 AM,, [Advertising] [v2] -[February 1st Release],14/Dec/25 12:00 AM,0,,,"*Problem / Context*
If a user has submitted data in any of the tabs (1â€“3) and wants to redo the process, the system should allow a reset of all *internal records* (records not yet submitted to Amazon i.e. Campaigns yet not enabled). The reset button should clear these internal records so that the user can recreate them from scratch. This ensures users can safely redo their work without affecting already published data.

!image-20251110-184553.png|width=1096,alt=""image-20251110-184553.png""!



*Solution Outline*

* When â€œResetâ€ button is clicked, it deletes all internal records for the current session.
* Refresh UI to display the new empty/draft state.
* User can then recreate the records.
* Ensure proper backend API endpoint for deleting only internal records.
* Include logs of deleted records for auditing. (Have logs on the Backend for now, later it will be requested to surface these on some UI)

*Connected Work Items*

* Is Blocked By: [https://keplercommerce.atlassian.net/browse/PROD-1066|https://keplercommerce.atlassian.net/browse/PROD-1066|smart-link] 
* Is Related to: [https://keplercommerce.atlassian.net/browse/PROD-1070|https://keplercommerce.atlassian.net/browse/PROD-1070|smart-link] 

*Acceptance Criteria*

* Internal records deletion functionality implemented.
* Unit/integration tests passed.
* Code reviewed and merged.
* UI verified against mockup.

*Implementation Notes*

* *Files/Services:* Update services handling record storage; API endpoint for deletion.
* *Deployment:* No special notes; standard deployment.
* *Links:* PR/test run links as applicable.",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,;26/Nov/25 7:20 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3600,Hubstaff project: PORTAL/SAAS;26/Nov/25 7:44 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;1260,Hubstaff project: PORTAL/SAAS;26/Nov/25 7:44 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;600,Hubstaff project: PORTAL/SAAS;26/Nov/25 7:44 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;660,,,,,,,7200,1080,6120,85%,7200,1080,6120,,PROD-1066,,,,,,,,,,,,PROD-1070,,,,10/Nov/25 10:52 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251110-184553.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/15217,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@3cc00e43,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00i2k:,,,,S12: Nov 17- Nov 30,S13: Nov 30- Dec 15,S15: Dec 29 - Jan 11,01/Dec/25 12:00 AM,,,,,,,,,,,,3_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_865033963_*|*_10003_*:*_2_*:*_501723811,,,,,,,,,,,16913,PROD-1104,Automated KW Research - User Feedbackâ€“Driven Enhancements # 1 | Research Reset Functionality,Done,26/Nov/25 7:19 AM
Rule-Based Recommendations / Insight Copilot,PROD-1002,16656,Story,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,Bob Chiang,712020:b2fc13bb-79d2-4986-8487-213605892f8f,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,07/Nov/25 10:29 AM,26/Dec/25 8:05 AM,,,, [Advertising] [v2] -[February 1st Release],,0,Advertising,,"{color:#ff991f}*This is just a rough idea for now â€” it may change quite a bit later.*{color}

h2. User Story

As a user of the FPAI SP Ads Solution,
I want to view rule-based recommendations
so that I can optimize non-system-controlled campaigns efficiently.

----

h2. Problem / Context

*What specific user or system problem are we solving?*

Advertisers using our platform often manage only a portion of their Amazon campaigns through our system. For their manually-managed campaigns:

* They lack guidance on optimal bid adjustments based on our proven bidding logic
* They spend significant time manually analyzing performance data to make bid decisions
* They don't see concrete evidence of how our automation could improve their results
* They may be overbidding (wasting budget) or underbidding (missing sales opportunities) without realizing it

From a business perspective:

* We're missing cross-sell opportunities â€” these unmanaged campaigns represent unconverted revenue
* Users don't experience our intelligence layer for 100% of their portfolio
* We have no mechanism to demonstrate automation value before users commit budget
* Platform stickiness is limited to managed campaigns only

*Why is this needed?*

* *User value:* Extends platform intelligence to their entire Amazon account, helping them succeed even on campaigns we don't manage
* *Business value:* Creates natural product-led growth path from ""free insights"" to ""paid management"" by demonstrating our automation capabilities
* *Revenue expansion:* Drives migration of unmanaged campaigns to platform management, increasing platform-managed ad spend per user
* *Competitive differentiation:* Positions us as indispensable advisor for entire Amazon business, not just managed portion

h2. Solution Outline

*Proposed approach and design notes:*

Build a recommendation engine that:

# Identifies all campaigns/keywords in user's connected Amazon account (managed + unmanaged)
# For unmanaged entities, simulates what our automated bidding system would do
# Compares simulated bid to user's current manual bid
# Generates actionable recommendation with delta, action, and plain-language reason
# Surfaces recommendations in dedicated UI with cross-sell CTAs to migrate campaigns to platform management

*UI requirements:*

* *Mockup / wireframe link:* 
** _[To be updated later - placeholder for link]_

*API / backend behavior:*

* *Endpoints:*
*# {{GET /api/recommendations}}
*#* *Query params:* {{status}} (all | managed | unmanaged), {{sort_by}}, {{campaign_id}}, {{asin}}
*#* *Returns:* Array of recommendation objects
*#* *Response schema:*

json

{noformat}       {
         ""recommendations"": [
           {
             ""id"": ""rec_123"",
             ""entity_type"": ""keyword"",
             ""entity_id"": ""kw_456"",
             ""entity_name"": ""wireless mouse pad"",
             ""asin"": ""B08XYZ"",
             ""campaign_id"": ""camp_789"",
             ""campaign_name"": ""Electronics - Broad"",
             ""management_status"": ""unmanaged"",
             ""current_bid"": 0.85,
             ""simulated_bid"": 1.05,
             ""delta"": 0.20,
             ""delta_percentage"": 23.5,
             ""action"": ""increase"",
             ""reason_code"": ""underbidding_low_impressions"",
             ""reason_text"": ""Underbidding â€” missing visibility"",
             ""metrics"": {
               ""acos"": 28.5,
               ""target_acos"": 25.0,
               ""cvr"": 0.08,
               ""cpc"": 0.75,
               ""impressions"": 245,
               ""spend"": 42.50,
               ""sales"": 149.00
             },
             ""created_at"": ""2025-11-09T10:30:00Z""
           }
         ],
         ""meta"": {
           ""total_count"": 42,
           ""unmanaged_count"": 28,
           ""last_updated"": ""2025-11-09T10:30:00Z""
         }
       }{noformat}

# {{POST /api/recommendations/refresh}}
#* *Triggers:* Manual refresh of recommendations for user's account
#* *Returns:* Job ID for async processing or immediate response if quick
#* *Response:* {{{ ""status"": ""processing"", ""job_id"": ""job_xyz"" }}} or full recommendations response
# {{POST /api/campaigns/{campaign_id}/migrate}}
#* *Triggers:* User clicks ""Automate"" button to enable platform management
#* *Body:* {{{ ""source"": ""recommendations"" }}} (for attribution tracking)
#* *Returns:* Success confirmation or error
#* *Response:* {{{ ""status"": ""success"", ""campaign_id"": ""camp_789"", ""management_status"": ""platform_managed"" }}}

* *Data flow:*
*# *Batch job (scheduled daily or on-demand):*
*#* Fetch all campaigns/keywords from user's Amazon Advertising API
*#* Identify unmanaged entities (cross-reference with platform's campaign management DB)
*#* For each unmanaged entity with sufficient data:
*#** Pull performance metrics (ACOS, CVR, CPC, impressions, spend, sales)
*#** Retrieve product price, target ACOS (use account default if not set)
*#** Calculate simulated bid using platform's bid formula
*#** Compare simulated bid to current bid â†’ calculate delta
*#** Apply rule engine to determine action and reason code
*#** Store recommendation in {{recommendations}} table
*#* Update {{last_refreshed}} timestamp
*# *Real-time queries:*
*#* Frontend calls {{GET /api/recommendations}} with filters
*#* Backend queries {{recommendations}} table (pre-computed, no live Amazon API calls)
*#* Returns paginated, filtered results
*#* Fast response (<500ms)
* *Integration logic:*
** *Amazon Advertising API:*
*** Pull campaign/keyword data, performance metrics, current bids
*** Requires full read access to user's account (not just managed campaigns)
** *Platform bid engine:*
*** Reuse existing bid calculation logic: {{Bid = Target ACOS Ã— Price Ã— CVR}}
*** Apply same rules used for platform-managed campaigns
** *Rule engine (decision logic):*
*** Implement predefined rules. Examples:
**** If {{ACOS > Target ACOS + 10%}} â†’ Decrease 10-20%
**** If {{CVR â†‘ 25%}} AND {{CPC â†“ 10%}} â†’ Increase 10-15%
**** If {{Spend â†‘ 50%}} AND {{Sales flat}} â†’ Decrease 10%
**** If {{Impressions â†“ 40%}} â†’ Increase bid
**** If {{|Current Bid - Simulated Bid| > 20%}} â†’ Align with simulated
*** Map to reason codes (standard 10-15 reasons)
** *Campaign management system:*
*** Check {{campaigns}} table for {{management_status}} field
*** Track migration events when user enables platform management from recommendations

*Constraints / assumptions:*

* *Data availability:* Assumes sufficient historical data (minimum 7 days, 10+ clicks) to generate reliable recommendations
* *Amazon API limits:* Batch job respects API rate limits; recommendations may not be real-time (daily refresh acceptable)
* *User permissions:* Assumes user has granted full Amazon Advertising API access (not limited to managed campaigns only)
* *Bid logic consistency:* Uses exact same formula as platform-managed campaigns to maintain credibility
* *Performance:* Pre-computation required; cannot generate recommendations on-demand for thousands of keywords in real-time
* *Accuracy:* Recommendations are provisional guidance, not guaranteed outcomes (user's manual changes may not match Amazon's auction dynamics)
* *Currency:* All monetary values in user's account currency (no multi-currency conversion)

h2. Connected Work Items

_(To be populated during story grooming)_

* *Blocks:*
** None
* *Is Blocked By:*
** None
* *Relates To:*
** Automated Bid Optimization
** Automated Budget Optimization
** Automated Negation
** Automated Harvesting
** Automated Pacing
* *Depends On Completion Of:*
** *Design:* UI mockups approved (Figma designs for recommendations table, modal)
** *Backend:* Amazon API data pipeline for all-account access
** *Backend:* Bid simulation logic endpoint or service
** *Frontend:* Table component with sorting/filtering capabilities

h2. Acceptance Criteria

h3. Functional Requirements

* *Data retrieval:* System successfully fetches all campaigns/keywords from user's Amazon account (managed + unmanaged) via API
* *Recommendation generation:* For each unmanaged keyword/campaign with sufficient data (e.g. â‰¥7 days, â‰¥10 clicks), system generates recommendation
* *Simulated bid accuracy:* Simulated bid calculated using platform's bid formula: {{Bid = Target ACOS Ã— Price Ã— CVR}}
* *Recommendation completeness:* Each recommendation includes: entity name, current bid, simulated bid, delta, action, reason, management status
* *Rule engine:* Recommendations follow predefined rules (ACOS deviation, CVR/CPC trends, spend efficiency, visibility loss, bid alignment)
* *Reason codes:* System maps each recommendation to one of 10-15 standard reason codes with user-friendly text

h3. UI / UX Requirements

* *Page loads:* Recommendations page accessible from main navigation
* *Table display:* All recommendations display in table with specified columns (management status, entity, bids, delta, action, reason, CTA)
* *Visual formatting:*
** Delta values color-coded (red/green/gray)
** Management status badges displayed correctly
** Currency formatted with 2 decimal places
** Action displayed as readable badge/label
* *Filters work:* Users can filter by ""All"" | ""Platform Managed"" | ""Not Managed""
* *Search works:* Users can search by keyword name, campaign name, or ASIN
* *Sorting works:* Users can sort by delta size, spend, ACOS, date
* *CTA visible:* ""Automate"" button visible on unmanaged campaign rows
* *Modal opens:* Clicking ""Automate"" opens migration modal with campaign details, projected impact, and confirmation button
* *Hover states:* Tooltips display on hover for delta values, reason text, and ""Automate"" button
* *Loading states:* Skeleton loader displays on initial page load; spinner shows during filter/refresh
* *Error handling:* Appropriate error messages display for API failures, insufficient permissions, data sync issues
* *Empty states:* Correct empty state displays when no recommendations, insufficient data, or all campaigns managed
* *Responsive:* Page renders correctly on desktop, tablet, and mobile web (simplified view on smaller screens)

h3. API / Backend Requirements

* *API contract validated:*
** {{GET /api/recommendations}} returns correct schema with all required fields
** Query params work: {{status}}, {{sort_by}}, {{campaign_id}}, {{asin}}
** Response includes meta object with total count and last updated timestamp
* *Refresh endpoint:* {{POST /api/recommendations/refresh}} triggers recommendation regeneration
* *Migration endpoint:* {{POST /api/campaigns/{campaign_id}/migrate}} successfully updates campaign management status
* *Performance:* API response time <500ms for typical request (100 recommendations)
* *Batch job:* Scheduled job runs daily (or on-demand) to generate recommendations for all users
* *Data accuracy:* Spot-check validation confirms simulated bids match platform's bid calculation logic
* *Edge cases handled:*
** Missing data (CVR, price, etc.) â†’ exclude from recommendations
** New campaigns with <7 days data â†’ insufficient data message
** Amazon API errors â†’ graceful degradation, log error, retry logic
** No unmanaged campaigns â†’ return empty array with appropriate meta

h3. Integration & Business Logic

* *Management status tracking:* System correctly identifies platform-managed vs. unmanaged campaigns
* *Cross-sell tracking:* Analytics events fire for: page view, CTA click, migration initiated, migration completed
* *Attribution:* Migration event tagged with source = ""recommendations"" for revenue attribution
* *Permissions check:* System verifies user has granted full Amazon account access; prompts if not

h3. Testing

* *Unit tests passed:* Backend logic for bid calculation, rule engine, reason code mapping
* *Integration tests passed:* End-to-end API flow from Amazon data retrieval â†’ recommendation generation â†’ API response
* *UI tests passed:* Frontend rendering, filter/sort logic, modal interactions, error states
* *Load testing:* System handles 1000+ recommendations for single user without performance degradation

h3. Documentation & Approval

* *Mockups approved:* PM/UI/UX sign-off on Figma designs
* *API documentation:* Endpoints, request/response schemas, error codes documented
* *User-facing help:* Help content created explaining what recommendations are and how to use them
* *Knowledge transfer:* CS/Support team briefed on feature, common questions, troubleshooting

h2. Implementation Notes

h3. Key API Endpoints

# *GET /api/recommendations* â€” Primary endpoint for fetching recommendations
# *POST /api/recommendations/refresh* â€” Trigger manual recommendation refresh
# *POST /api/campaigns/{campaign_id}/migrate* â€” Enable platform management for campaign
# *GET /api/campaigns* â€” Existing endpoint, may need to add {{management_status}} field if not present

h3. DB Models

{{recommendations}} *table (new or extend existing):*

sql

{noformat}CREATE TABLE recommendations (
  id UUID PRIMARY KEY,
  user_id UUID NOT NULL,
  entity_type VARCHAR(50), -- 'keyword' | 'campaign'
  entity_id VARCHAR(255),
  entity_name VARCHAR(500),
  asin VARCHAR(50),
  campaign_id VARCHAR(255),
  campaign_name VARCHAR(500),
  management_status VARCHAR(50), -- 'managed' | 'unmanaged'
  current_bid DECIMAL(10,2),
  simulated_bid DECIMAL(10,2),
  delta DECIMAL(10,2),
  delta_percentage DECIMAL(5,2),
  action VARCHAR(50), -- 'increase' | 'decrease' | 'maintain'
  reason_code VARCHAR(100),
  reason_text TEXT,
  metrics JSONB, -- store ACOS, CVR, CPC, etc.
  created_at TIMESTAMP,
  updated_at TIMESTAMP,
  INDEX idx_user_id (user_id),
  INDEX idx_management_status (management_status),
  INDEX idx_created_at (created_at)
);{noformat}

*Update* {{campaigns}} *table:*

* Add {{management_status}} field if not present: {{'platform_managed' | 'manual' | 'unmanaged'}}

h3. UI Components

*New components:*

* {{RecommendationsTable}} â€” Main table with sorting, filtering, pagination
* {{RecommendationRow}} â€” Individual table row with hover states, CTA button
* {{ManagementStatusBadge}} â€” Visual badge for managed/unmanaged status
* {{MigrationModal}} â€” Modal for campaign migration flow
* {{RecommendationFilters}} â€” Filter controls (status toggle, search, sort)

*Reusable components:*

* {{LoadingSpinner}} â€” For loading states
* {{EmptyState}} â€” For no data scenarios
* {{ErrorMessage}} â€” For error handling
* {{Tooltip}} â€” For hover explanations

h3. Technical Considerations

* *Caching:* Cache recommendations in Redis with 24-hour TTL to avoid repeated database queries
* *Pagination:* Implement cursor-based pagination for large recommendation sets (>100 rows)
* *Rate limiting:* Apply rate limits to refresh endpoint to prevent abuse
* *Async processing:* Use job queue (e.g., Sidekiq, Bull) for batch recommendation generation
* *Monitoring:* Add logging for recommendation generation success/failure rates, API latency, error types
* *Feature flag:* Wrap feature behind feature flag for gradual rollout / A-B testing

h3. Dependencies

* *Amazon Advertising API SDK:* Ensure up-to-date SDK with support for fetching all campaign data
* *Bid calculation service:* Must be accessible as reusable service/function (not hardcoded in managed campaign logic)
* *Frontend table library:* Consider React Table or similar for advanced sorting/filtering
* *Analytics SDK:* For tracking cross-sell conversion funnel events

----

h2. Out of Scope

h3. V1 Exclusions

* *Automatic bid application:* System only shows recommendations; does not automatically change bids on unmanaged campaigns
* *Machine learning:* Rule-based logic only; no ML models predicting optimal bids
* *Confidence scoring:* No confidence intervals or ""high/medium/low confidence"" labels
* *Historical tracking:* No audit trail of past recommendations or ""recommendations followed"" tracking
* *Performance projection:* No calculator showing estimated ACOS/ROAS improvement if recommendation followed
* *Bulk actions:* No ability to select multiple recommendations and apply/migrate in bulk
* *Custom rules:* Users cannot configure their own recommendation thresholds or logic
* *A/B testing feature:* No built-in ability to automatically test platform bid vs. user bid

h3. Ad Type Limitations

* *Sponsored Brands:* Out of scope (Sponsored Products keywords/campaigns only)
* *Sponsored Display:* Out of scope
* *DSP campaigns:* Out of scope

h3. Advanced Features (Future)

* *Real-time updates:* Recommendations refresh daily (not real-time or hourly)
* *Mobile app:* Web platform only; native iOS/Android app deferred
* *Email notifications:* No automated alerts when new recommendations available
* *Webhook/API access:* No external API for third-party tools to pull recommendations
* *Competitive benchmarking:* No comparison to competitor bids or category averages
* *Budget recommendations:* Only bid recommendations; budget, targeting, placement optimization excluded
* *Integration with Amazon Seller Central:* No direct in-platform bid adjustment (user must log into Amazon separately)

----

h2. Test Cases

h3. Test Case 1: Recommendation Generation â€” High ACOS

*Given:* User has unmanaged keyword with:

* Current bid: $1.20
* Target ACOS: 25%
* Actual ACOS: 42%
* CVR: 6%
* Price: $30

*When:* Recommendation engine runs

*Then:*

* Simulated bid calculated: {{0.25 Ã— 30 Ã— 0.06 = $0.45}}
* Delta: {{-$0.75}} (overbidding by 62%)
* Action: {{""Decrease Bid""}}
* Reason: {{""High ACOS â€” overspending vs. goal""}}
* Recommendation appears in table with red delta, ""Decrease"" badge

----

h3. Test Case 2: Recommendation Generation â€” Strong Performance

*Given:* User has unmanaged keyword with:

* Current bid: $0.60
* CVR increased 30% in last 7 days
* CPC decreased 15% in last 7 days
* Target ACOS: 20%
* Price: $50
* New CVR: 8%

*When:* Recommendation engine runs

*Then:*

* Simulated bid: {{0.20 Ã— 50 Ã— 0.08 = $0.80}}
* Delta: {{+$0.20}} (underbidding by 33%)
* Action: {{""Increase Bid""}}
* Reason: {{""Strong conversion improvement â€” increase to capture more sales""}}
* Recommendation appears with green delta, ""Increase"" badge

----

h3. Test Case 3: Recommendation Generation â€” Stable Performance

*Given:* User has unmanaged keyword with:

* Current bid: $0.90
* Simulated bid: $0.90
* ACOS within 5% of target
* Stable CVR and CPC

*When:* Recommendation engine runs

*Then:*

* Delta: {{$0.00}}
* Action: {{""Maintain""}}
* Reason: {{""Stable performance â€” current bid is optimal""}}
* Recommendation appears with gray delta, ""Maintain"" badge

----

h3. Test Case 4: Insufficient Data Handling

*Given:* User has unmanaged keyword with:

* Only 3 days of data
* 5 total clicks

*When:* Recommendation engine runs

*Then:*

* No recommendation generated for this keyword
* If user searches for this keyword: shows message ""Insufficient data (need 7+ days, 10+ clicks)""
* Keyword excluded from recommendations table

----

h3. Test Case 5: Filter by Management Status

*Given:* User has 50 total keywords: 30 platform-managed, 20 unmanaged

*When:* User clicks filter ""Not Managed""

*Then:*

* Table updates to show only 20 unmanaged keywords
* URL updates with query param: {{?status=unmanaged}}
* Count displays: ""Showing 20 recommendations""

----

h3. Test Case 6: Search Functionality

*Given:* User has 100 recommendations loaded

*When:* User types ""wireless mouse"" in search box

*Then:*

* Table filters to show only keywords/campaigns containing ""wireless mouse""
* Search is case-insensitive
* Highlights matching text (optional enhancement)

----

h3. Test Case 7: Sort by Delta

*Given:* User has 50 recommendations with varying deltas

*When:* User clicks ""Delta"" column header

*Then:*

* Table sorts by delta in descending order (largest positive deltas first)
* Click again: sorts ascending (largest negative deltas first)
* Sort indicator (arrow) displays in column header

----

h3. Test Case 8: Campaign Migration Flow

*Given:* User clicks ""Automate"" button on unmanaged campaign recommendation

*When:* Migration modal opens

*Then:*

* Modal displays:
** Campaign name and current metrics
** Message: ""Enable platform management for this campaign?""
** ""Confirm"" and ""Cancel"" buttons
* When user clicks ""Confirm"":
** API call to {{POST /api/campaigns/{id}/migrate}} with source=""recommendations""
** Success: Modal closes, campaign row updates to ""Platform Managed"" badge
** Analytics event fires: {{recommendation_migration_completed}}

----

h3. Test Case 9: API Error Handling

*Given:* Amazon API is down or returns error

*When:* User loads recommendations page

*Then:*

* Error message displays: ""Unable to load recommendations. Please try again.""
* ""Retry"" button visible
* Empty state NOT shown (differentiate from ""no recommendations"" scenario)
* Error logged to monitoring system

----

h3. Test Case 10: Empty State â€” All Campaigns Managed

*Given:* User has all campaigns managed by platform (0 unmanaged)

*When:* User navigates to recommendations page

*Then:*

* Empty state displays: ""Great! All your campaigns are optimized by the platform ğŸ‰""
* No table shown
* Optional: Show summary stats of platform-managed campaigns performance

----

h3. Test Case 11: Responsive Design â€” Mobile Web

*Given:* User accesses recommendations page on mobile device (viewport <768px)

*When:* Page loads

*Then:*

* Table converts to card-based layout
* Each card shows: entity name, current bid, action, delta (simplified)
* ""Automate"" button remains visible
* Filters collapse into dropdown menu
* Page scrolls vertically (no horizontal scroll)

----

h3. Test Case 12: Refresh Recommendations

*Given:* User has recommendations from 2 days ago (last_updated: 2 days ago)

*When:* User clicks ""Update Recommendations"" button

*Then:*

* Button shows spinner and disables during processing
* API call to {{POST /api/recommendations/refresh}}
* After completion (~5-10 seconds):
** Table refreshes with new data
** Timestamp updates to current time
** Success message briefly displays: ""Recommendations updated""

----

h3. Test Case 13: Tooltip on Hover â€” Delta Explanation

*Given:* User hovers over delta value ""+$0.20""

*When:* Hover event triggers

*Then:*

* Tooltip displays: ""Current bid ($0.60) vs Platform recommended bid ($0.80)""
* Tooltip persists while hovering
* Tooltip disappears when hover ends

----

h3. Test Case 14: Multiple Users â€” Data Isolation

*Given:* User A and User B both have connected Amazon accounts

*When:* User A views recommendations page

*Then:*

* Only User A's recommendations display
* No data leakage from User B's account
* API enforces user_id filtering on all queries

----

h3. Test Case 15: Performance â€” Large Dataset

*Given:* User has 2000 unmanaged keywords

*When:* User loads recommendations page

*Then:*

* Initial page load shows first 50 recommendations (paginated)
* Load time <3 seconds
* Pagination controls visible at bottom
* Filters and sorting work without re-fetching entire dataset (client-side for loaded data)",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@69ba4ac1,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i00kkb:,,,,,,,,40.0,,,,,,,,,,,,,,,,,,,,,,14640,PROD-54,ADS Reporting,To Do,07/Nov/25 10:29 AM
ADS: Intelligent Pacing Automation,PROD-1000,16653,Epic,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,07/Nov/25 10:08 AM,26/Dec/25 8:43 AM,,, [Advertising] [v2] -[February 1st Release], [Advertising] [v2] -[February 1st Release],16/Jan/26 12:00 AM,0,,,"----

h1. Revised 19 Dec'25

h2. Overview

Intelligent Pacing Automation enables the system to automatically determine *which campaigns to activate* and *how much budget to allocate* to maximize ad sales within ACOS constraints. It consists of two core capabilities:

*US3 - Projection Engine (PROD-1494):* Projects ad spend and ad sales for each campaign by estimating CVR (ML model), CTR (waterfall heuristic), and Impression Share (multi-factor scoring: relevancy, difficulty, performance, bid competitiveness). Outputs projected ACOS and risk-adjusted sales per campaign.

*US4 - Budget Optimizer (PROD-1495):* Filters campaigns by projected ACOS threshold, then uses knapsack optimization to select the optimal campaign mix that maximizes total projected sales within the daily budget. Executes activation decisions via Amazon Ads API.

h2. Core Logic Flow

{noformat}Daily Budget + Target ACOS + All Campaigns
              â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  PROJECTION ENGINE  â”‚  (US3)
    â”‚  - CVR Estimation   â”‚
    â”‚  - CTR Waterfall    â”‚
    â”‚  - IS Heuristic     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â†“
    Projected Spend, Sales, ACOS per Campaign
               â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  BUDGET OPTIMIZER   â”‚  (US4)
    â”‚  - ACOS Filter      â”‚
    â”‚  - Knapsack Solver  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â†“
    Selected Campaigns to Activate
               â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  EXECUTION ENGINE   â”‚
    â”‚  - Amazon Ads API   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜{noformat}

h2. Key Deliverables

||Story||Key Components||
|PROD-1494 (US3)|CVR model integration, CTR waterfall (3dâ†’180d), IS heuristic (relevancy + difficulty + performance + bid scores), semantic relevancy via embeddings, spend/sales projection pipeline|
|PROD-1495 (US4)|ACOS threshold filter, knapsack budget optimizer, auto-pacing execution engine, manual override controls, UI for pacing management|

h2. Success Criteria

System automatically activates the optimal campaign mix daily that maximizes projected ad sales while staying within budget and ACOS constraints â€” replacing manual campaign selection decisions.

h1. End 19 Dec'25

----

h2. Problem / Context

h3. High-Level Business Problem

Advertisers managing Amazon Sponsored Products campaigns struggle to make optimal *pacing decisions*â€”determining *which keyword intent groups to activate and when to activate them*. Campaign performance is heavily dependent on activation timing and selection, yet this critical decision currently requires:

* Manual analysis of vast data across account readiness, ASIN maturity, keyword competitiveness, win probability, and goal alignment
* Expert-level knowledge that most users lack
* Hours of analysis per ASIN that doesn't scale

*Result:* Non-experts make costly activation mistakes (premature launches, wrong sequences, ""big messes""), while experts cannot scale their decision quality across growing portfolios. Poor pacing wastes significant amount of spend on wrong-time activations and misses revenue opportunities from delayed optimal launches.

Without intelligent pacing:

* Budgets get wasted on low-readiness or over-competitive segments
* Promising keyword groups remain underfunded due to rigid allocations
* Campaigns fail to scale efficiently despite high budget availability

h3. Why It Matters (Business Value)

* *Revenue Impact*
* *Cost Savings*
* *Democratization:* Enables non-experts to achieve expert-level pacing outcomes
* *Scale:* Allows experts to manage 3x more ASINs with consistent quality
* *Time Savings:* Reduces manual pacing analysis from x hours/week to 0.
* *Competitive Moat:* Creates defensible decision intelligence layer difficult to replicate
* *User Confidence:* Eliminates fear/paralysis preventing users from activating campaigns optimally

h2. Solution Outline

h3. Strategic Direction

Build an *Intelligent Pacing System* that transforms campaign activation from a manual, expertise-dependent process into an automated decision intelligence layer. The system evaluates multiple dimensions including client goals, account readiness, ASIN readiness, keyword competitiveness, and win probability, etc. to determine *which keyword segments to activate, when to activate them, and how to pace spend* across segments.

h3. How the System Thinks (Conceptual Framework)

# *Evaluates Feasibility:* Calculates ""probability to win"" for each keyword segment based on competitiveness, conversion probability, and historical performance
# *Prioritizes Segments:* Scores segments using factors like feasibility, profitability, and goal alignment
# *Adjusts Dynamically:* Auto-shifts pacing toward segments with rising efficiency as conversion data evolves
# *Maintains Control:* Keeps ASIN-level pacing stable while maximizing return potential

*Result:* Functions as a Portfolio-Level Intelligence Layerâ€”distributing limited ASIN budget toward highest-likelihood win zones.

h3. Scope of Work (High-Level Components)

*Data Foundation & Intent Group Management*

* Amazon Ads API integration for keyword-level performance data
* ASIN metadata collection (reviews, ratings, CVR)
* Account metrics aggregation (ad history, indexing depth, CTR benchmarks)
* Keyword Tags (for intent)
* Performance aggregator (roll up metrics by intent group)
* State tracking infrastructure (ACTIVE/PAUSED/QUEUED/BLOCKED states)

*Feasibility Scoring Engine (Rule-Based Initially)*

* Account Readiness Scorer (evaluates ad history, indexing maturity, CTR benchmarks)
* ASIN Readiness Scorer (analyzes review count, rating quality, CVR performance)
* Competitiveness Analyzer (assesses CPC levels, saturation per keyword segment)
* Win Probability Calculator (estimates likelihood of hitting target ACOS)
* Goal Alignment Evaluator (Growth vs. Efficiency mode compatibility)
* Composite Feasibility Score Generator (weighted combination of above factors)
* Rule configuration system with admin interface

*Pacing Decision Engine*

* Activation state classifier (determines ACTIVE/PAUSED/QUEUED/BLOCKED per segment)
* Priority queue manager (ranks queued segments for activation)
* Slot availability tracker (manages concurrent active campaigns per ASIN)
* Continuous performance monitor (evaluates active segments for pause triggers)
* Reactivation opportunity identifier (detects when paused segments should reactivate)
* State change executor (orchestrates activation/pause decisions)

*Campaign Control Integration*

* Amazon Ads API integration for campaign pause/enable operations
* State change applicator (executes pacing decisions in Amazon Ads platform)
* Safety rails enforcer (e.g., minimum active campaigns, cooldown periods, violation thresholds)
* Audit logger (tracks all pacing decisions and state changes)
* Alert & notification system (user alerts for significant state changes)

*User Interface & Dashboard*

* Pacing control dashboard with intent group status visualization
* Feasibility score display with dimension breakdown
* Priority queue view (shows segments awaiting activation in order)
* Performance metrics per segment (ACOS, conversions, spend, trends)
* Historical state change timeline
* Manual override interface with reason logging
* Bulk actions and export capabilities

*Testing, Documentation & Launch*

* Test suite development (unit, integration, end-to-end)
* Amazon Ads API integration testing
* Performance testing
* Documentation (user guides, admin guides, technical docs)
* Beta pilot program
* Phased rollout approach

h3. Key Dependencies or Constraints

*Dependencies:*

* Amazon Ads API Authentication Upgrade (required for campaign control)
* Keyword Intent Classification System i.e. KW Tags (required for grouping keywords)
* ASIN Metadata Service Enhancement (required for readiness scoring)
* Account Readiness Metrics Collection (required for account scoring)
* Separate auto-budget system handles budget scaling (integration point, not part of this epic)

*Constraints:*

* Starting with rule-based logic (ML models may come now or in future)
* Daily evaluation cadence initially (real-time may come later)
* Amazon Ads API rate limits may constrain state change frequency
* Must maintain backward compatibility with existing manual pacing workflows
* Bidding optimization and campaign creation are out of scope

h2. Connected Work Items

None

h2. Acceptance Criteria

h3. Business Outcome Clearly Achieved

* âœ… System automatically evaluates feasibility and assigns pacing states (ACTIVE/PAUSED/QUEUED/BLOCKED) for keyword segments
* âœ… Pacing decisions execute via Amazon Ads API with acceptable error rates
* âœ… Users can view pacing decisions and manually override through dashboard
* âœ… *Performance validation:* Pilot accounts show positive ROAS improvement trends (targeting 15-20%+)
* âœ… *Waste reduction:* Measurable reduction in spend on low-feasibility segments (targeting 30%+)
* âœ… *Decision quality:* Pacing decisions generally align with expert validation (targeting >75% agreement)
* âœ… *Time savings:* User-reported reduction in time spent on pacing decisions

h3. All Linked Stories Are Delivered and Accepted

* âœ… Multi-Dimensional Feasibility Assessment Engine
* âœ… Pacing Decision Engine (activation state classification)
* âœ… Priority Queue & Activation Timing Logic
* âœ… Continuous Monitoring & Dynamic State Changes
* âœ… Goal-Based Pacing Modes (Growth vs. Efficiency)
* âœ… Pacing Dashboard & Control Center
* âœ… Safety Rails & Guardrails
* âœ… Rule-Based Scoring Configuration System

h3. Documentation and Knowledge Transfer Completed

* âœ… User documentation (guides, quick starts, FAQs)
* âœ… Admin documentation (configuration guides, troubleshooting)
* âœ… Technical documentation (architecture, APIs, runbooks)
* âœ… Team training completed (Engineering, Support, Customer Success)

h3. UI Mockups Provided and Approved

* âœ… Main Pacing Dashboard
* âœ… Feasibility Score Detail View
* âœ… Priority Queue Interface
* âœ… Manual Override Modal
* âœ… Historical State Change Timeline
* âœ… Approved by: Product Manager, UX Lead, Engineering Lead

----

h2. Out of Scope

*NOT Included in This Epic:*

* âŒ Budget allocation/reallocation logic (handled by separate auto-budget system)
* âŒ Bidding optimization or individual keyword bid adjustments
* âŒ Campaign structure generation or creation
* âŒ ML-based feasibility prediction models (*may come now* or in future phases)
* âŒ Reinforcement learning approaches (*may come now* or in future phases)
* âŒ Cross-ASIN pacing coordination (future consideration)
* âŒ Multi-channel pacing (future consideration)
* âŒ Product listing or creative optimization

----

h2. Success Metrics

h3. Primary KPIs (Directional Targets)

{noformat}MetricDirectional TargetNotesROAS Improvement20-30% improvement rangeMeasured 30 days post-activation in pilot accountsWasted Spend Reduction40-50% reduction on low-feasibility segmentsComparing spend on segments with low feasibility scoresTime-to-Optimal Portfolio~50% faster (rough target: 2-3 weeks vs. 4-6 weeks)Time to identify top performing intent groupsPacing Decision Accuracy>75-80% expert agreementRetrospective validation approachUser Time SavedSignificant reduction (rough target: <30 min/week from 3-5 hrs)Self-reported via surveys{noformat}

h3. Secondary KPIs

* *Adoption Rate:* Targeting >70% of eligible accounts within 60 days post-GA
* *Manual Override Rate:* Lower is better (rough target: <15%)
* *User Confidence Score:* Targeting >8/10 via surveys
* *Support Ticket Reduction:* Expecting reduction in pacing-related issues
* *System Uptime:* Targeting high availability (>99%)
* *API Error Rate:* Targeting low error rates (<5%)

h3. Success Validation Approach

* Beta pilot with ~10 accounts
* Phased rollout (25% â†’ 50% â†’ 100%)
* Metric tracking at each stage
* Final validation ~30 days after full GA
* Success if metrics trend positively toward targets

*Note:* Specific thresholds and formulas will be refined during implementation based on data analysis and pilot results.",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,0,0,,,421200,0,4260,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@17afebe6,,,,,,,,,,,ghx-label-9,,To Do,,,,,,,orange,,,,,,,0|i00alz:,,,,,,,,70.0,,,,,,,,,,,,,,,,,,,,,,,,,To Do,07/Nov/25 10:08 AM
"Aggregate, deduplicate, and store all enriched ASINs in the backend database",PROD-765,16018,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,29/Oct/25 12:33 PM,15/Jan/26 4:19 AM,,10/Nov/25 4:46 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h3. *User Story*

As an *automated backend service*,
I want to *aggregate, deduplicate, and store all enriched ASINs in the backend database*,
so that *I can maintain a growing historical repository of competitor ASINs for qualification and targeting analysis without losing previous data.*

----

h3. *Problem / Context*

Each enrichment run can include overlapping ASINs from multiple search terms or previous runs.
Without deduplication and centralized storage, duplicate entries and inconsistent records would accumulate, making it difficult to track ASIN evolution over time.

This storage layer serves as the *master repository of all discovered and enriched ASINs* (both qualified and unqualified).
It does *not filter or store only qualified ASINs* â€” every ASIN is retained for ongoing and future re-qualification whenever new data (price, rating, reviews, etc.) is fetched.

----

h3. *Solution Outline*

h4. *Input*

* Enriched ASIN dataset from {{target_asin_enriched}} (output of [https://keplercommerce.atlassian.net/browse/PROD-762|https://keplercommerce.atlassian.net/browse/PROD-762|smart-link] ).
* May contain overlapping ASINs across different search terms or time periods.

h4. *Processing Logic*

# Collect enriched ASINs from the latest run.
# Deduplicate *within the same batch* by {{(ASIN, marketplace)}} to prevent intra-run duplicates.
# Compare against existing ASINs in backend ({{target_asin_master}}).
# *Insert new ASINs* that are not yet stored.
# *Retain all existing ASINs* â€” no deletion or overwriting.
# Append new rows for ASINs that reappear with updated enrichment data (to preserve time-based evolution).
# Assign default flags for tracking:
#* {{qualification_status = ""Pending""}} (initial placeholder)
#* {{qualification_level = NULL}} (assigned later in qualification run)
# Maintain append-only audit trail for every ASIN discovered or updated.

----

h4. *Data Points to Store*

||Field||Description||
|*ASIN*|Unique identifier|
|*Source Search Term*|Keyword that surfaced the ASIN|
|*Price*|From latest enrichment|
|*Rating*|From latest enrichment|
|*Review Count*|From latest enrichment|
|*Fulfillment Type*|FBA / FBM|
|*Brand Name*|From enrichment|
|*Timestamp*|Time of insertion|
|*Marketplace*|Marketplace domain|
|*Qualification_Status*|Default = â€œPendingâ€ (may change elsewhere)|
|*Qualification_Level*|Null initially; populated by qualification logic if applicable|

----

h4. *Output Example*

||ASIN||Search Term||Price||Rating||Reviews||Fulfillment||Brand||Status||Timestamp||
|B0ABC12345|butter chicken sauce|6.99|4.5|132|FBA|Truly Indian|Pending|2025-10-29|
|B0XYZ67890|butter chicken sauce|7.49|4.2|280|FBM|Brand X|Pending|2025-10-29|

----

*API / Backend Behavior:*

* *Endpoint:* {{/asin-dedup/store}}
* *Input:* Enriched ASIN data from {{target_asin_enriched}}
* *Output:* Appended dataset in {{target_asin_master}}
* *Data Flow:* {{target_asin_enriched}} â†’ Deduplication â†’ Append to {{target_asin_master}}

*Constraints / Assumptions:*

* Deduplication applies only within the same batch.
* The backend ({{target_asin_master}}) is *append-only*.
* Qualified ASINs are also stored here, but this DB does *not exclusively store â€œqualifiedâ€ records* â€” all ASINs are included.
* Future re-qualification runs can act on any ASIN in this table.

----

h3. *Connected Work Items*

* *Is Blocked By:* [https://keplercommerce.atlassian.net/browse/PROD-762|https://keplercommerce.atlassian.net/browse/PROD-762|smart-link] 
* *Blocks:* [https://keplercommerce.atlassian.net/browse/PROD-303|https://keplercommerce.atlassian.net/browse/PROD-303|smart-link] 
âœ… Must run after enrichment completes.

----

h3. *Acceptance Criteria*

* Duplicates removed within batch.
* All ASINs (new or old) retained â€” no overwrites or deletions.
* New ASINs appended with {{Pending}} qualification status.
* Table {{target_asin_master}} accurately reflects all historical ASINs fetched.
* Logs report: total processed, new inserted, duplicates skipped.
* Data ready for qualification logic consumption.

----

h3. *Implementation Notes*

*DB Model:* {{target_asin_master}}
*Core Components:* deduplication function, batch upsert handler, audit logger.
*Technical Considerations:* transaction integrity, indexing on {{(ASIN, marketplace)}}, efficient historical querying.
*Dependencies:* Output from Story 2 ({{target_asin_enriched}}).

----

h3. *Example Use Case*

* After enrichment, 120 ASINs are produced.
* 30 already exist in the backend from previous runs.
* 90 new ASINs inserted into {{target_asin_master}}; 30 duplicates skipped.
* 10 of the 30 existing ASINs later qualify under new rules, but *qualification results are handled separately* (in the Qualification module, not this DB).
* Over time, the table grows to reflect every ASIN ever discovered, serving as the master input for future analyses.

----

h3. *Test Cases*

# Duplicate ASINs within the same run â†’ stored once.
# Existing ASINs â†’ skipped, retained as-is.
# Reappearing ASINs (new scrape) â†’ appended as new record snapshot.
# No records deleted or overwritten.
# Run log â†’ displays total processed / inserted / skipped.
# Schema validation â†’ passes for {{target_asin_master}}.

cc: [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] [~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] ",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,;10/Nov/25 2:05 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;21600,,,,,,,,,,28800,7200,21600,75%,28800,7200,21600,,PROD-303,,,,PROD-762,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@c3951a6,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i007fi:wr,,,,,,,,,,,,,,,,,,,3_*:*_1_*:*_4159100_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_583222639_*|*_10003_*:*_2_*:*_415452334,,,,,,,,,,,16975,PROD-1116,ASIN Retrieval Engine,Done,10/Nov/25 2:07 AM
Enrich Scraped ASIN with certain attributes prerequisite for Qualification evaluation,PROD-762,16014,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,29/Oct/25 12:11 PM,15/Jan/26 4:19 AM,,10/Nov/25 4:46 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"As an *automated backend service*,
I want to *enrich each ASIN extracted from SERP scraping with its competitive attributes (price, rating, review count, fulfillment type, and brand)*,
so that *I can supply the qualification pipeline with complete inputs used to decide which ASINs are strong targets for my ads on competitorsâ€™ product pages.*

----

h3. *Problem / Context*

The SERP scraping process only collects basic ASIN identifiers and listing metadata.
However, the *qualification logic depends directly on specific competitive attributes â€” Price, Rating, Review Count, Fulfillment Type, and Brand Name* â€” to evaluate whether our ASIN meets the thresholds to qualify for targeting.

Without these attributes, the system cannot compare our product against competitors or assign Qualification_Level ( Level 1 / Level 2 / Not Qualified ).

This enrichment stage therefore supplies the *mandatory input dataset* for the qualification decision engine.
If a search term requalifies, the newly fetched ASINs (or existing ones) are re-enriched to capture latest market changes.
All attribute snapshots are *appended â€” never overwritten â€” to retain historical trends* for pricing and rating evolution.

----

h3. *Solution Outline*

h4. *Input*

* ASINs from {{target_asin_raw}} (Story 1 output).
* Each unique ASIN stored under {{target_asin_raw}} qualifies for the enrichment. 

h4. *Source*

* Product detail page: {{https://www.amazon.com/dp/<ASIN>}}
* Supplementary structured data if available (via Amazon API or JSON payloads).

h4. *Data Points to Collect*

||Field||Description||Logic / Source||
|*ASIN*|Unique identifier|From input list|
|*Price (Buy Box â†’ FBA â†’ FBM â†’ BB_30 days avg â†’ FBA_30 days avg)*|Product selling price (fallback hierarchy)|Parsed from detail page|
|*Rating*|Average customer rating (e.g. 4.5)|Review summary|
|*Review Count*|Total customer reviews|Review metadata|
|*Fulfillment Type*|FBA if Prime / Fulfilled by Amazon; else FBM|Shipping info|
|*Brand Name*|Displayed brand or seller name|Brand/Sold By field|
|*Price per Unit (if available)*|Price Ã· quantity|Calculated
quantity show as â€œ*Item Package Quantity*â€ on Amazon. Check with Andrew on how to obtain the UOM please heâ€™s done that previously when working with Datacrunch.|
|*Timestamp*|Datetime of enrichment|System generated|
|*Marketplace*|[http://amazon.com|http://amazon.com|smart-link] , [http://amazon.ca|http://amazon.ca|smart-link] , etc.|Context field|

h4. *Processing Logic*

# Loop through ASINs pending enrichment.
# Fetch product detail page and parse all attributes.
# Apply price fallback (Buy Box â†’ FBA â†’ FBM).
# Normalize brand names and fulfillment flags.
# Store each attribute snapshot in {{target_asin_enriched}}.
# *Append-only behavior:* every run adds a new record; no deletion or overwriting of previous entries.

h4. *Output Example*

||ASIN||Price||Rating||Reviews||Fulfillment||Brand||Marketplace||Timestamp||
|B0ABC12345|6.99|4.5|132|FBA|Truly Indian|US|2025-10-29|
|B0XYZ67890|7.49|4.2|280|FBM|Brand X|US|2025-10-29|

----

*API / Backend Behavior:*

* *Endpoint:* {{/asin-enrichment/run}}
* *Input:* List of ASINs from {{target_asin_raw}}
* *Output:* JSON records with enriched attributes
* *Data Flow:* {{target_asin_raw}} â†’ Enrichment â†’ Append to {{target_asin_enriched}}

*Constraints / Assumptions:*

* Append-only storage (no overwrite).
* â‰¤ 5 requests per second to avoid throttling.
* Graceful handling of missing values.
* Failed ASINs queued for retry.

----

h3. *Connected Work Items*

* *Is Blocked By:* [https://keplercommerce.atlassian.net/browse/PROD-761|https://keplercommerce.atlassian.net/browse/PROD-761|smart-link] 
* *Blocks:* [https://keplercommerce.atlassian.net/browse/PROD-765|https://keplercommerce.atlassian.net/browse/PROD-765|smart-link] 
* âœ… Runs after ASIN scraping completes.

----

h3. *Acceptance Criteria*

* Each ASIN has complete attribute record (Price, Rating, Reviews, Fulfillment, Brand, Timestamp).
* Buy Box â†’ FBA â†’ FBM fallback applied correctly.
* Brand normalized uniformly.
* No records overwritten â€” historical snapshots preserved.
* â‰¤ 1 % ASINs fail and enter retry queue.
* Stored in {{target_asin_enriched}} per schema.

----

h3. *Implementation Notes*

*DB Model:* {{target_asin_enriched}}
*Core Components:* price parser, review counter, rating extractor, FBA detector, brand normalizer.
*Technical Considerations:* retry logic, rate limiting, reusable enrichment modules.
*Dependencies:* Output from Story 1.

----

h3. *Example Use Case*

* ASIN {{B0ABC12345}} enriched on Oct 29 with price $6.99 and 132 reviews.
* On Nov 20, term requalifies â†’ ASIN re-enriched (price $7.29, 145 reviews).
* Both entries stored for historical comparison.
* Qualification module uses the latest snapshot to apply Level 1 / Level 2 rules based on these values.

----

h3. *Test Cases*

# All required fields populated for each ASIN.
# Buy Box price missing â†’ fallback to FBA then FBM.
# Existing ASIN re-enriched â†’ new row appended with new timestamp.
# Null values handled without errors.
# â‰¤ 1 % failures logged and retried.
# Schema validation passes for all records.

cc: [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] [~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] ",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,;10/Nov/25 2:06 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;21600,,,,,,,,,,28800,7200,21600,75%,28800,7200,21600,,PROD-761,PROD-765,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@50027978,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i007fi:wi,,,,,,,,,,,,,,,,,,,3_*:*_1_*:*_317958804_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_583871428_*|*_10003_*:*_2_*:*_102350461,,,,,,,,,,,16975,PROD-1116,ASIN Retrieval Engine,Done,10/Nov/25 2:07 AM
Scrape Raw Target ASINs from SERP,PROD-761,16012,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,29/Oct/25 11:49 AM,15/Jan/26 4:19 AM,,10/Nov/25 4:46 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h3. *User Story*

As an automated backend service,
I want to *scrape ASINs from Amazonâ€™s first SERP page for up to 5 qualified search terms*,
so that *I can capture current competitor ASINs to feed into the qualification pipeline, identify high-potential targets, and use those qualified ASINs to show my ads on their product pages.*

----

h3. *Problem / Context*

We want to scrape competitors whenever:

# A *new search term qualifies* under the ASIN research trigger [https://keplercommerce.atlassian.net/browse/PROD-297|https://keplercommerce.atlassian.net/browse/PROD-297|smart-link] 
# A *previously qualified term* requalifies â€” since competitor data might have changed (price, ranking, availability, etc.) or the competitors ranked on that Search term might have changed. This ensures that the system continuously refreshes and expands the competitive ASIN dataset for evaluation, qualification, and ad targeting opportunities â€” without losing historical visibility.

Thereâ€™s currently no structured system for fetching SERP-level ASINs with metadata.

----

h3. *Solution Outline*

h4. *Input*

* *5 selected search terms* from ASIN Research Part # 1 [https://keplercommerce.atlassian.net/browse/PROD-300|https://keplercommerce.atlassian.net/browse/PROD-300|smart-link] 
* Each search term corresponds to an Amazon keyword (e.g., {{""butter chicken sauce""}}, {{""hair straightener ceramic""}}).

h4. *Source*

* Extract ASINs from *Amazon SERP Page #1* using the URL format:
{noformat}https://www.amazon.com/s?k=<encoded_search_term>
{noformat}
* Expected *45â€“50 listings per term* (including both sponsored and organic results).

h4. *Data Points to Extract (SERP-level)*

||Field||Description||
|*ASIN*|Unique Amazon identifier ({{data-asin}})|
|*Title*|Product title text|
|*Product URL*|Canonical link ({{amazon.com/dp/<ASIN>}})|
|*Image URL*|Product thumbnail URL|
|*Sponsored Flag*|Boolean â€” {{true}} if marked â€œSponsoredâ€|
|*Position Index*|Product rank on SERP (1â€“50)|
|*Search Term*|The term used for scraping|
|*Timestamp*|Time of extraction|

h4. *Processing Logic*

# Loop through the 5 input search terms.
# Fetch and parse SERP Page 1 for each term.
# Extract ASINs and all listed data points.
# Combine ASINs from all 5 terms.
# Deduplicate within the *same run* to avoid temporary duplicates.
# Compare with previously stored ASINs in the backend:
#* *If new ASINs are found*, insert them into the database.
#* *If ASINs already exist*, retain them (no deletion or overwrite).
# Maintain full historical record of all ASINs fetched across time for trend tracking and requalification analysis.
# Send cleaned ASIN list downstream to *Attribute Enrichment* [https://keplercommerce.atlassian.net/browse/PROD-762|https://keplercommerce.atlassian.net/browse/PROD-762|smart-link] 

h4. *Processing Logic*

h4. *Output Example*

||Search_Term||ASIN||Title||URL||Sponsored||Position||Timestamp||
|butter chicken sauce|B0ABC12345|Truly Indian Butter Chicken Sauce|[amazon.com/dp/B0ABC12345|http://amazon.com/dp/B0ABC12345]|false|1|2025-10-29|

*API / Backend Behavior:*

* Endpoint: {{/asin-scraper/fetch-serp}}
* Input: {{[""search_term_1"", ""search_term_2"", ...]}}
* Output (JSON): ASIN, title, URL, image URL, sponsored flag, position, search term, timestamp.
* Data flow: Input â†’ Scraper â†’ Parser â†’ {{target_asin_raw}} (staging DB)

*Constraints / Assumptions:*

* Only Page 1 required (~45â€“50 listings).
* Marketplace: [http://Amazon.com|http://Amazon.com|smart-link]
* Duplicates allowed temporarily (filtered later).
* Retry mechanism for failed scrapes.

----

h3. *Connected Work Items*

* *Blocked by:* [https://keplercommerce.atlassian.net/browse/PROD-300|https://keplercommerce.atlassian.net/browse/PROD-300|smart-link] 
* *Blocking*: [https://keplercommerce.atlassian.net/browse/PROD-762|https://keplercommerce.atlassian.net/browse/PROD-762|smart-link]  
* *Relates To:* [https://keplercommerce.atlassian.net/browse/PROD-297|https://keplercommerce.atlassian.net/browse/PROD-297|smart-link] 

----

h3. *Acceptance Criteria*

* Scrapes first SERP page per term (~45â€“50 ASINs).
* Extracts required metadata fields accurately.
* Logs success/failure for each term.
* Deduplicates within term.
* JSON schema validated and stored in {{target_asin_raw}}.

----

h3. *Implementation Notes*

*DB Model:* {{target_asin_raw}}
*Core Components:* HTML parser, async fetcher, retry + dedup logic.
*Dependencies:* Trigger from [https://keplercommerce.atlassian.net/browse/PROD-297|https://keplercommerce.atlassian.net/browse/PROD-297|smart-link] & Search terms from [https://keplercommerce.atlassian.net/browse/PROD-300|https://keplercommerce.atlassian.net/browse/PROD-300|smart-link] 
*Out of Scope:* Price/rating enrichment and qualification rules.

----

h3. *Example Use Case*

* Search term *â€œbutter chicken sauceâ€* requalifies.
* Scraper fetches ~50 ASINs from SERP Page 1.
* Out of these, 5 are *new* (not in backend).
* System inserts only those 5 into {{target_asin_raw}} while retaining all older entries.
* Over time, the dataset builds a *historical record* of all competitors encountered, feeding into trend analysis and qualification scoring.
* Qualified ASINs later form part of the *Targeting Pool*, where ads for _Truly Indian Butter Chicken Sauce_ are displayed on competitorsâ€™ product pages.

----

h3. *Test Cases*

# *New term* â†’ Returns â‰¥ 45 ASINs, all inserted successfully.
# *Requalified term* â†’ New ASINs appended; existing ASINs retained.
# *Duplicate in same run* â†’ Not inserted twice.
# *Timeout* â†’ Retries twice, logs error.
# *Schema validation* â†’ Output JSON matches expected fields.

cc: [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] [~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] ",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,;10/Nov/25 12:55 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;28800,,,,,,,,,,28800,0,28800,100%,28800,0,28800,,PROD-297,PROD-300,,,PROD-762,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@615dd084,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i007fi:w,,,,,,,,,,,,,,,,,,2025-10-30 08:41:28.322,3_*:*_1_*:*_317963492_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_584793646_*|*_10003_*:*_2_*:*_102701936,"30/Oct/25 1:41 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] Could you please tell me whether we need exactly 50 ASINs or only those that appear on the first page? Sometimes a page may contain only 12â€“16 ASINs, which means the total number can vary significantly
- Just to confirm â€” the unique key in the table should be based on *Seller + our ASIN (from ASIN config) + Search Term + Competitor ASIN*, right?
- How we should update the *Position Index* when new ASINs appear?
For example, if previously we had *ASIN1* with *Position Index = 1*, and next time we get *ASIN2* with *Position Index = 1*, but *ASIN1* no longer appears - does that mean we will end up with two ASINs having *Position Index = 1* for the same search term?","30/Oct/25 7:13 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] 

# We need all first page ASINs regardless of the count. Could be 50 or could be 10, does not matter. But in 90% cases, it is going to be 40+ since weâ€™re extracting these from top performing search terms which have a lot of competitors on it. But you can remove this as a validation condition though my question would be how would you validate that all page # 1 ASINs have been successfully scraped?



# Iâ€™m not too good at this DB stuff but maybe do *Seller + our ASIN (from ASIN config) + Competitor ASIN* and then under this key, you can have a sub-table that stores

      >> Time stamp when the last update was made to this Competitor ASIN. The updates itself would be in another sub-table under timestamp:

            >> Rank

            >> Price

            >> Review Count

            >> Rating

            >> Fulfillment

            >> Other attributes

       >> E.g. 

|L1|L2|L3| |
|Seller + ASIN + Competitor ASIN|Timestamp|Attributes| |
|Nume + B09AHTRT6I + B09AHTUY78|01 Oct'25|Rank = 1, price = 25, Review Count = 50, Rating = 4.2, Fulfillment = FBA| |
| |15 Oct'25|Rank = 3, price = 23, Review Count = 55, Rating = 4.2, Fulfillment = FBA| |
| |30 Oct'25|Rank = 1, price = 23, Review Count = 60, Rating = 4.1, Fulfillment = FBA| |
|Nume + B09AHTRT6I + B09AHTUIOP|01 Oct'25|Rank = 1, price = 25, Review Count = 50, Rating = 4.2, Fulfillment = FBA| |
| |15 Oct'25|Rank = 3, price = 23, Review Count = 55, Rating = 4.2, Fulfillment = FBA| |
| |30 Oct'25|Rank = 1, price = 23, Review Count = 60, Rating = 4.1, Fulfillment = FBA| |
|Nume + B09AHTRT6I + B09AHTU786|01 Oct'25|Rank = 1, price = 25, Review Count = 50, Rating = 4.2, Fulfillment = FBA| |
| |15 Oct'25|Rank = 3, price = 23, Review Count = 55, Rating = 4.2, Fulfillment = FBA| |
| |30 Oct'25|Rank = 1, price = 23, Review Count = 60, Rating = 4.1, Fulfillment = FBA| |

# The above example answers this. Two ASIN and will have the same Rank but at different time stamps.",,,,,,,,,16975,PROD-1116,ASIN Retrieval Engine,Done,10/Nov/25 2:07 AM
Deploy the Revised Bid Optimization Logic Tailored for ASIN Targeting_28 Oct'25,PROD-754,15955,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,28/Oct/25 12:12 PM,15/Jan/26 4:15 AM,,12/Jan/26 6:50 AM,, [Advertising] [v2] -[February 1st Release],26/Jan/26 12:00 AM,0,,,"h1. *Revised Description - 15 Decâ€™25*

[~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] 

cc: [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] 

h2. *Objective:*

This ticket requires deploying the [Bid Logic (ASIN Targeting only)_15 Dec'25|https://docs.google.com/spreadsheets/d/1WAwq71ODv9TxmcJEyKQRE1q_p0m3jrmnQopMloj3XpY/edit?gid=1187541031#gid=1187541031&range=B12] that has been specifically built for ASIN Targeting campaigns.

h2. *Requirements:*

# *Logic Deployment*
#* Review and deploy the new *ASIN Targeting Bid Optimization Logic* from the provided link [https://docs.google.com/spreadsheets/d/1WAwq71ODv9TxmcJEyKQRE1q_p0m3jrmnQopMloj3XpY/edit?gid=1187541031#gid=1187541031&range=B12|https://docs.google.com/spreadsheets/d/1WAwq71ODv9TxmcJEyKQRE1q_p0m3jrmnQopMloj3XpY/edit?gid=1187541031#gid=1187541031&range=B12|smart-link] (Cell # B12)
#* Apply this logic *exclusively* to ASIN Targeting campaigns.
#* Ensure the KWs under the Automatic Targeting campaigns run under their existing *logics* and continue to function independently and are *not overridden or affected* by this Logic.
# *Difference Between Manual KW Targeting Logic & ASIN Targeting Logic*
#* *No difference*. The logic is same as the logic that is currently in use for [Manual KW Targeting|https://docs.google.com/spreadsheets/d/1WAwq71ODv9TxmcJEyKQRE1q_p0m3jrmnQopMloj3XpY/edit?gid=1187541031#gid=1187541031&range=B4]. 
# *Integration and Validation*
#* Integrate the revised logic into the *ASIN Targeting Bid Optimization* flow.
#* Maintain compatibility with existing scheduling and trigger mechanisms.
#* Ensure *other Targeting* logics remain fully isolated and unaffected.
# *Reporting & Logging Updates*
#* Reflect the new logic version in all ASIN Targeting reports and logs.
# *Testing & Verification*
#* Validate that:
#** Other targeting remains unchanged.
#* Test the logic across multiple ASINs, marketplaces, and ASIN Targeting campaign types.
#* Confirm correct results are logged and reflected in the reporting layer.



----

----

----

----

----

----

h1. *Original Description*



h2. *Objective:*

This ticket requires deploying the [Bid Logic (ASIN Targeting only)_28 Oct'25|https://docs.google.com/spreadsheets/d/1WAwq71ODv9TxmcJEyKQRE1q_p0m3jrmnQopMloj3XpY/edit?gid=1187541031#gid=1187541031&range=B10] that has been specifically built for ASIN Targeting campaigns.



h2. *Requirements:*

# *Logic Deployment*
#* Review and deploy the new *ASIN Targeting Bid Optimization Logic* from the provided link [https://docs.google.com/spreadsheets/d/1WAwq71ODv9TxmcJEyKQRE1q_p0m3jrmnQopMloj3XpY/edit?gid=1187541031#gid=1187541031&range=B10|https://docs.google.com/spreadsheets/d/1WAwq71ODv9TxmcJEyKQRE1q_p0m3jrmnQopMloj3XpY/edit?gid=1187541031#gid=1187541031&range=B10|smart-link] 
#* Apply this logic *exclusively* to ASIN Targeting campaigns.
#* Ensure the KWs under the Manual Targeting campaigns & Automatic Targeting campaigns run under their existing *logics* and continue to function independently and are *not overridden or affected* by this Logic.
# *Difference Between Manual KW Targeting Logic & ASIN Targeting Logic*

*A. Replacement of â€œTop of Search %â€ Anchor with â€œImpression Share %â€*
#* The [Manual KW Targeting logic|https://docs.google.com/spreadsheets/d/1WAwq71ODv9TxmcJEyKQRE1q_p0m3jrmnQopMloj3XpY/edit?gid=1187541031#gid=1187541031&range=B4] scaled bids based on *Top of Search Percentage*, which doesnâ€™t exist for ASIN Targeting campaigns.
#* The ASIN Targeting logic replaces this anchor with *Impression Share % aka Product Page Impression Share* as the new scaling metric.
#* This new datapoint â€œProduct Page Impression Shareâ€ will have to be brought into the system. 
#* This is what the GPT guides about from where to get this datapoint: 

!image-20251028-193029.png|width=1048,alt=""image-20251028-193029.png""!

#* *Snapshots / Clauses Updated:*
#** â€œM2â€ which exist in the Manual KW Targeting logic has been replaced with U2 in the ASIN Targeting Logic and that is the only change.

!image-20251028-193522.png|width=1024,alt=""image-20251028-193522.png""!

# *Integration and Validation*
#* Integrate the revised logic into the *ASIN Targeting Bid Optimization* flow.
#* Maintain compatibility with existing scheduling and trigger mechanisms.
#* Ensure *other Targeting* logics remain fully isolated and unaffected.
# *Reporting & Logging Updates*
#* Reflect the new logic version in all ASIN Targeting reports and logs.
#* Update new â€œProduct Page Impression Shareâ€ variable/column in all the Reporting & Logs column that provide the breakdown of the Bids. 
# *Testing & Verification*
#* Validate that:
#** Bid scaling follows the product page impression share-based logic accurately.
#** Other targeting remains unchanged.
#* Test the logic across multiple ASINs, marketplaces, and ASIN Targeting campaign types.
#* Confirm correct results are logged and reflected in the reporting layer.



{color:#ff991f}_The change was suggested by Krell over Slack._{color}

cc: [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] ",,abdul,Andrew Pomaz,Krell,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e,,,;12/Jan/26 6:50 AM;e5e7d5e7-6911-4643-b0c4-f0ca46f5b43c;7200,,,,,,,,,,7200,0,7200,100%,7200,0,7200,,PROD-752,,,,,,,,,,,,,,,,28/Oct/25 12:38 PM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251028-193029.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14820,28/Oct/25 12:38 PM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251028-193522.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14819,25/Nov/25 10:55 PM;3455a0af-9ff3-469e-8ba7-f946e074d724;image-20251126-065426.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/15591,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6eda5376,,,,,,,,,,,,,,,,,,,,,,,,,,,0|hzzzw6:3z,,,,S16: Jan 12 - Jan 25,,,12/Jan/26 12:00 AM,,,,,,,,,,,2025-11-24 06:53:12.976,10563_*:*_3_*:*_2438418947_*|*_10562_*:*_2_*:*_1689824869_*|*_10003_*:*_1_*:*_1699577,"23/Nov/25 10:53 PM;712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] official docs with all columns [https://advertising.amazon.com/API/docs/en-us/guides/reporting/v3/columns|https://advertising.amazon.com/API/docs/en-us/guides/reporting/v3/columns|smart-link], ask GPT to search here. I need *report name* and column name for the *Impression Share*","25/Nov/25 11:19 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] Iâ€™ve asked Krell to assist.

cc: [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] ","25/Nov/25 10:55 PM;712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] [~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08]  There is no direct ImpressionShare but on topofSearchImpressionShare present in all 3 reports.


!image-20251126-065426.png|width=958,alt=""image-20251126-065426.png""!","27/Nov/25 11:38 PM;712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08;[~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] , correct, but I guess I need another report type where this field does not exist ",15/Dec/25 6:19 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] [~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] Revised description updated.,,,,,,15084,PROD-268,ASIN Targeting - v1 Bid Logic Engine (Core Optimization),Done,12/Jan/26 6:50 AM
Deploy the Revised CVR Waterfall Logic Tailored for ASIN Targeting_28 Oct'25,PROD-752,15952,Sub-task,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,28/Oct/25 8:41 AM,15/Jan/26 4:15 AM,,,, [Advertising] [v2] -[February 1st Release],26/Jan/26 12:00 AM,0,,,"h2. *Objective:*

This ticket requires deploying the revised CVR (Conversion Rate) Waterfall Logic designed specifically for ASIN Targeting Bid Optimization.



h2. *Requirements:*

# *Waterfall Logic Deployment*
#* Review the *Revised CVR Waterfall Logic* as defined in [this Miro board|https://miro.com/app/board/uXjVJC-btCA=/?moveToWidget=3458764645984734295&cot=14].
#* Deploy the logic *exclusively for ASIN Targeting Bid Optimization*.
#* Implement the waterfall levels exactly as defined in the reference board.
# *Integration with the Bid Logic*
#* Integrate this waterfall into the *ASIN Targeting Bid Optimization* logic.
#* Maintain consistency with all triggers, calculation flows, and bid adjustment mechanisms.
# *Reporting & Logging*
#* Ensure the *applied waterfall levels (L1 to L5)* are visible in system reports and backend logs for every ASIN Targeting bid calculation.
#* Rest everything applies same as before.
# *Testing & Validation*
#* Validate that:
#** The revised waterfall logic executes only for ASIN Targeting.
#** All waterfall levels and conditions match the structure defined in the Miro board.
#** Calculated CVRs and resulting bids align with expected behavior.
#** Manual & Automatic Targeting logic remains unaffected.
#* Conduct tests across multiple ASINs and marketplaces to ensure consistent behavior.



{color:#ff991f}_These requirements were derived from a joint idea session between Krell, Abdul, and Kostya. However, the final waterfall chart under this ticket was not reviewed by them, as I did not request their review._{color}

cc: [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e]",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,21600,21600,,0%,21600,21600,,,,,,,PROD-754,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@32207246,,,,,,,,,,,,,,,,,,,,,,,,,,,0|hzzzw6:3zr,,,,S16: Jan 12 - Jan 25,,,12/Jan/26 12:00 AM,,,,,,,,,,,,,,,,,,,,,,,16989,PROD-1124,ASIN Targeting - v1 Baseline Conversion Rate Estimation Engine,To Do,23/Nov/25 11:29 PM
Deploy AI Logic to Auto-Generate Combined Variant/UseCase/Audience Rows When Multiple Attributes Are Detected in Keyword Subset,PROD-650,15813,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,27/Oct/25 8:35 AM,11/Nov/25 11:53 AM,,02/Nov/25 11:50 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"[Pavlo Lisovets|https://keplercommerce.atlassian.net/secure/ViewProfile.jspa?accountId=712020%3Ab73737cf-f8d9-472e-aaaa-bdb3bd461b95] Kate has asked me to create this ticket.

Please find the requirements here in this [document|https://docs.google.com/document/d/1fpXCyWPBNuDW0mvZfdLmp5oY9dE1kjtR-cmlhWuDR-M/edit?tab=t.0#heading=h.mj8z019edasj].

cc: [Kateryna Davidenko|https://keplercommerce.atlassian.net/secure/ViewProfile.jspa?accountId=712020%3Aaff451dd-dd5b-4c4b-8d72-d72ba00e7042] [Kostyantyn Solovtsov|https://keplercommerce.atlassian.net/secure/ViewProfile.jspa?accountId=712020%3Af3cab010-5271-43c1-acd3-3156ad0572f2] [Krell|https://keplercommerce.atlassian.net/secure/ViewProfile.jspa?accountId=712020%3Aa81c7de1-fdd7-490f-80ba-8f5b26f4b69e]",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,;07/Nov/25 9:51 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;28800,,,,,,,,,,28800,0,28800,100%,28800,0,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@14ced0ff,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i008rb:,,,,,,,,,,,,,,,,,,,10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_147133438_*|*_10003_*:*_2_*:*_171800174,,,,,,,,,,,16907,PROD-1101,Attributeâ€“Intent Mapping Engine,Done,31/Oct/25 1:11 AM
Account configuration Amazon SP-Ads Marketplace Selection,PROD-386,15379,Task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,Kostyantyn Solovtsov,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,Kostyantyn Solovtsov,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,24/Oct/25 4:59 AM,25/Nov/25 7:34 AM,,23/Nov/25 11:56 PM,, [Advertising] [v2] -[February 1st Release],01/Dec/25 12:00 AM,0,SaaS/Infructructure,,"h2. User Story

As an advertising manager, I want to select specific Amazon marketplaces when configuring my Advertising credentials, so that I can control which stores are connected and avoid randomly connecting all available marketplaces.

----

h2. Problem / Context

h3. Current Pain Point

When advertising managers set up Amazon Advertising credentials in *Profile â†’ Advertising credentials*, the system currently:

* Automatically connect all available Seller Centers 
* Does not allow selecting multiple specific marketplaces
* Connects marketplaces randomly without user control
* Provides no visibility into which marketplaces are available

*Why This Is a Problem:*

# *No Control:* Managers cannot choose which specific stores/marketplaces to connect
# *Random Selection:* Stores are connected randomly, not intentionally
# *Agency Limitations:* Amazon Advertising API tokens can only see *20 marketplaces* per token based on Amazon's algorithm (Related not only for FP Agency,  other Agency could be our Portal users)
# *Scalability Issue:* Agencies managing 5+ clients need multiple emails/tokens to access all marketplaces Related not only for FP Agency,  other Agency could be our Portal users)
# *No Transparency:* Users cannot see which marketplaces are available to connect
# For Client which want to compare different product A/B Testing also need such feature. For instance Krell connected a few different Ads SaaS platform under competitor research projects.

*Future Benefit:*

This marketplace list will help Users which may handle more than 6 accounts understand when they need additional tokens/emails to access more than 20 marketplaces for clients.

----

h2. Current State

*Location:* Connection â†’ Settings â†’ Profile â†’ Advertising credentials

*What Users See Now:*

* Token input field (shows token like ""valid_token_12345"")
* ""Renew Token"" button (red)
* Status message: ""Your token is active and connected!"" (green background)

*What's Missing:*

* No way to select multiple marketplaces
* No visibility into available marketplaces
* No control over which specific stores to connect

----

h2. Desired State

*Per Mockups Provided:*

Add ""SELECT MARKETPLACE"" button (green) next to existing ""RENEW TOKEN"" button.

When clicked, show modal window with:

* *Title:* ""Select Marketplaces""
* *Subtitle:* ""Choose Seller centers you want to connect""
* *List of marketplaces* grouped by account/company name
** Example groups: ""Tech Solutions Inc"", ""Global Retail Group"", ""E-Commerce Plus"", ""Digital Market Hub""
* *Each marketplace* shows:
** Checkbox (for selection)
** Marketplace code (US, GB, CA, DE, MX, etc.)
** Full marketplace name
* *Scrollable list* for accounts with many marketplaces
* *Close button (X)* in top right corner

----

h2. Solution Outline

h3. Technical Context

*Backend:* Already implemented âœ… - API endpoints are ready to use

*Frontend:* Need to add UI elements to Profile page

----

h3. What Needs to Happen

Users should be able to:

# *See ""Select Marketplace"" button* in Advertising credentials section 
# in case if need to Renovate Tokens ""Select Marketplace"" button is red one/blocked
# *Click button* to open marketplace selection modal
# *View all available marketplaces* from their Advertising token (grouped by account/company)
# *Select specific marketplaces* they want to connect using checkboxes
# *Save their selection* and close modal
# *Reopen modal later* and see previously selected marketplaces still checked

----

h2. Acceptance Criteria

â˜ ""Select Marketplace"" button appears next to ""Renew Token"" button in Profile â†’ Advertising credentials

â˜ Button is green with white text ""SELECT MARKETPLACE"" (matching mockup)

â˜ Clicking button opens modal window overlay

â˜ Modal shows title ""Select Marketplaces"" and subtitle ""Choose Seller centers you want to connect""

â˜ Modal displays list of available marketplaces (data from backend)

â˜ Marketplaces are grouped by account/company name (per mockup: ""Tech Solutions Inc"", ""Global Retail Group"", etc.)

â˜ Each marketplace shows checkbox and marketplace code (US, GB, CA, DE, MX, etc.)

â˜ User can check/uncheck marketplaces

â˜ If list has many marketplaces, modal content is scrollable

â˜ Modal has close button (X) in top right corner

â˜ When user saves selection, chosen marketplaces are sent to backend

â˜ Previously selected marketplaces appear checked when modal reopens

â˜ If backend doesn't return marketplace data, show appropriate message 

----

h2. Implementation Considerations

h3. Where Changes Are Needed

*Page:* Profile (Settings â†’ Profile)

*Section:* Advertising credentials (existing section)

*New UI Elements:*

* ""Select Marketplace"" button
* Marketplace selection modal (popup window)

----

h3. Backend Integration

*Backend provides:*

* List of available marketplaces for current user's Advertising token
* Data includes: marketplace code, name, account/company grouping
* Ability to save user's marketplace selection

*Frontend needs to:*

* Request marketplace list from backend when modal opens
* Display data in modal (grouped by account/company)
* Send selected marketplace IDs back to backend when user confirms

----

h3. User Experience Requirements

*Visual Design (per mockup):*

* Button: Green background, white text
* Modal: White background, centered on page with overlay
* Checkboxes: Standard style
* Grouping: Account/company name as visible header/separator
* Close button: X icon in top right

*User Flow:*

# User clicks ""Select Marketplace"" button
# Modal opens (may show loading if data fetching takes time)
# User sees list of marketplaces grouped by account
# User checks boxes for marketplaces they want
# User saves/confirms selection
# Modal closes
# System stores selection

----

h3. Business Rules

* User must have active Advertising token to use this feature
* Amazon limitation: each token can access maximum *20 marketplaces* (based on Amazon's algorithm)
* System should remember which marketplaces user selected
* User can change selection at any time by reopening modal

----

h3. Error Handling

*If marketplace data doesn't load:*

* Show message in modal: ""Unable to load marketplaces. Please try again.""
* Allow user to retry or close modal

*If saving selection fails:*

* Show error message
* Keep modal open so user doesn't lose their selections
* Allow retry

*If no marketplaces available:*

* Show message: ""No marketplaces available for this token""

*If network is slow:*

* Show loading indicator while fetching data

----

h2. Connected Work Items

*Blocks:* None

*Blocked By:* None (backend is already complete âœ…)

*Related:*

* Backend API implementation (done)
* Future: Similar feature for Walmart/TikTok (if needed)

----

h2. Out of Scope

*Not Included in This Task:*

* Changes to SP-API marketplace selection (this is *Advertising API only*)
* Creating new marketplaces that don't exist in Amazon account
* Modifying token generation or renewal process
* Building connection management dashboard
* Adding analytics tracking
* Walmart or TikTok marketplace selection
* Changing initial account connection flow
* Search/filter functionality in marketplace list (can be added later if needed)

----

h2. Test Scenarios

h3. Happy Path

*Scenario:* User with multiple marketplaces selects specific ones

# User navigates to Profile â†’ Advertising credentials
# User has active token connected (green status message shows)
# User clicks ""Select Marketplace"" button
# Modal opens showing 3 account groups with various marketplaces
# User checks boxes for: Tech Solutions Inc â†’ US, CA
# User confirms/saves selection
# Modal closes
# System stores selection
# User reopens modal â†’ US and CA are still checked

----

h3. Edge Cases

*Single Marketplace:*

* Token only has access to 1 marketplace
* Modal shows that one option
* User can select or not select it

*Many Marketplaces (20+):*

* Modal displays all available marketplaces
* List is scrollable
* User can scroll to see all options

*Reconnecting:*

* User previously selected marketplaces
* User opens modal again
* Previously selected items are pre-checked

----

h3. Error Scenarios

*Backend Doesn't Respond:*

* Modal shows error message
* User can close modal or retry

*No Marketplaces Available:*

* Modal shows ""No marketplaces available"" message

*Save Fails:*

* Error message appears
* Modal stays open
* User can retry saving

----

h2. Success Metrics

*How We'll Measure Success:*

* *Adoption Rate:* % of users who use ""Select Marketplace"" feature after it launches
* *Selection Patterns:* How many marketplaces users typically select (expect 2-4 vs all available)
* *Token Efficiency:* Reduction in random/unnecessary marketplace connections
* *Agency Feedback:* Qualitative feedback from agencies about managing multiple clients

----

h2. Mockups

*Attached mockups show:*
[Link to Prorotype|https://spads.lovable.app/connection-settings]


!image-20251030-135210.png|width=678,alt=""image-20251030-135210.png""!

!image-20251030-135230.png|width=536,alt=""image-20251030-135230.png""!



# *Profile page* with ""SELECT MARKETPLACE"" button added
# *Modal window* with marketplace selection interface showing grouped list

----

h2. Additional Context

This feature is specific to *Amazon Advertising API* credentials only. It does not affect:

* Amazon Ads-API connections

The backend functionality is already built and tested, so this is *frontend UI work only*.

----

h2. Risks & Conflicts

*LOW - User Confusion:*

* Users might not understand the purpose of selecting marketplaces
* Resolution: Clear labels and modal subtitle explain the action

*LOW - Backend API:*

* Need to confirm exact API response structure with backend team
* Resolution: Review API documentation before starting frontend work

cc: [~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] ",,Automation for Jira,Kostyantyn Solovtsov,,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,,,,,,,,,,,,,,86400,86400,,0%,86400,86400,,,,,,,,,,,,,,,,PROD-1422,,,30/Oct/25 6:53 AM;d2a95269-cc51-4c1b-aa6d-b327487ceaa6;image-20251030-135210.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14885,30/Oct/25 6:53 AM;d2a95269-cc51-4c1b-aa6d-b327487ceaa6;image-20251030-135230.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14884,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@746d88e,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i007iv:,,,,S12: Nov 17- Nov 30,,,17/Nov/25 12:00 AM,,,,,,1535b6f7-d5b0-4604-a943-b91b19cbbfc8,Portal,,,Engineering,2025-11-24 07:56:43.698,10561_*:*_1_*:*_525327361_*|*_10563_*:*_1_*:*_1142348351_*|*_10565_*:*_1_*:*_0_*|*_10003_*:*_2_*:*_996138056,23/Nov/25 11:56 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,,14631,PROD-9,ADS: Miscellaneous,Done,23/Nov/25 11:56 PM
KW Config UI - Make Updates on the UI for Harvested Search Terms (which are in the form of ASINs),PROD-372,15340,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,23/Oct/25 7:03 AM,15/Jan/26 4:19 AM,,12/Dec/25 7:17 AM,, [Advertising] [v2] -[February 1st Release],14/Dec/25 12:00 AM,0,,,"h2. *Purpose:*

This ticket defines the UI update requirements for marking harvested search terms' corresponding keywords, ensuring they are visibly tagged for easy tracking within the Keyword Config UI.

h2. *Requirements:*

* *Keyword Config UI Updates:*
** For any ASIN Targeting campaign where a harvested search term has been added as a Target ASIN (as per the criteria [https://keplercommerce.atlassian.net/browse/PROD-368|https://keplercommerce.atlassian.net/browse/PROD-368|smart-link] ), update the *â€œSystem Remarksâ€* column for that keyword to display:

{{Harvested}}

!image-20250813-122116.png|width=1132,alt=""image-20250813-122116.png""!



* *Trigger Condition:*
** The UI update should occur *only after harvesting has been executed*, i.e., once the search term has been successfully created/added as a keyword into the campaigns designated for harvesting",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,Hubstaff project: PORTAL/SAAS;10/Dec/25 2:49 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;6000,,,,,,,,,,14400,8400,6000,41%,14400,8400,6000,,PROD-368,,,,,,,,,,,,,,,,23/Oct/25 7:07 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20250813-122116.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14635,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@69f3013c,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i007fr:,,,,S13: Nov 30- Dec 15,S14: Dec 15- Dec 28,,01/Dec/25 12:00 AM,,,,,,,,,,,2025-12-09 11:03:28.714,3_*:*_1_*:*_18358974_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_1909100335_*|*_10003_*:*_2_*:*_2138426994,09/Dec/25 3:03 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[https://github.com/KeplerCommerce/portal/pull/429|https://github.com/KeplerCommerce/portal/pull/429|smart-link] ,,,,,,,,,,16966,PROD-1110,ASIN Targeting - Harvesting Routing Engine,Done,09/Dec/25 7:28 AM
Search Term Config UI - Make Updates on the UI for Harvested Search Terms (which are in the form of ASINs),PROD-371,15338,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,23/Oct/25 6:56 AM,15/Jan/26 4:19 AM,,12/Dec/25 7:17 AM,, [Advertising] [v2] -[February 1st Release],14/Dec/25 12:00 AM,0,,,"h2. *Purpose:*

This ticket defines the UI update requirements for marking harvested search terms (which are in the form of ASINs), ensuring they are visibly tagged for easy tracking within the Search Term Config UI.

h2. *Requirements:*

* *Search Term Config UI Updates:*
** For each search term (which are in the form of ASINs) that qualifies as harvested (as per filtering criteria defined in [https://keplercommerce.atlassian.net/browse/PROD-368|https://keplercommerce.atlassian.net/browse/PROD-368|smart-link] ), update the *â€œSystem Remarksâ€* column to display:

{{Harvested }}

!image-20250813-120750.png|width=1132,alt=""image-20250813-120750.png""!

* *Trigger Condition:*
** The UI update should occur *only after harvesting has been executed*, i.e., once the search term has been successfully created/added as a keyword into the campaign.",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Hubstaff project: PORTAL/SAAS;10/Dec/25 2:49 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;2340,Hubstaff project: PORTAL/SAAS;10/Dec/25 2:49 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;5520,Hubstaff project: PORTAL/SAAS;10/Dec/25 2:49 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;540,Hubstaff project: PORTAL/SAAS;10/Dec/25 2:49 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3540,,,,,,,10800,0,11940,110%,10800,0,11940,,PROD-368,,,,,,,,,,,,,,,,23/Oct/25 7:02 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20250813-120750.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14634,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@addd9bf,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i007fj:,,,,S13: Nov 30- Dec 15,S14: Dec 15- Dec 28,,01/Dec/25 12:00 AM,,,,,,,,,,,,3_*:*_1_*:*_15809708_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_1909215210_*|*_10003_*:*_2_*:*_2141293395,,,,,,,,,,,16966,PROD-1110,ASIN Targeting - Harvesting Routing Engine,Done,09/Dec/25 7:28 AM
Update new ASIN Targets to existing campaigns,PROD-370,15331,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,23/Oct/25 6:27 AM,15/Jan/26 4:19 AM,,13/Nov/25 2:49 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. *Objective:*

This ticket defines the process and trigger logic for automatically updating existing brand group campaigns whenever a new qualified target ASIN is added to the backend database that stores ASINs from the ASIN Research process.

h2. *Requirements:*

# *Trigger Definition*
#* The trigger should activate *whenever an update occurs* in the backend database containing the qualified target ASINs (post-ASIN Research process). 

!image-20251023-130247.png|width=1132,alt=""image-20251023-130247.png""!

#* The trigger event is defined as *insertion or update of a new ASIN record* in the database.
# *Brand Group Check*
#* When a new ASIN is added, the system should check if the *ASINâ€™s brand* already exists as a brand group in the backend.
#* If *brand group exists:*
#** Append the new ASIN as a *new target keyword* within the existing campaign linked to that brand.
#* If *brand group does not exist:*
#** Initiate the *Campaign Creation process* (referenced in [https://keplercommerce.atlassian.net/browse/PROD-356|https://keplercommerce.atlassian.net/browse/PROD-356|smart-link] ).
# *Automation Logic*
#* The trigger must run in real-time or near real-time upon DB update.
#* Ensure no duplicate ASINs are appended to an existing brand group.
#* When appended, update the backend with the new ASIN ID, brand name, and timestamp of addition.
# *Database Interaction*
#* Use the same backend DB used for storing qualified ASINs from the ASIN Research process.
#* Ensure data integrity by logging each trigger event with:
{noformat}[asin, brand_name, action_type (added/appended/created), triggered_at]
{noformat}
# *Error Handling & Logging*
#* Log all trigger executions (successful or failed) for auditability.
#* If the brand mapping cannot be found, flag the record for manual review.",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,;12/Nov/25 11:06 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;14400,,,,,,,,,,28800,14400,14400,50%,28800,14400,14400,,,,,,,,,,,,,,,,,,23/Oct/25 6:33 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251023-130247.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14633,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@4241fd05,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i007fi:zz,,,,,,,,,,,,,,,,,,,3_*:*_1_*:*_16008494_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_263767954_*|*_10003_*:*_2_*:*_1468558717,,,,,,,,,,,16983,PROD-1121,ASIN Targeting - Targeting Data Aggregation & Campaign Structuring Engine,Done,12/Nov/25 11:06 AM
Update Harvesting qualified Search Terms (which are in form of ASINs) to the same backend db which contains the qualified Target ASINs from ASIN Research process,PROD-369,15329,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,23/Oct/25 5:48 AM,15/Jan/26 4:19 AM,,12/Dec/25 7:17 AM,, [Advertising] [v2] -[February 1st Release],14/Dec/25 12:00 AM,0,,,"h2. *Objective:*

This ticket defines the requirement to update the existing backend databaseâ€”used for storing qualified ASINs from the ASIN Research processâ€”to also include harvested qualified ASINs, along with an additional field to identify their source.



h3. *Requirements:*

# *Database Reference*
#* Use the *same database* currently storing qualified ASINs generated from the ASIN Research process [https://keplercommerce.atlassian.net/browse/PROD-303|https://keplercommerce.atlassian.net/browse/PROD-303|smart-link]. 

!image-20251023-130247.png|width=1084,alt=""image-20251023-130247.png""!

# *Data Insertion*
#* Insert all *harvested qualified ASINs* into this same database.
#* Add a new column {{source_type}} (or equivalent) to indicate the origin of each ASIN:
#** {{""asin_research""}} â€” ASINs originating from the ASIN Research process.
#** {{""harvested""}} â€” ASINs identified from the harvesting process.
#* Handle duplicates by updating existing records instead of creating new ones when the same ASIN already exists.
# *Automation Linkage*
#* The trigger should follow the same workflow used for newly added ASINs from the ASIN Research process.
# *Behavior Logic*
#* When a new ASIN is inserted:
#** If its brand already exists as one of the Brand Group, append it to that group and its corresponding campaign. (Defined here [https://keplercommerce.atlassian.net/browse/PROD-370|https://keplercommerce.atlassian.net/browse/PROD-370|smart-link] )
#** If it pertains to a new brand, a new campaign group should be created automatically by the linked process (Defined here [https://keplercommerce.atlassian.net/browse/PROD-356|https://keplercommerce.atlassian.net/browse/PROD-356|smart-link])
# *Logging & Validation*
#* Record each insertion or update event with timestamps and {{source_type}}.
#* Ensure all harvesting updates are auditable and included in backend logs.",,abdul,Automation,Pavlo Lisovets,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:a1898eb5-a965-4f62-84ef-497160a0596b,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,Hubstaff project: PORTAL/SAAS;07/Dec/25 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;10680,Hubstaff project: PORTAL/SAAS;08/Dec/25 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;840,Hubstaff project: PORTAL/SAAS;08/Dec/25 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;4200,Hubstaff project: PORTAL/SAAS;09/Dec/25 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;11640,Hubstaff project: PORTAL/SAAS;09/Dec/25 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;9540,,,,,,43200,6300,36900,85%,43200,6300,36900,,PROD-368,,,,,,,,,,,,,,,,23/Oct/25 6:08 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251023-130247.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14632,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@51982198,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i007en:,,,,S13: Nov 30- Dec 15,S14: Dec 15- Dec 28,,01/Dec/25 12:00 AM,,,,,,,,,,,2025-12-07 15:50:43.403,10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_1898678718_*|*_10003_*:*_2_*:*_2088600547,"07/Dec/25 7:50 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] Could you please confirm if I understand the logic correctly? When we receive a search term from the harvesting logic, and this search term is an ASIN, we treat it as a potential target ASIN for triggering the ASIN Research flow.  However, I have a question: how exactly do we determine our own ASIN (the one that should have an asin-config)? In other words, based on what do we identify which of our products we should ultimately create the ASIN-targeting campaign for?","08/Dec/25 3:06 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] 

_Could you please confirm if I understand the logic correctly? When we receive a search term from the harvesting logic, and this search term is an ASIN, we treat it as a potential target ASIN fo_{color:#4c9aff}_r triggering the ASIN Research flow._{color}

{color:#ff991f}all correct except for the last blue part. If a search term has already passed the search term harvesting logic, then it does not need to pass through the entire ASIN research flow rather just have to be updated to the backend and campaign as it is already selected.{color}



_However, I have a question: how exactly do we determine our own ASIN (the one that should have an asin-config)? In other words, based on what do we identify which of our products we should ultimately create the ASIN-targeting campaign for?_

{color:#ff991f}Explaining using an example:{color}

{color:#ffc400}If a search term â€œB00145JHXYâ€ is generated from an Automatic targeting campaign belonging to ASIN (ASIN Config) â€œ{color}{color:#ffc400}*B9876557YT*{color}{color:#ffc400}â€ and has passed the harvesting logic then {color}

# {color:#ffc400}Check if the ASIN Targeting Campaign also belongs to the same product (ASIN Config product) â€œ{color}{color:#ffc400}*B9876557YT*{color}{color:#ffc400}â€ {color}
# {color:#ffc400}Check if the ST â€œB00145JHXYâ€ also generated from an Automatic targeting campaign belonging to the same product â€œ{color}{color:#ffc400}*B9876557YT*{color}{color:#ffc400}â€ {color}
# {color:#ffc400}If above 2 conditions are true then select this as Target ASIN{color}


Does not matter if the Search term is also the same as the ASIN Config ASIN â€œ{color:#ffc400}*B9876557YTâ€* {color}{color:#ffc400}instead of some other ASIN like â€œB00145JHXYâ€{color}",08/Dec/25 3:40 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] but I still don't understand where we can get the brand for the asin. Maybe this is a question for [~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] ,08/Dec/25 4:42 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] Yes [~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] can assist. ,08/Dec/25 4:52 AM;712020:a1898eb5-a965-4f62-84ef-497160a0596b;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] Keepa provide us a brand,08/Dec/25 8:22 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[https://github.com/KeplerCommerce/portal/pull/427|https://github.com/KeplerCommerce/portal/pull/427|smart-link] ,,,,,16966,PROD-1110,ASIN Targeting - Harvesting Routing Engine,Done,08/Dec/25 8:23 AM
Filter Search Terms (which are in form of ASINs) that qualify for Harvesting based on the defined criteria,PROD-368,15327,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,23/Oct/25 5:17 AM,15/Jan/26 4:19 AM,,12/Dec/25 7:18 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. *Purpose:*



This ticket defines the criteria for identifying Amazon search terms (Which are in the form of {color:#ff991f}*ASINs*{color}) that qualify for harvesting based on performance thresholds. This ticket focuses solely on filtering logic; subsequent tickets will cover actions taken after filtering.

Example of Search terms which are in the form of ASINs

!image-20251023-122734.png|width=1132,alt=""image-20251023-122734.png""!





h2. *Requirements:*



# *Qualification Rule:*
#* A search term (which are in the form of an {color:#ff991f}*ASIN*{color})  qualifies for harvesting if:

{{MAX(ACoS_7d, ACoS_15d, ACoS_30d, ACoS_90d) â‰¤ Target_ACoS AND Lifetime_Ad_Spend(ASIN + Search_Term) â‰¥ ASIN's Price}}



# *Target ACoS Determination:*
#* Use ASIN-level Target ACoS if available.
#* If not available, use the global Target ACoS.



# *Zero-Sales Handling:*
#* If {{Ad_Sales = 0}} *and* {{Ad_Spend > 0}}, set ACoS = {{9999}} *before* applying the qualification rule so the term automatically fails the ACoS check.



# *Output:*
#* Return only search terms that meet the above criteria as â€œQualified for Harvesting.



# *Trigger:*
#* Run this evaluation every 24 hours.",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,PROD-369,PROD-371,PROD-372,,,,,,,,,,23/Oct/25 5:28 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251023-122734.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14631,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5325e3dc,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i007ef:,,,,,,,,,,,,,,,,,,2025-11-24 08:14:36.256,10594_*:*_1_*:*_0_*|*_10563_*:*_2_*:*_2755478703_*|*_10562_*:*_1_*:*_1228277079_*|*_10003_*:*_1_*:*_6724859,"24/Nov/25 12:14 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] Could you clarify what exactly this filtering is intended for?
Is it meant for the UI, or is it data preparation for some next processing step, or something else?
Right now I only see the filtering conditions, but I donâ€™t see where the filtered result is actually used","08/Dec/25 3:10 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] Results are used in ticket 369, 371 and 372. Iâ€™ve updated the dependencies of this this ticket. ",08/Dec/25 8:45 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[https://github.com/KeplerCommerce/portal/pull/427|https://github.com/KeplerCommerce/portal/pull/427|smart-link] ,,,,,,,,16964,PROD-1109,ASIN Targeting - Harvesting Logic Engine,Done,08/Dec/25 8:45 AM
"Apply Auto Budget with the same validations and settings as Manual Targeting, excluding its logic, as ASIN Targeting uses distinct logic",PROD-367,15325,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,23/Oct/25 3:18 AM,15/Jan/26 4:19 AM,,24/Nov/25 7:49 AM,, [Advertising] [v2] -[February 1st Release],01/Dec/25 12:00 AM,0,,,"The tickets listed below pertain to *Manual Keyword Targeting* and include *triggers* for initiating *Auto Budget Recalculation* as well as the *Budget Validation* logic. These same triggers and validation mechanisms are also applicable to *ASIN Targeting Auto Budget*.

Therefore, as part of this ticket, please ensure that all corresponding *triggers and validation logics* are deployed for *ASIN Targeting* as well. Successful completion of this ticket will confirm that these triggers and validations are fully functional for the ASIN Targeting Auto Budget process.

Â 

# [https://keplercommerce.atlassian.net/browse/AD-51|https://keplercommerce.atlassian.net/browse/AD-51|smart-link]

Â 

# [https://keplercommerce.atlassian.net/browse/AD-52|https://keplercommerce.atlassian.net/browse/AD-52|smart-link]

Â 

# [https://keplercommerce.atlassian.net/browse/AD-48|https://keplercommerce.atlassian.net/browse/AD-48|smart-link]

Â 

# [https://keplercommerce.atlassian.net/browse/AD-53|https://keplercommerce.atlassian.net/browse/AD-53|smart-link]

Â 

# [https://keplercommerce.atlassian.net/browse/AD-49|https://keplercommerce.atlassian.net/browse/AD-49|smart-link]

Â ",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,;24/Nov/25 7:49 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;7200,,,,,,,,,,7200,0,7200,100%,7200,0,7200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@3860fefd,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i007e7:,,,,S12: Nov 17- Nov 30,,,17/Nov/25 12:00 AM,,,,,,,,,,,,10563_*:*_1_*:*_1922353868_*|*_10003_*:*_2_*:*_1893501,,,,,,,,,,,15090,PROD-274,ASIN Targeting - v1 Baseline Budget Logic Engine,Done,24/Nov/25 7:49 AM
Deploy Auto Budget Logic for ASIN Targeting campaigns,PROD-366,15323,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,23/Oct/25 2:14 AM,15/Jan/26 4:19 AM,,01/Dec/25 12:37 AM,, [Advertising] [v2] -[February 1st Release],01/Dec/25 12:00 AM,0,,,"Please refer to the [logic in the last (yellow) column|https://docs.google.com/spreadsheets/d/1WAwq71ODv9TxmcJEyKQRE1q_p0m3jrmnQopMloj3XpY/edit?gid=31854051#gid=31854051&range=AD:AD]. If any tab contains an updated version, ensure the most recent one is deployed.

*For ASIN Targeting*:
{color:#006644}*_The Ad Spend should be calculated by aggregating the spend associated with active search terms within each campaign, rather than utilizing the total campaign-level spend._*{color}

For illustration, consider an *ASIN Targeting campaign* that includes three target ASINs: *B00SXC7UBO, B00SXC7CTR, and B00SXC87UI*. Review the *Search Term Report* to verify whether these one or more of these ASINs appear as search terms. If they do, aggregate their corresponding *Ad Spend for the past 30 days* and apply this aggregated amount as the *Ad Spend input* in the Budget formula.",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,Hubstaff project: PORTAL/SAAS;26/Nov/25 2:49 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3780,Hubstaff project: PORTAL/SAAS;26/Nov/25 2:49 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;5220,Hubstaff project: PORTAL/SAAS;26/Nov/25 2:49 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;6720,Hubstaff project: PORTAL/SAAS;26/Nov/25 2:49 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3120,Hubstaff project: PORTAL/SAAS;27/Nov/25 2:50 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;6480,Hubstaff project: PORTAL/SAAS;27/Nov/25 2:50 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;2760,,,,,28800,720,28080,97%,28800,720,28080,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6f2ae293,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i007dz:,,,,S12: Nov 17- Nov 30,,,17/Nov/25 12:00 AM,,,,,,,,,,,2025-11-26 12:22:18.593,3_*:*_1_*:*_63985197_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_1922356610_*|*_10003_*:*_2_*:*_962507135,26/Nov/25 4:22 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[https://github.com/KeplerCommerce/portal/pull/397|https://github.com/KeplerCommerce/portal/pull/397|smart-link] ,,,,,,,,,,15090,PROD-274,ASIN Targeting - v1 Baseline Budget Logic Engine,Done,26/Nov/25 4:22 AM
KW Research UI Bulk Import - Enable Bulk Import Validation for Newly Added Relevancy Tags_23 Oct'25,PROD-365,15321,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,23/Oct/25 2:04 AM,15/Jan/26 4:19 AM,,13/Nov/25 9:43 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h3. *Overview*:

We currently support validation of existing *Relevancy Tags* in the *Keyword Research Bulk Import* file. With the introduction of *new relevancy tags*, the system should also accept and process these new tags when provided via bulk upload.



h2. *Requirements:*

h3. Enable Bulk Import Validation for Newly Added Relevancy Tags:

* Extend existing validation logic to include newly added relevancy tags which are as follows:

# NBR1 to NBR30
# OBR1 to OBR20
# CBR1 to CBR20

* Ensure that these tags are *recognized, accepted*, and *stored appropriately* when submitted via the bulk import template.
* No changes to the template structureâ€”only the set of valid tag values is expanded.",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,;13/Nov/25 9:43 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3600,,,,,,,,,,3600,0,3600,100%,3600,0,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@2257bc6e,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i007dr:,,,,,,,,,,,,,,,,,,,3_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_1322436729_*|*_10003_*:*_1_*:*_5363823,,,,,,,,,,,16909,PROD-1102,Relevance Tagging Framework,Done,13/Nov/25 9:43 AM
"KW Research UI - Add Additional Dropdown Options under ""Relevancy Tag"" Column_23 Oct'25",PROD-364,15319,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,23/Oct/25 1:59 AM,15/Jan/26 4:19 AM,,03/Nov/25 10:56 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. *Requirements:*

* Expand the dropdown under the *""Relevancy Tag""* column by adding the following additional options:

# NBR1 to NBR30
# OBR1 to OBR20
# CBR1 to CBR20

* A Total 70 new tags
* Retain the existing Tags.

!image-20250624-191100.png|width=1086,alt=""image-20250624-191100.png""!

* *Once the new Relevancy Tags are added to the dropdown:*
** The system should *trigger campaign creation* when at least one keyword is submitted (via bulk import or UI) with any of the new tags.
** Campaign creation should *follow the exact same logic and structure* as it does for existing tags.
** There should be *no special handling or differentiation* between existing and new tags in the downstream processes.
** Ensure that campaign logs, reporting, and automation flows recognize and handle the new tags seamlessly.",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,23/Oct/25 2:01 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20250624-191100.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14622,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@784aae56,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i007dj:,,,,,,,,,,,,,,,,,,,3_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_99990547_*|*_10003_*:*_2_*:*_861056310,"23/Oct/25 7:31 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] FYI, We discussed on comment the other day about not having the desired tags so this ticket should address that.",,,,,,,,,,16909,PROD-1102,Relevance Tagging Framework,Done,03/Nov/25 10:56 AM
Extend â€œSearch Term Configâ€ UI Functionality for ASIN Targeting Campaigns,PROD-362,15316,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,23/Oct/25 12:44 AM,15/Jan/26 4:19 AM,,15/Dec/25 3:26 AM,, [Advertising] [v2] -[February 1st Release],14/Dec/25 12:00 AM,0,,,"*Title:*
SP Ads â€“ Extend â€œST Configâ€ UI Functionality for ASIN Targeting Campaigns

*Purpose:*
Enable â€œST Configâ€ to display ASINs generated under Auto Campaigns & Manual ASIN Targeting Campaigns with the same visibility, editing options, and metrics as currently provided for search terms in Phrase, Broad, and Auto campaigns.

*Requirements:*

# *Display ASINs in Auto Campaigns:*
#* For ASINs generated via Auto Campaigns (Complementary and Substitute match types) & manual ASIN Targeting Campaigns, display them in the â€œST Configâ€ section â€” similar to how Search Terms (generated via Auto Campaign Close Match, Loose Match, and Manual Keyword Targeting Exact, Broad and Phrase matches) are currently displayed.
#* Display Target ASINs under the â€œSearch Termâ€ column.  

!image-20251023-074946.png|width=1038,alt=""image-20251023-074946.png""!

#* Rename â€œKeywordâ€ column to â€œTargetâ€.
#* If an ASIN Target is generated by Complement or Substitute Automatic Targeting campaign then â€œSearch termâ€ column will display the generated Target ASIN while â€œKeywordâ€ or â€œTargetâ€ column will display either â€œComplementâ€ or â€œSubstituteâ€. Furthermore, If an ASIN Target is generated by Manual ASIN Targeting campaign then both the â€œSearch termâ€ & â€œKeywordâ€/â€Targetâ€ columns will display the generated Target ASIN.,

# *Consistent Functionality:*
#* Maintain all existing â€œST Configâ€ features for ASIN Targets, including:
#** Adding negatives.
#** Updating user remarks.
#** Displaying all relevant metrics in the same format and structure used for search terms.
#** For data points not applicable to ASIN targets, display *â€œN/Aâ€*.
# *Bulk Actions for ASIN Targets:*
#* Enhance the existing bulk import/export functionality to support ASIN targets.
# *Validation Rules:*
#* Apply the same field validation logic for ASIN targets as is currently implemented for Search Terms.",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,10800,10800,,0%,10800,10800,,,PROD-310,,,,,,,,,,,,,,,,23/Oct/25 12:53 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251023-074946.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14621,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5080e9cf,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i007d3:,,,,S13: Nov 30- Dec 15,,,01/Dec/25 12:00 AM,,,,,,,,,,,,3_*:*_1_*:*_34804114_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_2155038521_*|*_10003_*:*_2_*:*_1560105583,,,,,,,,,,,15208,PROD-309,Miscellaneous - I,Done,05/Dec/25 9:24 AM
Extend â€œKW Configâ€ UI Functionality for ASIN Targeting Campaigns,PROD-361,15314,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,23/Oct/25 12:36 AM,15/Jan/26 4:19 AM,,15/Dec/25 3:26 AM,, [Advertising] [v2] -[February 1st Release],14/Dec/25 12:00 AM,0,,,"*Purpose:*
Enhance the â€œKW Configâ€ section to support ASIN Targeting campaigns by providing equivalent visibility and management tools for ASIN targets, ensuring users can easily view, filter, and manage ASIN targets with the same flexibility as keywords.

*Requirements:*

# *Display ASIN Targets:*
#* For ASIN Targeting campaigns, display the targeted ASINs in the â€œKW Configâ€ section (similar to how keywords are shown for Keyword Targeting campaigns).
#* Display â€œTarget ASINsâ€ under the â€œKeywordâ€ column too.  

!image-20251023-074332.png|width=1038,alt=""image-20251023-074332.png""!

#* Rename â€œKeywordâ€ column to â€œTargetâ€ column so it can accommodate all type of targets: KWs from Manual KW Targeting, Close Match/Loose Match/Complement/Substitute from Automatic Targeting, and Target ASINs from ASIN Targeting.
# *Editable Fields:*
#* Allow adding, modifying, and removing the following fields for each ASIN target:
#** Fixed Bid
#** Fixed Bid â€“ Expiry
#** Ceiling Bid
#** Ceiling Bid â€“ Expiry
#** Floor Bid
#** Floor Bid â€“ Expiry
#** KW Status
#** Target ACOS
# *Populate All Data Points:*
#* Similar to keyword targets, populate all associated data points for ASIN targets.
#* For data points not applicable to ASIN targets, display *â€œN/Aâ€*.
# *Bulk Actions for ASIN Targets:*
#* Enhance the existing bulk import/export functionality to support ASIN targets.
# *Validation Rules:*
#* Apply the same editable field validation logic for ASIN targets as is currently implemented for keyword targets.",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,10800,10800,,0%,10800,10800,,,PROD-310,,,,,,,,,,,,,,,,23/Oct/25 12:43 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251023-074332.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14620,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@43ceee24,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i007cv:,,,,S13: Nov 30- Dec 15,,,01/Dec/25 12:00 AM,,,,,,,,,,,,3_*:*_1_*:*_34803676_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_2154487404_*|*_10003_*:*_2_*:*_1561152893,,,,,,,,,,,15208,PROD-309,Miscellaneous - I,Done,05/Dec/25 9:24 AM
Deploy Validation Logic for Updates Made via Bulk Import to Campaign Config. for ASIN Targeting Campaigns,PROD-359,15297,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,22/Oct/25 10:28 AM,15/Jan/26 4:19 AM,,15/Dec/25 3:26 AM,, [Advertising] [v2] -[February 1st Release],14/Dec/25 12:00 AM,0,,,"h2. *Objective:*

To implement input validation rules in the ASIN Targeting Campaign Configuration Bulk Import to prevent invalid or illogical values from being submitted.

Â 

h2. *Requirements:*

Apply the following validation rules. If a rule fails, block submission and display the specified error message:

# *Target ACOS Range Validation*
#* *Condition:* Target ACOS is *not between 1â€“100*
#* *Exception:* If *Target ACOS* is *blank*
#* *Error Message:*
{{Target ACOS must be between 1% and 100% unless left blank.}}

# *Minimum Daily Budget Validation*
#* *Condition:* Daily Budget is *< $5*
#* *Exception:* If *Daily Budget* is *blank* (ASIN-level Auto Budget applies i.e. Auto Budget is toggled on for the ASIN)
#* *Error Message:*
{{Daily Budget must be at least $5 unless left blank for Auto Budget.}}",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,7200,7200,,0%,7200,7200,,,PROD-310,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@57336274,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i007cn:,,,,S13: Nov 30- Dec 15,,,01/Dec/25 12:00 AM,,,,,,,,,,,,3_*:*_1_*:*_85041301_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_4684835_*|*_10003_*:*_2_*:*_3711594918,,,,,,,,,,,15208,PROD-309,Miscellaneous - I,Done,05/Dec/25 9:24 AM
Deploy Validation Logic for Updates Made via UI to Campaign Config. for ASIN Targeting Campaigns,PROD-358,15295,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,22/Oct/25 10:23 AM,15/Jan/26 4:19 AM,,15/Dec/25 3:26 AM,, [Advertising] [v2] -[February 1st Release],14/Dec/25 12:00 AM,0,,,"h2. *Objective:*

To implement input validation rules in the ASIN Targeting Campaign Configuration UI to prevent invalid or illogical values from being submitted.

Â 

h2. *Requirements:*

Apply the following validation rules. If a rule fails, block submission and display the specified error message:

# *Target ACOS Range Validation*
#* *Condition:* Target ACOS is *not between 1â€“100*
#* *Exception:* If *Target ACOS* is *blank*
#* *Error Message:*
{{Target ACOS must be between 1% and 100% unless left blank.}}

# *Minimum Daily Budget Validation*
#* *Condition:* Daily Budget is *< $5*
#* *Exception:* If *Daily Budget* is *blank* (ASIN-level Auto Budget applies i.e. Auto Budget is toggled on for the ASIN)
#* *Error Message:*
{{Daily Budget must be at least $5 unless left blank for Auto Budget.}}",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,7200,7200,,0%,7200,7200,,,PROD-310,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@2579dcb7,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i007cf:,,,,S13: Nov 30- Dec 15,,,01/Dec/25 12:00 AM,,,,,,,,,,,,3_*:*_1_*:*_85041461_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_4656846_*|*_10003_*:*_2_*:*_3711932186,,,,,,,,,,,15208,PROD-309,Miscellaneous - I,Done,05/Dec/25 9:23 AM
Group Qualified Target ASINs by Brand Name for Campaign Creation,PROD-357,15293,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,22/Oct/25 8:58 AM,15/Jan/26 4:19 AM,,10/Nov/25 4:46 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. *Objective:*

This ticket defines the logic and process to group all qualified target ASINs by their respective brand names in the backend, forming brand-based ASIN groups that will serve as campaign units for ASIN Targeting campaign creation.



h2. *Requirements:*

# *Input Data*
#* Use the dataset of qualified target ASINs labeled in the backend ({{qualification_status = Qualified}}).
#* Each ASIN record must include an associated {{brand_name}} field.
# *Grouping Logic*
#* Group all qualified ASINs by their {{brand_name}}.
#* Each *brand group* represents one campaign grouping entity.
#* Example: If 50 qualified ASINs span 10 unique brands â†’ create 10 groups, each containing ASINs belonging to that brand.
# *Output Structure*
#* For each brand group, store the following data:
#** {{brand_name}}
#** {{asin_list}} (list of ASINs belonging to the brand)
#** {{asin_count}}
#** {{group_creation_date}}
#* Save grouped data in a backend table for use by the campaign creation logic.
# Example table:
{noformat}Table: asin_target_groups
Columns: [brand_name, asin_list, asin_count, group_creation_date]
{noformat}
# *Process Flow*
#* Execute this grouping process immediately after the ASIN qualification step completes.
#* If a *new ASIN* is qualified in a later research cycle and belongs to a *brand that already has an existing group*, append the new ASIN to that group instead of creating a new one.
#* Update {{asin_count}} and {{last_updated}} fields for the modified group accordingly.
#* The resulting brand groups will act as inputs for the ASIN Targeting Campaign Creation process (covered here => [https://keplercommerce.atlassian.net/browse/PROD-356|https://keplercommerce.atlassian.net/browse/PROD-356|smart-link] ).
# *Error Handling & Data Validation*
#* Exclude ASINs with missing brand names.
#* Remove duplicate ASINs within the same brand group.
#* Ensure consistent brand naming (e.g., trim whitespace, handle casing differences).",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,;10/Nov/25 2:07 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;28800,,,,,,,,,,28800,0,28800,100%,28800,0,28800,,PROD-303,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@eddc108,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i007fi:y,,,,,,,,,,,,,,,,,,,10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_274301559_*|*_10003_*:*_2_*:*_1346228566,,,,,,,,,,,16980,PROD-1119,Brand Grouping & Structuring Component,Done,10/Nov/25 2:07 AM
Deploy Automated Campaign Creation Capability,PROD-356,15291,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,22/Oct/25 8:50 AM,15/Jan/26 4:19 AM,,13/Nov/25 2:49 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. *Objective:*

Automate the creation of a Sponsored Products ASIN Targeting (SPAS) campaigns.

Â 

h2. *Requirements:*

Â 

# *Trigger for Campaign Creation:*
#* Campaign creation is triggered whenever a new Brand Group (details of Brand groups are defined in this ticket [https://keplercommerce.atlassian.net/browse/PROD-357|https://keplercommerce.atlassian.net/browse/PROD-357|smart-link]) is found/created in the backend.
Â 
!image-20250728-123645.png|width=1086,alt=""image-20250728-123645.png""!
Â 
#* Create a separate campaign for each Brand group (details of Brand groups are defined in this ticket [https://keplercommerce.atlassian.net/browse/PROD-357|https://keplercommerce.atlassian.net/browse/PROD-357|smart-link]) . The campaign to only activate if the user has toggled it ON.
#* Total Count of Campaigns = Total Count of Brand Groups
#* No blocking error conditions should be present.

Â 

# *Campaign Naming Convention:*

Â 

h3. *Format:*

h3. {{ZZZZZZ-YYYY-XXXX-WW-V-UUUUUUUUUU-T-KW}}

h3. *Fields:*

||Field||Description||
|{{ZZZZZZ}}|Use the static value *XXXXXX*|
|{{YYYY}}|Always set as *SPAS*|
|{{XXXX}}|Brand Code â€” see brand code assignment logic below|
|{{WW}}|Hardcode value as *XX*|
|{{V}}|Always set as *S*|
|{{UUUUUUUUUU}}|ASIN â€” insert the actual ASIN i.e. clientâ€™s ASIN|
|{{T}}|Hardcode value as *X*|
|{{KW}}|Brand name â€” insert the Brand Group name (truncate if needed; see note below). Note that this is not the Brand of the Clientâ€™s ASIN rather it is the Brand Name of the Brand Group (Brand groups are defined under ticket # 357. This is going to be unique for each ASIN Targeting campaign rest all fields are going to be similar.|

âš ï¸ *If the full campaign name exceeds Amazonâ€™s character limit*, truncate the {{KW}} portion and append an underscore {{_}} to indicate truncation.

h3. *Brand Code Assignment Logic(Field => XXXX):*

* Assign each *brand under Keplerâ€™s portfolio* a unique 4-character code:
** First 2 characters: First letters of each of the first 2 words in the brand name.
** If the brand name has only one word, use its first 2 characters.
** Last 2 characters: Serial number for that prefix.

h4. *Examples:*

* _Supreme One_ â†’ {{SO01}}
* _Super Oats_ â†’ {{SO02}}
* _Soapera_ â†’ {{SO03}}

Â 

Brand codes are *global at Kepler level*, not per seller/client.

Â 

Â 

# *Campaign Configuration:*

h2. 

||Config Element||Value||
|*Targeting Type*|h3. {color:#ffc400}Manual ASIN Targeting{color}|
|*Placement Modifier*|Skip (no placement modifiers)|
|*Bidding Strategy*|Down Only|
|*Ad Group*|Skip (use default ad group structure)|
|*Portfolio*|Skip|
|*Negative*|# System to continuously monitor target ASIN performance. If any Target ASIN meets the following criteria:
[+Criteria provided here+|https://docs.google.com/spreadsheets/d/1WAwq71ODv9TxmcJEyKQRE1q_p0m3jrmnQopMloj3XpY/edit?gid=1395596635#gid=1395596635&range=B4]
then *automatically add it as a negative* in the Auto Campaign >> *Substitute* & *Complement* match types. This process should run ongoing.|
|*Daily Budget*|* *Daily Budget* should be:
** The user-defined budget (if available) from the ASIN Targeting Campaign Config UI for the respective match type.
** If not provided, fallback to system-computed budget (if Auto Budget logic is enabled).|
|*Bid Configuration*|Defined under the relevant ticket.|",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,;12/Nov/25 6:39 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;43200,,,,,,,,,,28800,0,43200,150%,28800,0,43200,,,,,,,,,,,,,,,,,,22/Oct/25 10:18 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20250728-123645.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14560,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@59d78cd1,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i007fi:zy,,,,,,,,,,,,,,,,,,,3_*:*_1_*:*_19004662_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_1033408_*|*_10003_*:*_2_*:*_1790072399,,,,,,,,,,,16985,PROD-1122,ASIN Targeting - Campaign Configuration Engine,Done,12/Nov/25 6:38 AM
Configure Campaign Config UI Display Rules for ASIN Targeting Campaigns,PROD-310,15210,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,22/Oct/25 4:07 AM,15/Jan/26 4:19 AM,,15/Dec/25 3:25 AM,, [Advertising] [v2] -[February 1st Release],14/Dec/25 12:00 AM,0,,,"h2. *Objective:*

This ticket defines how ASIN Targeting campaigns should be displayed within the existing Campaign Configuration UI, aligning with current column structures and ensuring correct representation for applicable and non-applicable fields.

[https://portal.keplercommerce.com/amazon-ads/campaigns/config|https://portal.keplercommerce.com/amazon-ads/campaigns/config|smart-link] 

h2. *Requirements:*

# *UI Inclusion*
#* ASIN Targeting campaigns must be visible within the existing Campaign Configuration UI alongside other campaign types.
#* No new UI components or layout changes are required.
# *Column Display Rules*
#* *Relevancy Tag:* Display hardcoded value {{""XXXXXX""}} for ASIN Targeting campaigns.
#* *ASIN Column:* Display the *advertised ASIN* (the ASINs being promoted), _not_ the target ASINs â€” consistent with manual/automatic campaign behavior.
#* *Campaign Name:* Display the ASIN Targeting campaign name according to the naming convention defined in the respective campaign naming logic ticket.
#* *Match Type:* Always display {{""-""}} for ASIN Targeting campaigns.
# *Editable Columns (Same Behavior as Existing Campaigns)*
#* The following columns remain editable and should behave exactly as they do for other campaign types:
#** Target ACOS
#** Status
#** Daily Budget
# *Non-Editable Columns*
#* *Custom Negative Keywords:* This column is *not applicable* to ASIN Targeting campaigns and should be displayed as *non-editable* (disabled or greyed out).
# *General Behavior*
#* Sorting, filtering, and pagination should include ASIN Targeting campaigns without exception.
#* No additional fields, icons, or color indicators are required for ASIN Targeting campaigns at this stage.
# *Bulk Import & Export Functionality*
#* Make bulk import and export functional for ASIN Targeting campaigns too.",,abdul,Andrew Pomaz,Pavlo Lisovets,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,Hubstaff project: PORTAL/SAAS;05/Dec/25 2:48 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;6120,Hubstaff project: PORTAL/SAAS;05/Dec/25 2:48 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3420,Hubstaff project: PORTAL/SAAS;06/Dec/25 2:48 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;1200,Hubstaff project: PORTAL/SAAS;06/Dec/25 2:48 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;9840,Hubstaff project: PORTAL/SAAS;06/Dec/25 2:48 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;2040,Hubstaff project: PORTAL/SAAS;07/Dec/25 2:47 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;2460,,,,,28800,3720,25080,87%,28800,3720,25080,,,,,,PROD-358,PROD-359,PROD-361,PROD-362,,,,,,,,,05/Dec/25 7:10 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251205-150820.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/16004,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@40ba6c5b,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i0071r:,,,,S13: Nov 30- Dec 15,,,01/Dec/25 12:00 AM,,,,,,,,,,,2025-10-23 11:46:28.341,3_*:*_1_*:*_23872005_*|*_10594_*:*_2_*:*_5805_*|*_10563_*:*_3_*:*_808986223_*|*_10562_*:*_2_*:*_94283164_*|*_10003_*:*_3_*:*_2897043815,"23/Oct/25 4:46 AM;712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07]  we use relevancy tag {{XXXXXX }} for other types also, should it be for the this type too?","23/Oct/25 4:47 AM;712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07]  

* *ASIN Column:* Display the *advertised ASIN* (the ASINs being promoted), _not_ the target ASINs â€” consistent with manual/automatic campaign behavior.

now we display ASIN Config so this type wonâ€™t have ASIN config?",23/Oct/25 7:19 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] Correct.,"23/Oct/25 7:26 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] 

This will also show ASIN configâ€™s ASIN similar to other targeting types.

What we show on ASIN config is actually the ASIN being promoted or advertised which is our clientâ€™s ASIN actually. Sorry if that confused you.

In ASIN Targeting, we promote our own ASIN (the ASIN defined in the ASIN configuration) on a competitorâ€™s product listing page. The competitorâ€™s ASIN on which our ad appears is referred to as the Target ASIN, meaning we are advertising our ASIN on a competitorâ€™s product page or listing.","04/Dec/25 12:58 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] Could you please clarify what the file import logic should look like? Itâ€™s not clear how weâ€™re supposed to link brands to these campaigns, how the validation should work, and how to handle other related aspects. Do we block campaign creation? What should happen when the relevancy tag, match type, or custom negative keywords are changed?","04/Dec/25 11:47 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] 

What should happen when the relevancy tag, match type, or custom negative keywords are changed?

* {color:#ff991f}Match Type, Tag & Custom Negative KWs all are supposed to be non-editable fields. When bulk importing, we can let user push these values and the system ignores or we can produce an error. Both works!{color}



* {color:#ff991f}While doing a bulk import, a user would only be expected to fill in {color}

# {color:#ff991f}ASIN{color}
# {color:#ff991f}Target ACOS{color}
# {color:#ff991f}Daily Budget{color}
# {color:#ff991f}Ad Status{color}
# {color:#ff991f}Targeting Spec{color}



Itâ€™s not clear how weâ€™re supposed to link brands to these campaigns

* {color:#ff991f}For ASIN Targeting only, can we have â€œTargeting Specâ€ column = Target Brand?{color}
* {color:#ff991f}I am very sorry as I failed to consider about Brand linking which is necessary so see if the suggestion provided in the prior bullet works? If not then can we add another column that shows the Target Brand for ASIN Targeting and remains blank for other targeting types (Manual KW & Auto)? Open to your suggestion{color}","05/Dec/25 1:39 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] I support the idea of adding a new column called Target Brand, and for ASIN targeting we should enforce uniqueness based on the relevancy tag, ASIN, and target brand. If no campaign is found for such a combination, we skip this record; if a campaign is found, we update only Target ACOS, Daily Budget, Ad Status, and Targeting Spec","05/Dec/25 7:10 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] All correct except one point as mentioned below.
Uniqueness is based on ASIN + Target Brand only, Relevance is going to be common across all ASIN Targeting campaigns across all ASINs and that is going to be â€œXXXXXXâ€. There is not tag for the Relevance of ASIN Targeting as per the requirement. Lmk in case you see if i have required custom tags for ASIN Targeting in some other ticket, I donâ€™t think so though.

!image-20251205-150820.png|width=961,alt=""image-20251205-150820.png""!","05/Dec/25 8:02 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] The reason we use uniqueness across relevancy tag + ASIN + target brand is to avoid potential issues in case someone accidentally enters a value other than â€œXXXXXXâ€ for the ASIN Targeting relevance in the file.
This triple-key ensures we can always precisely identify the ASIN Targeting record, even if the relevance field is mistakenly changed in the input.",,15208,PROD-309,Miscellaneous - I,Done,05/Dec/25 9:23 AM
Miscellaneous - I,PROD-309,15208,Story,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,22/Oct/25 4:06 AM,07/Jan/26 11:53 AM,,12/Dec/25 7:17 AM,, [Advertising] [v2] -[February 1st Release],14/Dec/25 12:00 AM,0,Advertising,,,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Hubstaff project: PORTAL/SAAS;04/Dec/25 2:48 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;5940,Hubstaff project: PORTAL/SAAS;04/Dec/25 2:48 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;5340,Hubstaff project: PORTAL/SAAS;04/Dec/25 2:48 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;2640,Hubstaff project: PORTAL/SAAS;04/Dec/25 2:48 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;300,Hubstaff project: PORTAL/SAAS;05/Dec/25 2:48 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;6420,Hubstaff project: PORTAL/SAAS;05/Dec/25 2:48 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;8040,Hubstaff project: PORTAL/SAAS;05/Dec/25 2:48 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;10860,,,,64800,0,39540,61%,129600,39720,64620,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@2074ed72,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00cf7:,,,,S13: Nov 30- Dec 15,,,01/Dec/25 12:00 AM,,,,,,,,,,,,3_*:*_1_*:*_35393772_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_2_*:*_2154875269_*|*_10003_*:*_3_*:*_1633976271,,,,,,,,,,,14631,PROD-9,ADS: Miscellaneous,Done,05/Dec/25 9:23 AM
"Implement Research Part # 2: Implement Target ASIN Extraction, Data Collection & Qualification",PROD-303,15197,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,22/Oct/25 3:31 AM,15/Jan/26 4:19 AM,,10/Nov/25 4:46 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. *Objective:*

This ticket covers details on extracting ASINs from top-performing search terms, collecting key competitive attributes (price, rating, reviews, fulfillment), and defining the qualification criteria to shortlist high-potential ASINs for targeting under ASIN Targeting Campaigns.



h2. *Requirements:*

# *Target ASIN Extraction*
#* For each of the 5 selected search terms, scrape or fetch the *first SERP page* (~45â€“50 ASINs).
#* Regardless the search terms were scraped or fetched in the previous ASIN research runs, it should be re-fetched/re-scraped again if it requalified as per the trigger defined under [https://keplercommerce.atlassian.net/browse/PROD-297|https://keplercommerce.atlassian.net/browse/PROD-297|smart-link] 
#* Collect all ASINs (including duplicates initially).
#* Deduplicate across all terms to get the final *unique Target ASIN set*.
#* For Target ASINs that exist in the backend already from previous ASIN Research process runs, either donâ€™t fetch these from SERP or if fetching canâ€™t be filtered then fetch but do not action these further as these are already stored in the backend.
# *Data Point Collection*
For each unique ASIN, collect the following attributes:
#* *Price:* Current Buy Box Price â†’ FBA Price â†’ FBM Price
#* *Rating:* Average customer rating
#* *Review Count:* Total review count
#* *BB Seller Fulfillment Type:* FBA or FBM
#* *Brand Name*
# *ASIN Qualification Logic*
#* Define and apply the following qualification rule on all ASINs stored in the backend ( including ASINs obtained from current ASIN Research process run and prior runs)
#* {noformat}IF
    (Our.PricePerUOM <= Competitor.PricePerUOM)
AND
    (
        (Our.Rating > 4)
        OR
        (
            Our.Rating > (Competitor.Rating - 0.5)
            AND
            FirstDigit(Our.Rating) == FirstDigit(Competitor.Rating)
        )
    )
AND
    (
        (
            Our.Reviews < 1000
            AND Competitor.Reviews > 1000
            AND Our.Reviews >= 0.1 * Competitor.Reviews
        )
        OR
        (
            Our.Reviews < 1000
            AND Competitor.Reviews < 1000
        )
        OR
        (Our.Reviews > 1000)
    )
THEN
    Qualification_Level = ""Qualified_Level1""
    Qualification_Status = ""Qualified""
ELSE IF
    (Our.PricePerUOM <= 1.1 * Competitor.PricePerUOM)
AND
    (
        (Our.Rating >= 4)
        OR
        (Our.Rating >= Competitor.Rating - 0.3)
    )
AND
    (
        (
            Our.Reviews > 100
            AND Our.Reviews >= 0.1 * Competitor.Reviews
        )
        OR
        (
            Our.Reviews < 100
            AND Competitor.Reviews <= 500
        )
    )
AND
    (
        Our.FulfillmentType == ""FBA""
        OR
        (Our.FulfillmentType == ""FBM"" AND Competitor.FulfillmentType == ""FBM"")
    )
THEN
    Qualification_Level = ""Qualified_Level2""
    Qualification_Status = ""Qualified""
ELSE
    Qualification_Status = ""Not Qualified""
{noformat}
Note: +*Competitor means Target ASIN, this qualification criteria is supposed to screen all target ASIN extracted.*+

* Identify and *flag ASINs that qualify for targeting*.
* Store qualified ASINs in the backend with:
** {{ASIN}}, {{qualification_status = qualified}}, {{qualification_date}}, {{source_search_term}}, and the 4 attributes collected above
* Qualified ASINs must be *added to the targeting pool* (covered in separate ticket), even if associated campaigns are currently disabled.

*Acceptance Criteria:*

* System successfully extracts ~45â€“50 ASINs per search term (entire page # 1).
* Duplicate ASINs are correctly removed across search terms.
* All required data points (price, rating, review count, fulfillment type) are populated per Target ASIN.
* Qualified Target ASINs are clearly identified and stored in final output.



Below is a formatted version of the qualification criteria provided above. Same as above, just formatted differently for Product teamâ€™s perusal.

!image-20251022-151612.png|width=1086,alt=""image-20251022-151612.png""!

{color:#ff991f}+*Note: The qualification criteria was reviewed by Krell on 22 Octâ€™25 and his feedback were incorporated.*+{color}

cc: [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] ",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,;10/Nov/25 2:05 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;57600,,,,,,,,,,57600,0,57600,100%,57600,0,57600,,PROD-300,,,,PROD-357,PROD-765,,,,,,,,,,,22/Oct/25 8:21 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251022-151612.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14559,29/Oct/25 1:03 PM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251029-200354.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14853,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5c127df7,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i007fi:x,,,,,,,,,,,,,,,,,,2025-10-29 16:29:56.818,3_*:*_1_*:*_4159723_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_274015922_*|*_10003_*:*_2_*:*_1362005616,"29/Oct/25 9:29 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] Regarding the following points:

# *â€œFor each of the 5 selected search terms, scrape or fetch the first SERP page (~45â€“50 ASINs).â€*
Where exactly should we get these ASINs from, and what is the expected procedure for fetching them?
I think it might make sense to create a separate sub-ticket to describe this process in detail.
# *â€œDefine and apply the following qualification rule on all ASINs stored in the backend (including ASINs obtained from the current ASIN Research process run and prior runs).â€*
What exactly is meant by _â€œall ASINs storedâ€_?
Does it refer to ASINs that already have an *ASIN Configuration*, or only to those fetched from the current SERP scrape (~45â€“50 ASINs)?
# *Which ASIN should be considered as â€œOurâ€?*
Regarding this rule:
{noformat}Our.Reviews < 1000
AND Competitor.Reviews > 1000
{noformat}
Iâ€™m not sure weâ€™ll be able to retrieve even 100 reviews per ASIN in practice.
# *ASIN, qualification_status = qualified, qualification_date, source_search_term* â€”
Are these fields created only for the ASINs obtained from the scrape (~45â€“50) that successfully pass the *ASIN Qualification Logic*?
# If I understand correctly, *Qualified Target ASINs* are the ones obtained from the scrape (~45â€“50) that pass the *ASIN Qualification Logic*, correct?

And if possible, please provide a *specific example* of this process based on some sample data

CC [~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] ","29/Oct/25 1:03 PM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] 

# Ticket created. [https://keplercommerce.atlassian.net/browse/PROD-761|https://keplercommerce.atlassian.net/browse/PROD-761|smart-link], [https://keplercommerce.atlassian.net/browse/PROD-762|https://keplercommerce.atlassian.net/browse/PROD-762|smart-link], [https://keplercommerce.atlassian.net/browse/PROD-765|https://keplercommerce.atlassian.net/browse/PROD-765|smart-link] 
# All ASINs scraped and stored in the backend db over time. Refer to the new created tickets to get more clarity.
# All ASINs found in the ASIN Config = *OUR ASINs.* The entire process defined under [https://keplercommerce.atlassian.net/browse/PROD-273|https://keplercommerce.atlassian.net/browse/PROD-273|smart-link] is supposed to run individually on each ASIN under the ASIN config as per the triggers defined. We do not have to retrieve reviews instead only the count of total reviews which is a single datapoint known as review count and can be sourced from Keepa or Andrew may know other sources and ways. (See snapshot)
!image-20251029-200354.png|width=972,alt=""image-20251029-200354.png""!
## Yes
## Yes

cc: [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] ",,,,,,,,,16977,PROD-1117,v1 Competitor Qualification Logic Engine,Done,10/Nov/25 2:07 AM
Implement Research Part # 1: Search Term Filtering & Top Search Term Selection,PROD-300,15188,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,22/Oct/25 3:12 AM,15/Jan/26 4:19 AM,,10/Nov/25 4:46 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. *Objective:*


This ticket defines the logic to identify top-performing search terms that represent high-converting customer intent. This step filters and ranks search terms based on recent spend contribution and conversion efficiency, serving as the input layer for ASIN research (Research Part # 2).



h2. Requirements:

# *Trigger:* 
#* Defined here: [https://keplercommerce.atlassian.net/browse/PROD-297|https://keplercommerce.atlassian.net/browse/PROD-297|smart-link] 
# *Search Term Filtering*
#* Fetch all search terms with ad spend data from the last 14 days.
#* Filter out search terms that together account for *50% or more of total ad spend* during this period.
#* Only include search terms with valid CVR and impressions data.
# *Top Search Term Selection*
#* From the filtered set, *rank by Conversion Rate (CVR)*.
#* Exclude Search Terms that are an ASIN i.e. Search Term = ASIN
#* Select the *top 5 search terms* with the highest CVR. These 5 Search terms <> ASIN.
#* Output the list in structured format ({{SearchTerm}}, {{Spend}}, {{CVR}}, {{Clicks}}, {{Orders}}).
# *Output Handling*
#* Persist the filtered and ranked dataset in the database or data lake for use by downstream ASIN extraction logic.

*Acceptance Criteria:*

* Logic correctly filters search terms by spend percentage threshold.
* Output returns exactly 5 search terms with highest CVR post-filter.
* Output schema matches downstream ASIN extractor input.



30 Octâ€™25 update:

[ASIN Targeting_ASIN Research Part # 1 example|https://docs.google.com/document/d/1IOsHiv-O3Bv-dfFpYixQQfpw-3kwIrd5uJfQSDeIsT8/edit?usp=drive_link]",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,;10/Nov/25 12:55 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;36000,,,,,,,,,,28800,0,36000,125%,28800,0,36000,,,,,,PROD-303,PROD-761,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6fdeee48,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i007fi:v,,,,,,,,,,,,,,,,,,2025-10-29 16:12:13.128,3_*:*_1_*:*_113877438_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_274177021_*|*_10003_*:*_2_*:*_935304735,"29/Oct/25 9:12 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] Could you please clarify the following points:

* *â€œFilter out search terms that together account for 50% or more of total ad spend during this period.â€*
What exactly is meant by *â€œ50% or more of total ad spendâ€*?
* *â€œOnly include search terms with valid CVR and impressions data.â€*
Which CVR values should be considered valid?
* *â€œFrom the filtered set, rank by Conversion Rate (CVR).â€*
This part is also not completely clear.

It would be helpful if you could provide an example of how the filtering and selection process should work â€” on a specific example
ÑÑ [~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] ",29/Oct/25 10:14 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] Please find the example [here|https://docs.google.com/document/d/1IOsHiv-O3Bv-dfFpYixQQfpw-3kwIrd5uJfQSDeIsT8/edit?usp=sharing]. Feel free to let me know if itâ€™s still unclear.,"30/Oct/25 6:11 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] 

*_Output the list in structured format (SearchTerm, Spend, CVR, Clicks, Orders)_*
These fields represent 15-day metrics, e.g., Spend15d, CVR15d, etc.",30/Oct/25 7:32 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] Correct,,,,,,,16973,PROD-1115,Search Term Performance Analysis Engine,Done,06/Nov/25 9:47 AM
Backend - Ads-API  Integration & ASIN Status Sync,PROD-299,15186,Task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,Kostyantyn Solovtsov,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,Kostyantyn Solovtsov,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,22/Oct/25 3:08 AM,25/Nov/25 7:28 AM,,11/Nov/25 1:33 PM,, [Advertising] [v2] -[February 1st Release],17/Nov/25 12:00 AM,0,Advertising,,"h1. User Story

As a Portal Administrator, We want to automatically sync product eligibility status and list of Clients products from Ads-API on a daily basis, so that users always see up-to-date information about products list and which products are eligible for advertising.

----

h1. Problem / Context

*What specific user or system problem are we solving?*

The system does not have current information about available products and their statuses for advertising. We need integration with Ads-API to retrieve the list of ASINs/SKUs and their advertising eligibility statuses.

*Why is this needed?*

This is the foundation for the entire User Journey - without list of products ant their statuses, users cannot see which products are available for advertising. Accurate, up-to-date product eligibility information is critical for preventing errors during campaign setup and reducing time spent troubleshooting ineligible products.

----

h1. Solution Outline

*Proposed Approach:*

# Integration with Ads-API Product Eligibility endpoint
# Create new datapoint {{sp_overallStatus}} in database
# Implement status aggregation logic for ASINs with multiple SKUs
# Compare with existing ASINs and add new products discovered via Ads-API
# Daily schedule for automatic synchronization

*API / System Behavior in Scope:*

* Endpoint: Ads-API Product Eligibility ([https://advertising.amazon.com/API/docs/en-us/eligibility-prod-3p#tag/Product-Eligibility|https://advertising.amazon.com/API/docs/en-us/eligibility-prod-3p#tag/Product-Eligibility|smart-link] )
* Response parsing for overallStatus
* Database schema update for new datapoint
* Daily cron job execution

*Constraints / Assumptions:*

* Ads-API rate limits must be considered in scheduler design
* Multiple SKUs may exist for a single ASIN
* Must handle statuses gracefully
* Sync runs during off-peak hours 

----

h1. Acceptance Criteria

* Ads-API Product Eligibility endpoint is integrated and operational 
*  Database schema updated with new datapoint {{sp_overallStatus}}
*  Status aggregation logic implemented according to rules:

* ELIGIBLE + ELIGIBLE = ELIGIBLE (if any have status ELIGIBLE = ELIGABLE)
*  INELIGIBLE + INELIGIBLE= INELIGIBLE (if all have status INELIGIBLE )
* No data + No data = SUPPRESSED (if no data by ASIN = SUPRESSED)

*  New ASINs from Ads-API are automatically added to client's product list in DB
*  Existing ASINs update their {{sp_overallStatus}} correctly
*  Daily schedule created and operational (cron job / scheduler)
*  Error handling implemented for Ads-API failures and rate limits
*  Unit tests cover status aggregation logic with 90%+ code coverage
*  Sync logs include timestamp, products processed, errors encountered

----

h1. Implementation Notes

*Key API Endpoints:*

[https://advertising.amazon.com/API/docs/en-us/eligibility-prod-3p#tag/Product-Eligibility|https://advertising.amazon.com/API/docs/en-us/eligibility-prod-3p#tag/Product-Eligibility|smart-link] 



* API Endpoints: Amazon Ads-API Product Eligibility endpoint (requires AWS credentials)

* Database: Add `sp_overallStatus` ENUM column and `last_sp_sync` TIMESTAMP to ASIN table

* New Services: 

* `AdsAPIService` for API communication with Amazon Ads-API

* `ASINSyncService` for orchestration and business logic

* Scheduler: Daily cron job at 2 AM UTC

* Rate Limits: Amazon Ads-API allows 10 requests/second - implement throttling

* Error Handling: Exponential backoff, circuit breaker pattern for API failures

* Logging: All status changes must be logged with timestamps

* Configuration: Need ENV variables for Ads-API credentials and region settings

* Dependencies: None - this is foundation task

* Blocks: [PROD-316|https://keplercommerce.atlassian.net/browse/PROD-316], [PROD-323|https://keplercommerce.atlassian.net/browse/PROD-323] (UI tasks depend on this data)

----

h1. Out of Scope

What this story explicitly does not cover:

* Real-time synchronization (daily schedule only)
* Manual force-sync UI button (can be added in Phase 2)
* Detailed eligibility reasons analysis (using only overallStatus)
* Historical status tracking (only current status stored log can be added in Phase 2)
* Notifications to users about status changes (can be added in Phase 2)

----

h1. Test Cases

*Test Case 1: Successful Ads-API Sync*

* Given: Client has 50 existing ASINs in database
* When: Daily sync runs
* Then: All ASINs updated with SP statuses, sync log created with timestamp and count

*Test Case 2: Aggregation Logic - Multiple SKUs (ELIGIBLE)*

* Given: ASIN has 2 SKUs: SKU1=ELIGIBLE, SKU2=ELIGIBLE
* When: Sync processes this ASIN
* Then: sp_overallStatus = ELIGIBLE

*Test Case 3: Aggregation Logic - Mixed Statuses*

* Given: ASIN has 2 SKUs: SKU1=ELIGIBLE, SKU2=NO_DATA_AVAILABLE
* When: Sync processes this ASIN
* Then: sp_overallStatus = ELIGIBLE

*Test Case 4: New ASIN Discovery*

* Given: Ads-API returns ASIN B08NEWPROD not in our database
* When: Sync processes response
* Then: New ASIN added to client's product list with SP status and sp_status_updated_at timestamp

*Test Case 5: Ads-API Rate Limit Hit*

* Given: Sync processing 500 ASINs
* When: Rate limit reached (HTTP 429)
* Then: Queue system pauses, implements exponential backoff, resumes after cooldown

*Test Case 6: Ads-API Failure*

* Given: Ads-API returns 500 error
* When: Sync attempts to fetch product data
* Then: Error logged, retry attempted up to 3 times, sync continues with remaining products

*Test Case 7: SUPPRESSED Status Handling*

* Given: ASIN has 2 SKUs: SKU1=INELIGIBLE, SKU2=INELIGIBLE
* When: Sync processes this ASIN
* Then: sp_overallStatus = SUPPRESSED, stored correctly in database",,Automation for Jira,Kostyantyn Solovtsov,,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,,,,Progress logged via Aha!;18/Nov/25 1:30 PM;e5e7d5e7-6911-4643-b0c4-f0ca46f5b43c;3600,,,,,,,,,,39600,0,3600,9%,79200,9000,34200,,,,,,,,,,,PROD-1215,PROD-1251,,,PROD-1106,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@3f975f3c,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i006zb:,,,,S11: Nov 3 - Nov 16,,,03/Nov/25 12:00 AM,3.0,,,,,,,,,,2025-11-11 21:33:07.376,3_*:*_1_*:*_297125_*|*_10561_*:*_1_*:*_88685299_*|*_10594_*:*_2_*:*_87359005_*|*_10563_*:*_1_*:*_807092728_*|*_10004_*:*_1_*:*_15469616_*|*_10003_*:*_2_*:*_770188272,11/Nov/25 1:33 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,,17186,PROD-1194,ADS: Automated Competitor Research,Done,10/Nov/25 8:59 AM
Deploy Trigger for running the Research process,PROD-297,15182,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,22/Oct/25 12:49 AM,15/Jan/26 4:19 AM,,10/Nov/25 4:46 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. *Objective:*

This ticket defines the periodic trigger that has to be deployed which would run the ASIN Research process based on ASIN performance thresholds.



h2. *Requirements:*

h4. *Trigger Frequency*

* Trigger # 1: As soon as the ASIN is *ENABLED* for the first time via ASIN Config.
* Trigger # 2: Execute automatically *every 2 weeks (14 days)*.
* Log each trigger evaluation timestamp.

h4. *Trigger Condition*

{noformat}IF (ASIN_Ad_Spend_15d > 100 AND ASIN_Ad_Orders_15d > 5)
    â†’ Trigger ASIN Research Process
ELSE
    â†’ Skip and recheck after 15 days
{noformat}

h4. *Operational Behavior*

* Evaluate all ASINs for which the *ASIN Targeting campaigns exist* {color:#ff991f}*AND*{color} *ASIN Status = ENABLED* regardless the ASIN Targeting campaign itself is ENABLED or DISABLED.
* Log all evaluations and trigger events.

h3. *Acceptance Criteria:*

* Trigger runs for the first time when the ASIN config is setup i.e. ASIN Status is *ENABLED* via the ASIN Config.
* Trigger runs automatically every 2 weeks.
* Research process executes only when condition is met.
* All runs and skips are logged with timestamps.",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,;10/Nov/25 12:54 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;14400,,,,,,,,,,14400,0,14400,100%,14400,0,14400,,,,,,PROD-761,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@3c276c7e,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i007fi:r,,,,,,,,,,,,,,,,,,2025-10-30 09:45:47.799,3_*:*_1_*:*_113874265_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_273133393_*|*_10003_*:*_2_*:*_944922693,30/Oct/25 2:45 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] Just to clarify â€” does the trigger run every 2 weeks for all ASINs with status *ENABLED*?,30/Oct/25 7:28 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] Yes,,,,,,,,,16973,PROD-1115,Search Term Performance Analysis Engine,Done,06/Nov/25 9:47 AM
Improved UI Filters,PROD-289,15127,Story,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,Kostyantyn Solovtsov,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,Kostyantyn Solovtsov,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,21/Oct/25 6:16 AM,25/Nov/25 7:33 AM,,25/Nov/25 12:21 AM,, [Advertising] [v2] -[February 1st Release],01/Dec/25 12:00 AM,0,Advertising,,"h2. User Story

As a *SP Ads platform user*, I want *specialized dropdown filters instead of generic text filters*, so that *I can filter data faster and more accurately for columns with fixed value sets*.

----

h2. Problem / Context

*What problem are we solving:*

* Current generic filters are inconvenient for columns containing a limited set of constant values
* Users must manually type text instead of selecting from a predefined list
* This slows down work and increases the probability of filtering errors

*Why is this needed:*

* UX improvement will reduce time spent searching and filtering data
* Filtering accuracy will increase (elimination of typos)
* Productivity of teams working with SP Ads will increase

----

h2. Solution Outline

*Proposed approach:* Replace generic text filters with dropdown selectors for the following UIs and columns:

h3. 1. *Advertising Campaigns UI*

ğŸ”— [https://portal.keplercommerce.com/amazon-ads/campaigns/list?ordering=state|https://portal.keplercommerce.com/amazon-ads/campaigns/list?ordering=state]

*Columns to update:*

* *Status*: Dropdown with values: ENABLED, PAUSED
* *Match Type*: Dropdown with values: BROAD, PHRASE, EXACT, [TARGETING_EXPRESSION_PREDEFINED	 ] = Auto Targeting , ASIN Target 
* *Targeting Type*: Dropdown with values: MANUAL, AUTO

h3. 
2. *ASIN Config UI*

ğŸ”— [https://portal.keplercommerce.com/amazon-ads/asin-config|https://portal.keplercommerce.com/amazon-ads/asin-config]

*Columns to update:*

* *Auto Budget*: Dropdown with values: ON, OFF

h3. 
3. *Campaign Config UI*

ğŸ”— [https://portal.keplercommerce.com/amazon-ads/campaigns/config|https://portal.keplercommerce.com/amazon-ads/campaigns/config]

*Columns to update:*

* *Relevancy Tag*: Dropdown with list of existing tags (e.g. NBR1,NBR2 etc.)

h3. 
4. *KW Config UI*

ğŸ”— [https://portal.keplercommerce.com/amazon-ads/keywords/config|https://portal.keplercommerce.com/amazon-ads/keywords/config]

*Columns to update:*

* *Match Type*: Dropdown with values: BROAD, PHRASE, EXACT, [TARGETING_EXPRESSION_PREDEFINED	 ] = Auto Targeting , ASIN Target 

h3. 
5. *ST Config UI*

ğŸ”— [https://portal.keplercommerce.com/amazon-ads/search-term/config|https://portal.keplercommerce.com/amazon-ads/search-term/config]

*Columns to update:*

* *Relevancy*: Dropdown with list of existing Relevancy Tags (dynamic loading from API)
* *Match Type*: Dropdown with list of existing Match Types (dynamic loading from API)
* *Negative Status - Manual?*: Dropdown with values: Negative, Not Negative, [blank or ___] 
* *Negative KW?*: Dropdown with values: Yes, No


*Constraints / Assumptions:*

* For dynamic lists (Relevancy Tags, Match Types), API endpoints are required to retrieve current values
* Maintain ability to clear/reset filters
* Dropdowns should support multiple selection where logical

----

h2. Acceptance Criteria

* All specified filters in Advertising Campaigns UI (Status, Match Type, Targeting Type) are replaced with dropdowns with fixed values
* Auto Budget filter in ASIN Config UI works as dropdown (ON/OFF)
* Filters in Campaign Config, KW Config, ST Config UI use dropdowns with dynamic value loading from API
* All dropdown filters work correctly with existing filtering logic and pagination
* UI/UX tested on desktop and mobile versions
* Filters maintain state during navigation (if applicable)

----

h2. Implementation Notes

*Key components:*

* Frontend: React component for dropdown filters (reusable)

*Technical considerations:*

* Use existing UI library (Ant Design, Material-UI, or custom)
* Client-side caching of value lists for optimization
* Accessibility (ARIA labels, screen reader support)

*Dependencies:*

* Design: Final UI/UX review by designer (if required)

----

h2. Out of Scope

* Changes to filtering logic itself (UI only)

----

h2. Test Cases

*TC1: Status filter in Campaigns UI*

* Open Advertising Campaigns UI
* Click on Status filter
* Select ""ENABLED""
* âœ… Table shows only campaigns with ENABLED status

*TC2: Multiple Match Types filter*

* Open Advertising Campaigns UI
* Select ""BROAD"" and ""EXACT"" in Match Type filter
* âœ… Table shows campaigns with both types

*TC3: Dynamic Relevancy Tags filter*

* Open Campaign Config UI
* Click on Relevancy Tag filter
* âœ… Dropdown loads current list of tags from API
* Select a tag
* âœ… Table filters correctly

*TC4: Clear filters*

* Apply multiple filters
* Click ""Clear All Filters""
* âœ… All filters reset, table shows all records

----

h2. Success Metrics

* Reduction in data filtering time by *30-40%* (user testing)
* Reduction in filtering errors (incorrect queries) by *50%+*
* Positive feedback from internal users (NPS 8+)",,Automation for Jira,Kostyantyn Solovtsov,Pavlo Lisovets,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,;18/Nov/25 6:23 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;14400,,,,,,,,,,14400,0,14400,100%,14400,0,14400,,,,,,,,,,,,,,,PROD-1447,PROD-1448,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@7f8f57d4,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i006wn:,,,,S12: Nov 17- Nov 30,,,17/Nov/25 12:00 AM,1.0,,,,,,,,,,2025-11-18 14:23:38.793,3_*:*_1_*:*_356444_*|*_10594_*:*_3_*:*_4711820_*|*_10563_*:*_2_*:*_91839_*|*_10004_*:*_2_*:*_578279796_*|*_10565_*:*_1_*:*_96625_*|*_10003_*:*_3_*:*_2422780518,18/Nov/25 6:23 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[https://github.com/KeplerCommerce/portal/pull/387|https://github.com/KeplerCommerce/portal/pull/387|smart-link] ,25/Nov/25 12:22 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,25/Nov/25 12:22 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,14631,PROD-9,ADS: Miscellaneous,Done,18/Nov/25 6:23 AM
Improve navigation between SP Ads UIs with clickable links and auto-filtering,PROD-286,15122,Story,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,Kostyantyn Solovtsov,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,Kostyantyn Solovtsov,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,21/Oct/25 5:18 AM,25/Nov/25 7:33 AM,,18/Nov/25 7:42 AM,, [Advertising] [v2] -[February 1st Release],,0,Advertising,,"h2. *User Story*

As an *Account Manager / Analyst*, I want to *click on ASIN, Campaign Name, and Keyword to automatically go to related UIs with filters already applied*, so that *I can reduce time for ad campaign analysis and avoid manual filter reapplication*.

----

h2. *Problem / Context*

*Current Problem:*

* Users must manually switch between UIs: ASIN Config â†’ Campaign Config â†’ KW Config â†’ ST Config
* On each UI, users must manually apply filters again
* This creates big inconvenience during ad analysis and increases work time

*Why this is needed:*

* Current navigation process is not optimal and takes too much time
* Users spend time reapplying the same filters
* This reduces efficiency for Account Managers and Analysts + Users  related to Design partner program


*Affected UIs:*

# ASIN Config UI: [https://portal.keplercommerce.com/amazon-ads/asin-config|https://portal.keplercommerce.com/amazon-ads/asin-config]
# Campaign Config UI: [https://portal.keplercommerce.com/amazon-ads/campaigns/config|https://portal.keplercommerce.com/amazon-ads/campaigns/config]
# KW Config UI: [https://portal.keplercommerce.com/amazon-ads/keywords/config|https://portal.keplercommerce.com/amazon-ads/keywords/config]
# ST Config UI: [https://portal.keplercommerce.com/amazon-ads/search-term/config|https://portal.keplercommerce.com/amazon-ads/search-term/config]

----

h2. *Solution Outline*

*Proposed approach:*

Make key fields clickable links that automatically redirect users to the next UI with filter already applied:

# *ASIN Config UI* â†’ *Campaign Config UI*
#* ASIN ID becomes a clickable link (blue color + underline)
#* On click: redirect to Campaign Config UI with auto-applied filter by ASIN
#* Example: click on ""B00EDT6IBY"" â†’ show only campaigns for this ASIN
# *Campaign Config UI* â†’ *KW Config UI*
#* Campaign Name becomes a clickable link (blue color + underline)
#* On click: redirect to KW Config UI with auto-applied filter by Campaign Name
#* Example: click on ""NBH1-SPKW-NU01-XX-S-B00EDT6IBY-E-KW"" â†’ show only keywords for this campaign
# *KW Config UI* â†’ *ST Config UI*
#* Keyword becomes a clickable link (blue color + underline)
#* On click: redirect to ST Config UI with auto-applied filter by Keyword
#* Example: click on ""CLOSE-MATCH"" â†’ show only rows for this keyword

*UI / API / System behavior:*

* Links open in the same tab (not new tab)
* Visual indication: blue text color + underline (standard link style)
* Auto-applied filter is visible to user and can be reset with ""Reset Filter"" button
* User can apply additional filters on top of auto-applied filter
* Filters are not saved between transitions (except the one passed in URL)

*Constraints / Assumptions:*

* Use existing filter functionality (no new filters created)
* All UIs are part of one SaaS portal SP Ads
* Technology stack is unknown (will be determined by development team)
* Assume no API limitations or performance issues
* Assume no security/access permission issues

----

h2. *Acceptance Criteria*

*ASIN Config UI:*

* ASIN ID displays as clickable link (blue color + underline)
* Click on ASIN ID redirects to Campaign Config UI in same tab
* Campaign Config UI has auto-applied filter by selected ASIN
* Only campaigns for selected ASIN are displayed

*Campaign Config UI:*

* Campaign Name displays as clickable link (blue color + underline)
* Click on Campaign Name redirects to KW Config UI in same tab
* KW Config UI has auto-applied filter by selected Campaign Name
* Only keywords for selected campaign are displayed

*KW Config UI:*

* Keyword displays as clickable link (blue color + underline)
* Click on Keyword redirects to ST Config UI in same tab
* ST Config UI has auto-applied filter by selected Keyword
* Only rows for selected keyword are displayed

*General Criteria:*

* User can reset auto-applied filter with ""Reset Filter"" button
* User can apply additional filters on top of auto-applied filter
* Navigation works for all Client accounts (tested with NuMe example)

----

h2. *Implementation Notes*

*Key components to modify:*

# ASIN Config UI component (table/list with ASIN ID)
# Campaign Config UI component (table/list with Campaign Name)
# KW Config UI component (table/list with Keyword)
# ST Config UI component (to receive filter parameter)

*Technical considerations:*

* Pass filter parameters through URL query parameters or routing
* Apply filter when target UI loads
* CSS styles for clickable links (standard blue color + underline)
* Integration with existing filter system on each UI

*Dependencies:*

* Existing filter functionality on all UIs
* Portal routing/navigation mechanism
* URL structure for passing parameters

*Example URLs (suggested):*

* Campaign Config: {{...campaigns/config?asin=B00EDT6IBY}}
* KW Config: {{...keywords/config?campaign=NBH1-SPKW-NU01-XX-S-B00EDT6IBY-E-KW}}
* ST Config: {{...search-term/config?keyword=CLOSE-MATCH}}  - (ASIN+KW+ Campaign or By KeywordID will be better)

----

h2. *Out of Scope*

What is *NOT* included in this story:

* âŒ Creating new filter functionality (use existing filters)
* âŒ Changing UI design/layout except adding clickable links
* âŒ Adding bulk actions
* âŒ Adding multi-select functionality
* âŒ Mobile version improvements
* âŒ Saving filters between sessions
* âŒ ""Back"" button or history navigation
* âŒ Opening links in new tabs

----

h2. *Test Cases*

*Test Case 1: ASIN Config â†’ Campaign Config*

# Open ASIN Config UI
# Select Client account: NuMe
# Click on ASIN: B00EDT6IBY (displays as blue underlined link)
# *Expected result:* Redirect to Campaign Config UI with auto-applied filter by ASIN B00EDT6IBY, only campaigns for this ASIN are displayed

*Test Case 2: Campaign Config â†’ KW Config*

# On Campaign Config UI (with or without ASIN filter)
# Click on Campaign Name: NBH1-SPKW-NU01-XX-S-B00EDT6IBY-E-KW (displays as blue underlined link)
# *Expected result:* Redirect to KW Config UI with auto-applied filter by Campaign Name, only keywords for this campaign are displayed

*Test Case 3: KW Config â†’ ST Config*

# On KW Config UI (with or without Campaign filter)
# Click on Keyword: CLOSE-MATCH (displays as blue underlined link)
# *Expected result:* Redirect to ST Config UI with auto-applied filter by Keyword, only rows for this keyword are displayed

*Test Case 4: Reset Filter*

# Go to any UI through clickable link (with auto-applied filter)
# Click ""Reset Filter"" button
# *Expected result:* Filter is reset, all data is displayed

*Test Case 5: Additional Filters*

# Go to any UI through clickable link (with auto-applied filter)
# Apply additional filter through UI
# *Expected result:* Both filters work together (auto-applied + manual)

----

h2. *Success Metrics*

*Measurable results:*

* âœ… Reduce navigation time between UIs by *60%*
* âœ… Remove need for manual filter application when moving between ASIN Config â†’ Campaign Config â†’ KW Config â†’ ST Config
* âœ… Improve User Experience for Account Managers and Analysts
* âœ… Reduce time for ad campaign analysis

*Quality indicators:*

* Better usability of SP Ads portal
* Fewer errors during filtering
* Faster access to detailed information

cc: [~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] ",,Automation for Jira,Kostyantyn Solovtsov,,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,,,,;13/Nov/25 11:04 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;7200,;13/Nov/25 11:04 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;7200,,,,,,,,,9900,0,14400,145%,19800,9900,14400,,,,,,,,,,,,,,,PROD-1276,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6f8b3d5c,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i006vz:,,,,,,,,5.0,,,,,ef27ea9c-4877-4c77-b13a-e787725dc584,Ads,,,,2025-11-18 15:42:11.545,3_*:*_1_*:*_131644_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_952816071_*|*_10003_*:*_2_*:*_1058607672,18/Nov/25 7:42 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,,14631,PROD-9,ADS: Miscellaneous,Done,13/Nov/25 11:04 AM
ASIN Targeting - v1 Baseline Budget Logic Engine,PROD-274,15090,Story,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,20/Oct/25 7:57 AM,02/Dec/25 2:49 AM,,27/Nov/25 11:53 PM,, [Advertising] [v2] -[February 1st Release],01/Dec/25 12:00 AM,0,Advertising,,,,abdul,Automation for Jira,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,,,,Progress logged via Aha!;24/Nov/25 7:50 AM;e5e7d5e7-6911-4643-b0c4-f0ca46f5b43c;3600,,,,,,,,,,36000,0,3600,10%,72000,720,38880,,,,,,,,,,,,,,,PROD-1618,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@1192da9b,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|i006tb:,,,,S12: Nov 17- Nov 30,,,17/Nov/25 12:00 AM,,,,,,,,,,,2025-11-28 07:53:16.022,10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_1922283064_*|*_10003_*:*_2_*:*_1265207702,27/Nov/25 11:53 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,,16967,PROD-1111,ADS: Automated Budget Optimization,Done,26/Nov/25 4:22 AM
ADS: Automated Bid Optimization,PROD-269,15085,Epic,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,20/Oct/25 6:54 AM,02/Dec/25 2:48 AM,,, [Advertising] [v2] -[February 1st Release], [Advertising] [v2] -[February 1st Release],18/Dec/25 12:00 AM,0,,,,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,0,0,,,122400,0,12240,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@699470bf,,,,,,,,,,,ghx-label-9,,To Do,,,,,,,orange,,,,,,,0|i006s7:,,,,,,,,16.0,,,,,,,,,,,,,,,,,,,,,,,,,To Do,20/Oct/25 6:54 AM
ASIN Targeting - v1 Bid Logic Engine (Core Optimization),PROD-268,15084,Story,Engineering review,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,20/Oct/25 6:40 AM,12/Jan/26 6:50 AM,,,, [Advertising] [v2] -[February 1st Release],26/Jan/26 12:00 AM,0,Advertising,,,,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,Hubstaff project: PORTAL/SAAS;22/Nov/25 2:50 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;3480,Hubstaff project: PORTAL/SAAS;23/Nov/25 2:50 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;1560,,,,,,,,,7200,0,5040,70%,14400,0,12240,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@231a77cc,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|hzzzw6:3y,,,,S16: Jan 12 - Jan 25,,,12/Jan/26 12:00 AM,,,,,,,,,,,,,,,,,,,,,,,15085,PROD-269,ADS: Automated Bid Optimization,In Progress,12/Nov/25 7:47 AM
Integrate â€œProduct Details (Optional)â€ Field as Additional Input for Prompts 1 & 2 of the Automated KW Research Process Flow,PROD-178,14833,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,14/Oct/25 1:47 PM,15/Jan/26 4:19 AM,,02/Nov/25 11:50 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. *Objective:*

This ticket requires integrating the user-provided â€œProduct Details (Optional)â€ data into the Keyword Research automation, allowing it to be used as an additional input alongside PDP content for Prompts 1 and 2.



h2. *Requirements*

# *Data Retrieval*
#* Fetch the *Product Details (Optional)* field from the backend during execution of Prompts 1 and 2. 

!image-20251014-205107.png|width=87.55707762557077%,alt=""image-20251014-205107.png""!

#* Retrieve data based on ASIN mapping from the Keyword Research configuration.
# *Prompt Input Composition*
#* Combine user-provided details with *Product Detail Page (PDP) content* to form a unified input payload. 

!image-20251014-205536.png|width=95.87982832618026%,alt=""image-20251014-205536.png""!

#* If PDP content is missing or fails to fetch:
#** Use the *Product Details (Optional)* data as the fallback content.
#** Display a system error message:
â€œUnable to fetch content from PDP. Using manually provided product details as input.â€
# *Integration Behavior*
#* Apply this logic to both Prompt 1 and Prompt 2 execution pipelines.
#* Ensure Prompt input format follows the existing schema structure.
# *Backend Schema & API Alignment*
#* Verify the field added in Ticket [https://keplercommerce.atlassian.net/browse/PROD-176|https://keplercommerce.atlassian.net/browse/PROD-176|smart-link]   is available for backend retrieval.
#* Ensure proper mapping of this data to prompt execution modules.
# *Testing & Validation*
#* Test with and without PDP content to confirm fallback behavior.
#* Validate that combined inputs (PDP + user-provided) appear correctly in the generated prompt.
#* Confirm no impact to other prompt workflows (Prompt 3 or unrelated ASINs).",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,;07/Nov/25 9:51 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;28800,,,,,,,,,,28800,0,28800,100%,28800,0,28800,,,,,,,,,,,,,,,,,,14/Oct/25 1:54 PM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251014-205107.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14225,14/Oct/25 1:54 PM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251014-205536.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14226,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@7d0abe85,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00673:,,,,,,,,,,,,,,,,,,2025-10-15 06:35:50.104,3_*:*_1_*:*_13891574_*|*_10561_*:*_1_*:*_3351_*|*_10594_*:*_2_*:*_344207447_*|*_10563_*:*_1_*:*_32925248_*|*_10562_*:*_1_*:*_609990470_*|*_10003_*:*_2_*:*_2383197_*|*_10564_*:*_2_*:*_196058039,"14/Oct/25 11:35 PM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] Could you please clarify where exactly on the page the user should see the message
â€œUnable to fetch content from PDP. Using manually provided product details as input.â€ for a specific ASIN?",,,,,,,,,,16905,PROD-1100,LLM-Driven Keyword Classification Engine,Done,26/Oct/25 10:32 AM
"Add Editable â€œProduct Details (Optional)â€ Column to ""Keyword Research"" Page/UI",PROD-176,14829,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,14/Oct/25 1:25 PM,15/Jan/26 4:19 AM,,02/Nov/25 11:50 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. *Objective*

This ticket requires adding an editable â€œProduct Details (Optional)â€ column to the Keyword Research page, allowing users to input, edit, and store supplemental product information in the backend for use as input to the Automated KW Research Process.



h2. *Requirements*

# *UI Update*
#* Add a new column titled *â€œProduct Details (Optional)â€* to the Keyword Research page (link placeholder to be added). 

!image-20251014-203301.png|width=95.8904109589041%,alt=""image-20251014-203301.png""!

#* Include an *editable text field* that allows users to manually enter additional product descriptions or details.
#* Ensure the column aligns visually with the existing layout (as shown in the reference screenshot).
# *Input Behavior*
#* Allow users to enter *free-form text* (up to ~5000 characters).
#* On submission:
#** Save the input to the backend for the associated ASIN record.
#** Persist data so that it *auto-loads* when the user revisits the page.
#** If no input is provided, store the field as *null* without affecting other records.
# *Edit & Version Logging*
#* Users should be able to *edit existing entries* in the text field.
#* On modification and submission:
#** *Overwrite* the previous value in the backend with the new input.
#** Maintain a *log of edits* including:
#*** ASIN
#*** Old value and new value
#*** Edited by (user ID or name)
#*** Timestamp of change
#* Expose this log through the admin or backend reporting layer for future reference.
# *Backend Integration*
#* Extend the ASIN configuration schema to include and track the *Product Details (Optional)* field.
#* Ensure that the field is accessible via existing Keyword Research APIs for downstream use (Prompt integrations).
# *Validation & Error Handling*
#* Sanitize all user input to prevent injection or formatting issues.
#* Display a *confirmation toast* (â€œDetails saved successfullyâ€) upon save.
#* Display a *warning message* (â€œUnable to save details, please retryâ€) if the backend save fails.
# *Testing & Verification*
#* Validate that:
#** Data entry saves, persists, and reloads correctly.
#** Edits overwrite correctly and appear in logs with accurate timestamps.
#** Logs record all modifications and user information accurately.
#** UI behavior and save actions are consistent across browsers.",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,;07/Nov/25 9:52 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;21600,,,,,,,,,,21600,0,21600,100%,21600,0,21600,,,,,,,,,,,,,,,,,,14/Oct/25 1:33 PM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251014-203301.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14224,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@7b1b6b67,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i0066n:,,,,,,,,,,,,,,,,,,,3_*:*_1_*:*_78663258_*|*_10594_*:*_2_*:*_344224345_*|*_10563_*:*_1_*:*_34128046_*|*_10003_*:*_2_*:*_547724366_*|*_10564_*:*_2_*:*_196036073,,,,,,,,,,,16905,PROD-1100,LLM-Driven Keyword Classification Engine,Done,26/Oct/25 10:32 AM
ADS: Miscellaneous,PROD-9,14631,Epic,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,12/Oct/25 2:24 AM,02/Dec/25 4:54 AM,12/Jan/26 7:46 AM,,, [Advertising] [v2] -[February 1st Release],,0,,,,,Andrew Pomaz,,,,,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,,,,,,,,,,,,,,0,0,,,272700,114300,123240,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@33caee90,,,,,,,,,,,ghx-label-9,,To Do,,,,,,,orange,,,,,,,0|i005xr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do,12/Oct/25 2:24 AM
Deploy Mapping Table + Batch Processing Logic for Keyword Mapping,PROD-133,14560,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,10/Oct/25 12:33 PM,11/Nov/25 11:53 AM,,02/Nov/25 11:50 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. *Requirements:*

Please refer to the requirements shared by [Kateryna Davidenko|https://keplercommerce.atlassian.net/secure/ViewProfile.jspa?accountId=712020%3Aaff451dd-dd5b-4c4b-8d72-d72ba00e7042] .

Apologies, for not adding the text as the indentation was getting affected while pasting.

!image-20251014-153714.png|width=100%,alt=""image-20251014-153714.png""!



cc: [Kateryna Davidenko|https://keplercommerce.atlassian.net/secure/ViewProfile.jspa?accountId=712020%3Aaff451dd-dd5b-4c4b-8d72-d72ba00e7042]",,abdul,Automation for Jira,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,,,,,,,,,,,,,,57600,57600,,0%,57600,57600,,,,,,,,,,,,,,,,PROD-417,,,14/Oct/25 8:36 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251014-153714.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14191,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@337e8cee,,,,,,,,,,,,,,,,,,,,,,,,,,,0|hzzzw5:0zz7,,,,,,,,,,,,,,,,,,2025-10-19 19:02:54.354,3_*:*_1_*:*_93005984_*|*_10033_*:*_2_*:*_59549524_*|*_10198_*:*_1_*:*_156091664_*|*_10594_*:*_2_*:*_344210486_*|*_10004_*:*_1_*:*_255178413_*|*_10003_*:*_1_*:*_370205547_*|*_10564_*:*_2_*:*_271234462,19/Oct/25 12:02 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,,16907,PROD-1101,Attributeâ€“Intent Mapping Engine,Done,26/Oct/25 10:32 AM
Change Negation Logic Trigger frequency from 24-Hour to 3-Hour.,PROD-43,14498,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,09/Oct/25 7:44 AM,27/Oct/25 12:37 AM,,27/Oct/25 12:37 AM,, [Advertising] [v2] -[February 1st Release],,0,Advertising,,"h2. *Objective:*

This ticket updates Trigger # 1 of 3 for the Negation Logic to run every 3 hours instead of every 24 hours, keeping the existing logic and behavior unchanged.

This ticket is a revision to this past ticket => [https://keplercommerce.atlassian.net/browse/AD-62|https://keplercommerce.atlassian.net/browse/AD-62|smart-link] 



h2. *Requirements*

# *Trigger Update*
#* Replace the existing *24-hour scheduled run* with a *3-hou one.*
#* The negation logic should now execute *every 3 hours*, ensuring faster evaluation and updates.
# *Expected Behavior (Unchanged)*
#* After each 3-hour re-evaluation:
#** Search terms/keywords that now meet the *negation criteria* should be negated.
#** Search terms/keywords that no longer meet the criteria should be *removed from negation*.
#* All resulting changes must be pushed to Amazon *immediately or batched shortly after processing*.
# *Integration & Compatibility*
#* Ensure the updated 3-hour trigger remains fully integrated with the existing *negation logic*.
#* Verify that the other existing triggers linked below runs as before and are not affected from this ticket:

[https://keplercommerce.atlassian.net/browse/AD-85|https://keplercommerce.atlassian.net/browse/AD-85|smart-link]

[https://keplercommerce.atlassian.net/browse/AD-86|https://keplercommerce.atlassian.net/browse/AD-86|smart-link] 

# *Logging & Monitoring*
#* Log each 3-hour execution
# *Testing & Validation*
#* Confirm the negation logic runs automatically every 3 hours.
#* Validate that results are pushed to Amazon as expected after each run.
#* Ensure no duplicate executions or missed cycles occur within the 24-hour window.



cc: [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] ",,abdul,Automation for Jira,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,,,,;19/Oct/25 12:24 PM;e5e7d5e7-6911-4643-b0c4-f0ca46f5b43c;3600,,,,,,,,,,3600,0,3600,100%,3600,0,3600,,,,,,,,,,,,,,,PROD-420,PROD-610,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5165107c,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i005qv:,,,,JS6: 13 Oct - 24 Oct,,,,,,,,,,,,,,2025-10-19 19:24:07.029,10033_*:*_2_*:*_50663660_*|*_10198_*:*_2_*:*_202265340_*|*_10594_*:*_1_*:*_344175460_*|*_10563_*:*_1_*:*_11220987_*|*_10004_*:*_1_*:*_253935481_*|*_10003_*:*_1_*:*_616635256_*|*_10564_*:*_1_*:*_0,19/Oct/25 12:24 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,,14456,PROD-41,Automatic Targeting - Negation Routing Engine,Done,26/Oct/25 10:32 AM
Change Automatic Targeting Bid Calculation Frequency from 3 Hours (existing) to 24 Hours,PROD-38,14496,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,09/Oct/25 7:24 AM,12/Nov/25 8:05 AM,,20/Oct/25 10:06 AM,, [Advertising] [v2] -[February 1st Release],,0,Advertising,,"h2. *Objective:*

This ticket requires updating the automatic targeting bid calculation frequency from every 3 hours to every 24 hours, ensuring the process runs once daily without any conditional triggers.

h2. *Requirements:*

# *Frequency Update*
#* Change the current automatic targeting bid calculation schedule from *every 3 hours* to *every 24 hours*.
#* The new 24-hour calculation should execute *once per day* at a fixed, configurable time (e.g., 12 PM PST).
# *No Conditional Triggers*
#* This 24-hour cycle runs *unconditionally*, without relying on any preconditions or trigger logic.
# *Existing Logic*
#* Maintain the *same bid calculation logic and push behavior*; only the execution frequency changes.
# *Logging & Monitoring*
#* Update logs to reflect the new 24-hour execution cycle.
#* Verify that the system records successful start, completion, and push status for each daily run.
# *Testing & Validation*
#* Confirm that no intermediate (3-hour) cycles run after the change.
#* Validate that the 24-hour cycle executes successfully and pushes bids to Amazon as expected.



h3. *Additional Note on Trigger Scope*

* This ticket *does not override or reverse* the triggers defined in [https://keplercommerce.atlassian.net/browse/AD-244|https://keplercommerce.atlassian.net/browse/AD-244|smart-link], the user-driven or ad-hoc triggers under ticket # 244 will continue to execute *instantly* when a user makes manual changes.
* Both sets of triggers (the *scheduled based trigger* from this ticket and the user-action triggers from the referenced ticket # 244) should *coexist independently* without interfering with each other.



{color:#ff991f}_This ticket is based on Krellâ€™s feedback received on 06th Octâ€™25._{color}

cc: [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] ",,abdul,Automation for Jira,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,,,,,,,,,,,,,,14400,14400,,0%,14400,14400,,,,,,,,,,,,,,,,PROD-416,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@14568185,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i006c0:,,,,,,,,,,,,,,,,,,2025-10-20 17:06:32.295,10033_*:*_2_*:*_49950609_*|*_10198_*:*_2_*:*_204171667_*|*_10563_*:*_1_*:*_9260280_*|*_10003_*:*_1_*:*_0,20/Oct/25 10:06 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,,16995,PROD-1127,Automatic Targeting - Bid Data Integration & Sync Layer,Done,20/Oct/25 10:06 AM
Disable & Reverse Existing Auto-Negation Rule for Exact Match Keywords across Automatic Targeting Campaigns.,PROD-42,14489,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,09/Oct/25 2:19 AM,27/Oct/25 12:37 AM,,27/Oct/25 12:37 AM,, [Advertising] [v2] -[February 1st Release],,0,Advertising,,"h2. *Objective:*

This ticket requires rolling back the existing Exact Match keyword negation logic and restoring all affected keywords across Automatic Targeting campaigns.

h2. 

h2. *Requirements*

# *Remove Auto-Negation Rule*
#* Disable the existing logic that automatically adds newly created *Exact Match keywords* as *negative exact matches* in Automatic Targeting campaigns for the same ASIN.
#* Ensure this behavior no longer triggers for any new Exact Match campaigns or keyword additions.
#* Refer to the snapshot below for context on the previous ticket that introduced the existing negation logic. 

!image-20251009-092636.png|width=92.05298013245033%,alt=""image-20251009-092636.png""!

[https://keplercommerce.atlassian.net/browse/AD-61|https://keplercommerce.atlassian.net/browse/AD-61|smart-link] 

# *Undo Existing Negations*
#* Identify all keywords that were previously negated under the now-disabled rule.
#* Remove those negative keywords from all affected Automatic Targeting campaigns.
#* Ensure no valid campaign structure or targeting logic is broken during cleanup.
# *Validation & Consistency Check*
#* After removing the negations, confirm that:
#** No unintended negations remain.
#** Exact Match campaigns continue to operate normally.
# *Logging & Audit*
#* Maintain a log of:
#** ASINs impacted
#** Keywords restored
#** Campaign types updated
#** Timestamp and user/system ID of the change.
# *Testing*
#* Test across a sample of ASINs to confirm:
#** New Exact Match keywords no longer trigger automatic negation.
#** Keywords previously negated are now reinstated correctly across campaigns.



{color:#ff991f}_This ticket is based on Krellâ€™s feedback received on 06th Octâ€™25._{color}

cc: [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] ",,abdul,Automation for Jira,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,,,,,,,,,,,,,,7200,7200,,0%,7200,7200,,,,,,,,,,,,,,,,PROD-426,PROD-609,,09/Oct/25 2:27 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251009-092636.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13961,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5626d25a,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i005pj:,,,,JS6: 13 Oct - 24 Oct,,,,,,,,,,,,,,2025-10-16 08:57:44.602,3_*:*_1_*:*_9342873_*|*_10033_*:*_2_*:*_67806176_*|*_10198_*:*_2_*:*_204615804_*|*_10594_*:*_1_*:*_344183848_*|*_10563_*:*_1_*:*_11229022_*|*_10004_*:*_2_*:*_798285331_*|*_10003_*:*_2_*:*_48034286_*|*_10564_*:*_2_*:*_14891459,16/Oct/25 1:57 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,,14456,PROD-41,Automatic Targeting - Negation Routing Engine,Done,26/Oct/25 10:32 AM
Disable & Reverse Existing Auto-Negation Rule for Exact Match Keywords across Broad & Phrase Campaigns.,PROD-17,14458,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,09/Oct/25 1:04 AM,19/Nov/25 8:29 AM,,27/Oct/25 12:46 AM,, [Advertising] [v2] -[February 1st Release],27/Oct/25 12:00 AM,0,Advertising,,"h2. *Objective:*

This ticket requires rolling back the existing Exact Match keyword negation logic and restoring all affected keywords across Broad & Phrase campaigns.

h2. 

h2. *Requirements*

# *Remove Auto-Negation Rule*
#* Disable the existing logic that automatically adds newly created *Exact Match keywords* as *negative exact matches* in Broad & Phrase campaigns for the same ASIN.
#* Ensure this behavior no longer triggers for any new Exact Match campaigns or keyword additions.
#* Refer to the snapshot below for context on the previous ticket that introduced the existing negation logic. 

!image-20251009-091228.png|width=92.05298013245033%,alt=""image-20251009-091228.png""!
[https://keplercommerce.atlassian.net/browse/AD-61|https://keplercommerce.atlassian.net/browse/AD-61|smart-link] 

# *Undo Existing Negations*
#* Identify all keywords that were previously negated under the now-disabled rule.
#* Remove those negative keywords from all affected Broad and Phrase campaigns.
#* Ensure no valid campaign structure or targeting logic is broken during cleanup.
# *Validation & Consistency Check*
#* After removing the negations, confirm that:
#** No unintended negations remain.
#** Exact Match campaigns continue to operate normally.
# *Logging & Audit*
#* Maintain a log of:
#** ASINs impacted
#** Keywords restored
#** Campaign types updated
#** Timestamp and user/system ID of the change.
# *Testing*
#* Test across a sample of ASINs to confirm:
#** New Exact Match keywords no longer trigger automatic negation.
#** Keywords previously negated are now reinstated correctly across campaigns.



{color:#ff991f}_This ticket is based on Krellâ€™s feedback received on 06th Octâ€™25._{color}

cc: [~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] [~accountid:712020:a81c7de1-fdd7-490f-80ba-8f5b26f4b69e] ",,abdul,Automation for Jira,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,,,,,,,,,,,,,,18000,18000,,0%,18000,18000,,,,,,,,,,,,,,,,PROD-425,PROD-613,,09/Oct/25 2:17 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251009-091228.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13960,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@779c882b,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i005pb:,,,,JS6: 13 Oct - 24 Oct,,,13/Oct/25 12:00 AM,,,,,,,,,,,2025-10-16 08:57:02.715,3_*:*_1_*:*_65278287_*|*_10033_*:*_1_*:*_46563661_*|*_10198_*:*_1_*:*_228955156_*|*_10594_*:*_1_*:*_344192059_*|*_10563_*:*_1_*:*_12613424_*|*_10004_*:*_1_*:*_550745526_*|*_10003_*:*_1_*:*_68605414_*|*_10564_*:*_2_*:*_185936459,10/Oct/25 7:48 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] I added this under a separate â€œNegativeâ€ ticket which was associated with Manual KW Targeting because Broad and Phrase falls under Manual KW Targeting so I suggest keeping it separate. ,16/Oct/25 1:57 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,14456,PROD-41,Automatic Targeting - Negation Routing Engine,Done,26/Oct/25 10:32 AM
Automatic Targeting - Negation Routing Engine,PROD-41,14456,Story,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,09/Oct/25 12:44 AM,19/Nov/25 7:58 AM,,27/Oct/25 12:36 AM,, [Advertising] [v2] -[February 1st Release],27/Oct/25 12:00 AM,0,Advertising,Negation,,,abdul,Automation for Jira,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,,,,Progress logged via Aha!;18/Nov/25 1:30 PM;e5e7d5e7-6911-4643-b0c4-f0ca46f5b43c;3600,,,,,,,,,,10800,0,3600,33%,97200,82800,7200,,,,,,,,,,,,,,,PROD-430,PROD-432,PROD-608,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@7e70b587,,,,,,,,,,,,,,,,,,,,,,,,,,,0|hzzzw5:0i,,,,JS6: 13 Oct - 24 Oct,,,13/Oct/25 12:00 AM,,,,,,,,,,,2025-10-14 14:32:29.33,10033_*:*_1_*:*_45075376_*|*_10198_*:*_2_*:*_233033432_*|*_10594_*:*_1_*:*_344183560_*|*_10563_*:*_1_*:*_11226343_*|*_10004_*:*_2_*:*_703412770_*|*_10003_*:*_2_*:*_167141975_*|*_10564_*:*_1_*:*_0,14/Oct/25 7:32 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,,17344,PROD-1302,ADS: Automated Negation,Done,26/Oct/25 10:32 AM
Implement modifications in the KW Research UI to reflect the KW Research Output,PROD-132,14108,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,29/Sep/25 1:23 PM,13/Nov/25 8:34 AM,,13/Nov/25 8:34 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. *Objective*

This ticket defines the modifications required in the [KW Research UI|https://portal.keplercommerce.com/amazon-ads/keywords/list] to display the final Keyword Research output, including updating keyword tags and mapping ranked attributes from Prompt #3.

h2. *Requirements*

# *Tag Conversion (from Prompt #3 â€“ Table #4)*
#* After the user reviews and submits *Table #4* from *UI #3*, generate a *4-digit tag* for each keyword:
#** *1st & 2nd digits:* from column 2 (_Branding Scope_).
#** *3rd digit:* from column 3 (_Relationship_).
#** *4th digit:* from column 4 (_Rank_).
#* Wrap the four characters as a single tag (e.g., â€œOBH1â€) and update these tags on the main *KW Research UI* under the â€œ*Relevancy Tag*â€ column against their respective keywords. 
!Screenshot 2025-10-04 193654-20251004-143654.png|width=1084,alt=""Screenshot 2025-10-04 193654-20251004-143654.png""!

!image-20251022-143544.png|width=1084!

# *2. Rank-Based Attribute Mapping (from Prompt #3 â€“ Tables #1â€“3)*
#* Wherever *rank values* exist in Tables #1â€“3, display the corresponding *Product Type* and *Attribute / Use Case / Variant* values on the *Campaign Config* under a new column.
#* Ensure each attribute pair is shown against the *exact campaign tag* generated for that keyword.

!Screenshot 2025-10-04 195355-20251004-145355.png|width=1132,alt=""Screenshot 2025-10-04 195355-20251004-145355.png""!



# *3. UI Integration*
#* Reflect all updates dynamically on the KW Research UI after user submission from UI #3.
#* Ensure existing filtering, sorting, and campaign tag structures remain intact.
# *4. Validation & Sync*
#* Validate that tags and mappings are correctly aligned with the latest submitted Prompt #3 data.
#* Refresh UI elements automatically upon backend confirmation of updated outputs.
# *5. Error Handling & Logging*
#* Log each update (timestamp, ASIN, keyword, tag value).
#* Handle missing or invalid values gracefully with placeholder text or alerts.",,abdul,Andrew Pomaz,Pavlo Lisovets,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,;07/Nov/25 9:53 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;28800,,,,,,,,,,28800,0,28800,100%,28800,0,28800,,,,,,,,,,,,,,,,,,22/Oct/25 7:36 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;Screenshot 2025-10-04 193654-20251004-143654.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14557,22/Oct/25 7:36 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;Screenshot 2025-10-04 195355-20251004-145355.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14556,22/Oct/25 7:36 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251022-143544.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14558,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@419cb91b,,,,,,,,,,,,,,,,,,,,,,,,,,,0|hzzzw5:0zz8zi,,,,,,,,,,,,,,,,,,2025-10-22 15:35:11.729,3_*:*_1_*:*_333184393_*|*_10033_*:*_1_*:*_915484234_*|*_10198_*:*_1_*:*_247553062_*|*_10561_*:*_1_*:*_97445421_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_878069254_*|*_10003_*:*_1_*:*_876948350,"22/Oct/25 8:35 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] regarding this:

* _Wrap the four characters as a single tag (e.g., â€œOBH1â€) and update these tags on the main_ *_KW Research UI_* _under the â€œ*Relevancy Tag*â€ column against their respective keywords._ 

When we receive a tag that doesnâ€™t exist in the database â€” for example, _OBH9_ â€” what should we do in that case?",22/Oct/25 8:38 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] Still update. I am gonna submit a ticket for making provision for these tags later today separately so it wonâ€™t be a problem after that.,"03/Nov/25 3:57 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] You mentioned [https://keplercommerce.atlassian.net/browse/PROD-364|https://keplercommerce.atlassian.net/browse/PROD-364|smart-link] that we should add tags like NBR, OBR, and CBR, but according to this task, there could be many more tag variations.
Should we add all other possible tag variations (such as NBC, OBS, etc.) to the tag list as well?","03/Nov/25 7:04 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] 

NBC, OBC, CBC, NBS, OBS, CBS, NBN, OBN, CBN - These already exist  in the system or tag list. You can find these under the â€œRelevance Tagâ€ column on the KW Research UI. Please check and let me know if these donâ€™t exist.","03/Nov/25 7:08 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] Yes, but only for 1: NBS1, NBC1 etc.
it's not a problem, I just need to know what to add","03/Nov/25 8:51 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] All tags with third digit â€œSâ€, â€œCâ€ & â€œNâ€ are supposed to have just a digit â€œ1â€ only. ","04/Nov/25 12:18 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] Please explain in more detail how this should work:


#  *_Rank-Based Attribute Mapping (from Prompt #3 â€“ Tables #1â€“3)_*

*_Wherever rank values exist in Tables #1â€“3, display the corresponding Product Type and Attribute / Use Case / Variant values on the Campaign Config under a new column._*

*_Ensure each attribute pair is shown against the exact campaign tag generated for that keyword._*

In the SS, I can see that the *Branding Scope* is *Non-Branded (NB)*, and I just want to confirm my understanding:
if, for example, the *group rank = 2*, then we should add the *Product Type* + *Attribute / Use Case / Variant* values for all campaign configurations where the *relevancy_tag* starts with *NB* and ends with *2* (for example: NBH2, NBB2, NBU2, etc.).


","04/Nov/25 10:53 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] 

Table # 1-3 are only created for KWs that have the 3rd digit in the tag = â€œRâ€

If 3rd digit in the tag = â€œCâ€, â€œSâ€ or â€œNâ€ then Rank = 1 (hardcoded) and so we donâ€™t need table # 1-3 to figure out the rank.



So, to answer your question:

. if, for example, the *group rank = 2*, then we should add the *Product Type* + *Attribute / Use Case / Variant* values for all campaign configurations where the *relevancy_tag* starts with *NB,*       {color:#ff991f}+*3rd digit is â€œRâ€*+{color}               and ends with *2* (for example: NBH2, NBB2, NBU2, etc.).

We need to display *Product Type* + *Attribute / Use Case / Variant* on the KW Research UI only for tags that have 3rd digit = R.
",05/Nov/25 4:45 AM;712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] *NB +*     {color:#ff991f}+*3rd digit is â€œRâ€*+{color}   + 2 = NBH2 ?))) can you clarify it ?,"05/Nov/25 4:57 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] Sorry, there was a mistake in my comment.

Check these examples.

*NB +*     {color:#ff991f}+*3rd digit is â€œRâ€*+{color}   + 2 = NBR2 => display *Product Type* + *Attribute / Use Case / Variant* on the KW Research UI against this tag by referencing it from the Non-Branded table with row that has a Rank # *2*.

*OB +*     {color:#ff991f}+*3rd digit is â€œRâ€*+{color}   + 6 = OBR6 => display *Product Type* + *Attribute / Use Case / Variant* on the KW Research UI against this tag by referencing it from the Own-Branded table with row that has a Rank # *6*.

*CB +*     {color:#ff991f}+*3rd digit is â€œRâ€*+{color}   + 1 = CBR1 => display *Product Type* + *Attribute / Use Case / Variant* on the KW Research UI against this tag by referencing it from the Competitor-Branded table with row that has a Rank # *1.*",16909,PROD-1102,Relevance Tagging Framework,Done,07/Nov/25 6:35 AM
Assemble & Deploy Full Keyword Research Workflow (per Schema),PROD-131,14106,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,29/Sep/25 1:22 PM,15/Jan/26 4:19 AM,,13/Nov/25 8:34 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. *Objective:*

This ticket defines how the complete Keyword Research workflow is assembled and deployed end-to-end as per the [schema|https://miro.com/app/board/uXjVJNp9oB8=/?share_link_id=433254140952], connecting and orchestrating all components (provided under the other sub-tickets from 583 to 598) into a single end-to-end process.



h2. *Requirements:*

# *Align with Schema*
#* Follow the attached [schema|https://miro.com/app/board/uXjVJNp9oB8=/?share_link_id=433254140952] as the source of truth.
# *Integrate Components*
#* Connect all previously built modules, Ticket # 583 to 598 and database integrations, into one unified workflow.
# *Enable Sequential Flow*
#* Ensure smooth transitions between prompts (Prompt #1 & Prompt #2 â†’ Prompt #3) as defined in the schema, with validation checkpoints and feedback loops functioning at each stage.
# *Deploy & Configure*
#* Deploy the complete workflow in the backend with all necessary API connections, environment variables, and permissions.
# *Test End-to-End*
#* Verify that the workflow runs automatically from input to output *while pausing at defined junctions for user review, edits, and submission before proceeding to the next stage and final output*.
# *Error Handling & Logging*
#* Maintain centralized logging and consistent error handling across all stages.",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,57600,57600,,0%,57600,57600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@b586180,,,,,,,,,,,,,,,,,,,,,,,,,,,0|hzzzw5:0zz8z,,,,,,,,,,,,,,,,,,,3_*:*_1_*:*_884147517_*|*_10033_*:*_1_*:*_915550338_*|*_10198_*:*_1_*:*_247548898_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_114489449_*|*_10003_*:*_1_*:*_856904600,,,,,,,,,,,16915,PROD-1105,End-to-End Automated Keyword Research Pipeline,Done,03/Nov/25 10:53 AM
Design & Implement Prompt # 3 Output UI,PROD-130,14104,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,29/Sep/25 1:19 PM,13/Nov/25 8:33 AM,,13/Nov/25 8:33 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. *Objective:*

This ticket defines the UI mockup and functionalities for a new sub-tab under the KW Research page to display and manage Prompt #3 outputs.

[Mockup|https://preview--auto-kw-research.lovable.app/]

h2. Requirements

# *Placement & Access*

* Create a *separate sub-tab* under *Amazon Ads >* [+*KW Research*+|https://portal.keplercommerce.com/amazon-ads/keywords/list] named â€œ*KW Grouping & Ranking*â€.

# *ASIN Selection*

* Provide a dropdown to select an ASIN within the account.

!image-20251103-112009.png|width=1096,alt=""image-20251103-112009.png""!

* Only show ASINs that have completed *Prompt #3 processing*.
* On selection, *load Prompt #3 output* for that ASIN.

!Screenshot 2025-10-02 182000-20251002-132000.png|width=706,alt=""Screenshot 2025-10-02 182000-20251002-132000.png""!

# *Tables to Render (Prompt #3 Output)*

* Prompt #3 returns *4 tables*: *three similar format* + *one distinct*.
* Render the first three, *stacked vertically* in this order:
*# *Non-Branded*
*# *Own-Branded*
*# *Competitor-Branded*

!Screenshot 2025-10-02 182220-20251002-132220.png|width=808,alt=""Screenshot 2025-10-02 182220-20251002-132220.png""!




!Screenshot 2025-10-02 182332-20251002-132333.png|width=817,alt=""Screenshot 2025-10-02 182332-20251002-132333.png""!




!Screenshot 2025-10-02 182433-20251002-132433.png|width=610,alt=""Screenshot 2025-10-02 182433-20251002-132433.png""!

* *Schema for each of the first three (4 columns):*
** *KW*
** *Product Type*
** *Variant / Use Case / Audience*
** *Group # / Rank #*

!Screenshot 2025-10-02 184320-20251002-134320.png|width=1096,alt=""Screenshot 2025-10-02 184320-20251002-134320.png""!



* After the third table and *before* the fourth, insert a *Summary table* showing counts: _Branding Scope Ã— Group # (total keywords)_ as in the mockup.

!Screenshot 2025-10-02 184443-20251002-134443.png|width=1096,alt=""Screenshot 2025-10-02 184443-20251002-134443.png""!

* *Fourth (distinct) table*: â€œ*Keywords: Branding & Relationship*â€ with columns:
** *KW*
** *Branding Scope*
** *Relationship*
** *Group # / Rank #*

!Screenshot 2025-10-02 184522-20251002-134522.png|width=1064,alt=""Screenshot 2025-10-02 184522-20251002-134522.png""!

# *Editing & Row Controls*

* *Edit button* per row (tables 1â€“3 only).
** When editing, *only â€œGroup # / Rank #â€* becomes an *editable number field* (tables 1â€“3).
   
!image-20251103-111358.png|width=1048,alt=""image-20251103-111358.png""!
* *Delete row* button on tables 1â€“3.
* *Add row* button on tables 1â€“3 (â€œAdd a row aboveâ€ / â€œAdd a row belowâ€).
* *Drag & drop re-order*:
** Enabled *only while the row is in edit mode*.
** Allow moving a row between any two rows.
* *Save / Cancel* buttons per row.

!image-20251103-111453.png|width=1096,alt=""image-20251103-111453.png""!

* *Submit* button (page-level) to finalize all edits.

!image-20251103-111526.png|width=1096,alt=""image-20251103-111526.png""!

# *Filtering & Bulk Actions*

* *Filtering on column headers* for the *fourth table*.

!image-20251103-111628.png|width=1096,alt=""image-20251103-111628.png""!

* *Bulk Export* (CSV) and *Bulk Import* (CSV) for current ASIN (though missed from the mockup).
** CSV columns should mirror the table schemas.

# *Prompt Feedback (Iterative)*

* Provide a *text input* with *Enter/Send* to submit feedback as a prompt.
* On send, call OpenAI and *refresh all tables (1-5)* with revised outputs, *continuing the same conversation* thread.

!Screenshot 2025-10-02 185807-20251002-135807.png|width=1096,alt=""Screenshot 2025-10-02 185807-20251002-135807.png""!

# *Validation*

* *Before display*: ensure Prompt #3 output *passes schema validation*.

!image-20251103-111819.png|width=1096,alt=""image-20251103-111819.png""!

* *Before submission*:
** *Ranks within each of the first three tables must be in sequence* (topâ†’bottom).
** No required cell left blank.
* On any revision from OpenAI, *update all tables* accordingly.

# *Submission Flow*

* On *Submit*, show a *confirmation dialog*.
* If confirmed:
** *Persist all changes* to the backend DB.
** *Advance the workflow* according to the schema (toward completion of the process).
* All pending edits are applied *only* after successful confirmation.",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,57600,57600,,0%,57600,57600,,,,,,,,,,,,,,,,,,,03/Nov/25 3:19 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;Screenshot 2025-10-02 182000-20251002-132000.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14986,03/Nov/25 3:19 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;Screenshot 2025-10-02 182220-20251002-132220.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14988,03/Nov/25 3:19 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;Screenshot 2025-10-02 182332-20251002-132333.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14992,03/Nov/25 3:19 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;Screenshot 2025-10-02 182433-20251002-132433.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14989,03/Nov/25 3:19 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;Screenshot 2025-10-02 184320-20251002-134320.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14993,03/Nov/25 3:19 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;Screenshot 2025-10-02 184443-20251002-134443.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14990,03/Nov/25 3:19 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;Screenshot 2025-10-02 184522-20251002-134522.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14994,03/Nov/25 3:19 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;Screenshot 2025-10-02 185807-20251002-135807.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14998,03/Nov/25 3:19 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251103-111358.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14991,03/Nov/25 3:19 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251103-111453.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14987,03/Nov/25 3:19 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251103-111526.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14985,03/Nov/25 3:19 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251103-111628.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14997,03/Nov/25 3:19 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251103-111819.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14995,03/Nov/25 3:19 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251103-112009.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14996,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@2eadf910,,,,,,,,,,,,,,,,,,,,,,,,,,,0|hzzzw5:0zz8v,,,,,,,,,,,,,,,,,,,3_*:*_1_*:*_95161047_*|*_10033_*:*_1_*:*_915781458_*|*_10198_*:*_1_*:*_247536860_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_79117050_*|*_10003_*:*_1_*:*_1678180024,,,,,,,,,,,16907,PROD-1101,Attributeâ€“Intent Mapping Engine,Done,03/Nov/25 10:02 AM
Design & Implement Prompt # 2 Output UI,PROD-129,14102,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,29/Sep/25 1:19 PM,15/Jan/26 4:15 AM,,02/Nov/25 11:50 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. *Objective:*

This ticket defines the UI mockup and functionalities for a new sub-tab under the KW Research page to display and manage Prompt #2 outputs.

[Mockup|https://preview--auto-kw-research.lovable.app/]



h2. Requirements

# *Tab & Placement*
#* Add a new tab under *Amazon Ads >* [*KW Research*|https://portal.keplercommerce.com/amazon-ads/keywords/list] named *â€œListing Attributes Rankingâ€*. 

!image-20251001-205903.png|width=95.89%,alt=""image-20251001-205903.png""!

# *ASIN Selector*
#* Provide a dropdown to select an ASIN within the account. 
!image-20251001-210035.png|width=87.55%,alt=""image-20251001-210035.png""!

#* Only show ASINs that have completed *Prompt #2 processing*.
#* On selection, load the corresponding Prompt #2 output into the table.  

!image-20251001-210116.png|width=95.88%,alt=""image-20251001-210116.png""!

# *Table Structure*
# Display a *4-column table* populated from Prompt #2 output. 

!image-20251002-112514.png|width=97.9050727739726%,alt=""image-20251002-112514.png""!

#* Each row represents an attribute/value set.
#* Columns 1â€“4 of a row become editable text fields when â€œEditâ€ is clicked on a row.
# *Editing & Row Management*
#* *Edit Button per row*: unlocks text fields in columns 1â€“4.
#* *Drag & Drop*: allow re-ordering rows, but only when the row is in edit mode.
#* *Add Row*: provide two buttons for adding a new row. 

!image-20251001-210503.png|width=1028,height=784,alt=""image-20251001-210503.png""!

# *Table Features*
#* Column header filtering (text filters).
#* Bulk export (CSV).
#* Bulk import (CSV with validation). 

!image-20251001-210543.png|width=87.55%,alt=""image-20251001-210543.png""!

# *Feedback Prompt Box*
#* Text box + Enter/Send button for user feedback as a prompt.
#* On trigger, send prompt to OpenAI and refresh table with revised outputs.
#* Maintain conversation continuity for iterative prompts. 

!image-20251001-210635.png|width=95.88%,alt=""image-20251001-210635.png""!

# *Validation Before Display*
#* Before displaying, ensure the Prompt #2 output has passed validation as per the schema.  

!image-20251001-210746.png|width=1028,height=762,alt=""image-20251001-210746.png""!

#* In case of validation failure, system should reprompt until the valid output is received which can then be displayed. 
# *Submission Workflow*
#* On *Submit*, prompt user for confirmation.
#* Submit only when confirmed.
#* All changes (edits, new rows, re-ordering) saved to backend DB.
#* When both Prompt #1 and Prompt #2 sub-tabs have been submitted, proceed automatically to *Prompt #3* in schema. 

!image-20251001-210840.png|width=95.88%,alt=""image-20251001-210840.png""!

# *Submission Validations*
#* No table cell left blank.
#* For each unique attribute:
#** *Rank* must be present under all its attribute text rows.
#** *Rank values must be sequential* (top to bottom order).
#* For each variant:
#** *Sub-type must be present*.",,abdul,Andrew Pomaz,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,,,,,,,,,,,,,57600,57600,,0%,57600,57600,,,,,,,,,,,,,,,,,,,02/Oct/25 3:44 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251001-205903.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13737,02/Oct/25 3:44 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251001-210035.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13731,02/Oct/25 3:44 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251001-210116.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13734,02/Oct/25 3:44 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251001-210503.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13733,02/Oct/25 3:44 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251001-210543.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13736,02/Oct/25 3:44 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251001-210635.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13730,02/Oct/25 3:44 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251001-210746.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13735,02/Oct/25 3:44 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251001-210840.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13729,02/Oct/25 4:23 AM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251002-112514.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13738,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@7aebd30c,,,,,,,,,,,,,,,,,,,,,,,,,,,0|hzzzw5:0zz8r,,,,,,,,,,,,,,,,,,2025-10-08 15:25:28.82,10033_*:*_1_*:*_915792818_*|*_10198_*:*_1_*:*_247532822_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_79080783_*|*_10003_*:*_1_*:*_1598698993,"08/Oct/25 8:25 AM;712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] 

{quote}_â€œDrag & Drop: allow re-ordering rows, but only when the row is in edit mode.â€_{quote}

Currently, itâ€™s not clear how the ordering should work. Could you please clarify the following:

# *Order logic:*
#* What defines the order of the rows? (e.g., position index, priority, date, etc.)
#* Should the new order be saved to the backend or only affect the frontend view?
# *Result of reordering:*
#* What should happen after the user changes the order â€” do we need to trigger a save/update API call?
#* Should the position of other rows automatically update?

{quote}_â€œ_*Add Row*: provide two buttons for adding a new row._â€_{quote}

# What should I do here how it will work?","10/Oct/25 4:21 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] 

1.

* Order of the rows is defined below:

Product Type, Rank: 1

.

.

.

.

Product Type, Rank: n     where, n= last rank of the product type

Variant, Rank: 1

.

.

.

.

Variant, Rank: n     where, n= last rank of the variant

Use Case, Rank: 1

.

.

.

.Use Case, Rank: n     where, n= last rank of the Use Case

Audience, Rank: 1

.

.

.

Audience, Rank: n     where, n= last rank of the Audience



* New order should be saved to the backend too. It should get saved only after the page is submitted. Also, the log should be maintained in the backend.

#  -

* Once the user updates the table and submit the page, 1) it should be saved to the backend along with the logs of the prior table. 2) Upon submit, the updated table will be processed towards the next step which is providing the updated table as an input to the Prompt # 3. Same process should follow when a user has typed in a prompt to suggest revision and has regenerated the table, both the updated table returned from Open AI API and the old table be stored in the backend along with the logs and upon submission, only the updated table received after feedback prompt shall be processed towards the next step which is providing the updated table as an input to the Prompt # 3.
* Yes, position shall automatically update. If a user has added a new row b/w Rank # 1 and Rank # 2 of the product type then the new row will be assigned rank # 2 and the existing Rank # 2 row to be made row # 3 and so on the other row under product type will also be changed. Similarly, if a row is just dragged and dropped b/w 2 other existing rows then there ranks shall update too.
* Regarding â€œAdd a rowâ€ button, as a user if I want to have an extra row or attribute b/w 2 existing rows, this button should create it for me where I can then add the extra attributes, the rank shall auto-update.",,,,,,,,,16907,PROD-1101,Attributeâ€“Intent Mapping Engine,Done,01/Nov/25 10:30 AM
Design & Implement Prompt # 1 Output UI,PROD-128,14100,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,29/Sep/25 1:18 PM,11/Nov/25 11:46 AM,,02/Nov/25 11:50 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. {anchor:Objective%3A}*Objective:*

This ticket defines the UI mockup and functionalities for a new sub-tab under the KW Research page to display and manage Prompt #1 outputs.

[Mockup|https://preview--auto-kw-research.lovable.app/]

h2. {anchor:Requirements}Requirements

# *Tab & Placement*
#* Add a new tab under *Amazon Ads >* [*KW Research*|https://portal.keplercommerce.com/amazon-ads/keywords/list] named *â€œBranding Scope & KWâ€“Product Relationshipâ€*.

[https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13696]

# *ASIN Selector*
#* Provide a dropdown to select an *ASIN within the account*.

[https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13703]

# #* Only show ASINs that have already been *processed through Prompt #1*.
#* Upon selection, populate the UI with that ASINâ€™s Prompt #1 output.

[https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13700]

# *Table Format (Modified Prompt #1 Output)*
#* Input: Prompt #1 produces a table with *2 columns*: {{KW}} and {{3-digit Tag}}.

[https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13699]

# #* In the UI:
#** Column 1: *KW* (unchanged).
#** Column 2: *First 2 digits of the tag with full form*.
#** Column 3: *Last digit of the tag with full form*.
#* Add *Logs column*: shows all edits in format â†’ {{YYYY-MM-DD HH:mm, Changed by <user>, <Branding Scope column's value> â†’ <Relationship column's value>}}. If no changes, leave blank. If multiple changes, show all logs, one per each line.

[https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13702]

# *Editing Functionality*
#* Each row has an *Edit* button.
#* Clicking *Edit* turns Columns 2 & 3 into dropdowns with limited options.
#* On *Save*, update the row and append a log entry.
#* On *Submit*, persist edits to the backend DB.

[https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13704]

# *Filtering & Bulk Actions*
#* Allow filtering on all column headers.
#* Provide options for *Bulk Import* (CSV upload with validation) and *Bulk Export* (CSV download of current table).

[https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13697]

# *Feedback Prompt Box*
#* Provide a *text box with Enter or Send button* for user feedback as prompts.
#* When triggered, the feedback prompt is sent to OpenAI, and the *table refreshes* with revised outputs.
#* Maintain conversational continuity (subsequent feedback continues the same session/chat).

[https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13698]

# *Validation & Schema Checks*
#* Before displaying, ensure the Prompt #1 output has *passed validation as per the schema.*

[https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13701]

# #* In case of validation failure, system should reprompt until the valid output is received which can then be displayed
# *Workflow & Progression*
#* Upon submission by the user:
#** Store the updated table in the backend DB.
#** Once the user has submitted *both tables (Tab #1 & Tab #2)* from Prompt #1 and #2, automatically trigger the *next step in the schema (Prompt #3)*.",,abdul,Andrew Pomaz,Automation for Jira,Kateryna Davidenko,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:aff451dd-dd5b-4c4b-8d72-d72ba00e7042,,;19/Oct/25 12:18 PM;e5e7d5e7-6911-4643-b0c4-f0ca46f5b43c;115200,,,,,,,,,,115200,0,115200,100%,115200,0,115200,,,,,,,,,,,,,,,PROD-419,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@54913da4,,,,,,,,,,,,,,,,,,,,,,,,,,,0|hzzzw5:0zz8i,,,,,,,,,,,,,,,,,,2025-10-02 11:09:43.355,3_*:*_1_*:*_79086027_*|*_10033_*:*_1_*:*_251261831_*|*_10594_*:*_2_*:*_344181023_*|*_10034_*:*_1_*:*_912070059_*|*_10004_*:*_1_*:*_255203485_*|*_10003_*:*_1_*:*_481025339_*|*_10564_*:*_1_*:*_174344677,"02/Oct/25 4:09 AM;712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] 

* Add *Logs column*: We need to show all logs, what if we have 100+ lines of logs?
* Bulk Import/Export, please create a separate ticket with details: file format, validation
* *Feedback Prompt Box*: It will send a message to AI, what about other content that should be sent with this request?",08/Oct/25 4:37 AM;712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08; [~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07]What about import requirements?,"10/Oct/25 3:58 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] 


* You wonâ€™t have 100 lines of logs. Anyways, restrict to top 10 logs per row.
* Ok, will provide a separate ticket later, you can work on the UI without bulk import for now if possible. Bulk import should not bottleneck it.
* .[~accountid:712020:aff451dd-dd5b-4c4b-8d72-d72ba00e7042] Can you assist with this please?","10/Oct/25 5:50 AM;712020:aff451dd-dd5b-4c4b-8d72-d72ba00e7042;[~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] I havenâ€™t tested it yet
I think it should send the System Message, User Message (original message + users Feedback)
So AI need to revise all the keywords again based on the feedback",19/Oct/25 12:02 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,16905,PROD-1100,LLM-Driven Keyword Classification Engine,Done,26/Oct/25 10:32 AM
Implement Validation Logic for Prompt # 3 output,PROD-127,14098,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,29/Sep/25 1:15 PM,12/Nov/25 2:50 AM,,02/Nov/25 11:50 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. *Objective*

This ticket lays out the validation checklist for the system to verify Prompt #3 output before displaying it on the UI as per the schema.

Pertains to the part â€œValidate Outputâ€ in the schema.

[https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13800|https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13800]

h2. *Requirements*

# *Table Count*
#* The output must contain *exactly four tables*.
# *Column Validation*
#* All four tables must have *four columns each*.
#* *Table #1â€“3 Headers:* {{KW}}, {{Product Type}}, {{Variant / Use Case / Audience}}, {{Group # / Rank #}}.
#* *Table #4 Headers:* {{KW}}, {{Branding Scope}}, {{Relationship}}, {{Rank}}.
# *Row Count Validation*
#* *Tables #1â€“3:*
#** Total rows = (*count of Product Types Ã— count of Variants/Use Cases/Audiences*) + *count of Product Types*, excluding the header row.
#** The count of *Product Types* and *Variants/Use Cases/Audiences* must be derived from the Listing Attributes Ranking table (Prompt #2 output) that has been reviewed, optionally edited, and submitted by the user (Post submit point is shown in the schema snapshot below). This submitted version of the Listing Attributes Ranking table will be used as the reference for the counting.
   [https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13799|https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13799]
#* *Table #4:*
#** Total rows = *count of input KWs*, excluding the header row.
# *Data Mapping & Consistency (Tables #1â€“3)*
#* Each *Product Type* must appear against every *Variant / Use Case / Audience* plus one extra row per Product Type where â€œ*Variant/Use Case/Audience*â€ column is blank or has a hyphen â€œ-â€.
#* *Product Type* values must exactly match those from the *Attribute table* previously submitted by the user (Post submit point is shown in the schema snapshot above).
#* *Variant / Use Case / Audience* values must also exactly match those processed in the userâ€™s Attribute table.
#* There must be *no extra or missing Variants/Use Cases/Audiences* compared to the Attribute table.
# *KW and Rank Checks (Tables #1â€“3)*
#* Column 1 ({{KW}}) must be a *sequential numeric series* (1, 2, 3â€¦).
#* {{Group # / Rank #}} must contain *ascending numbers*, though gaps are acceptable where rank does not apply.
# *Table #4 Validation*
#* *KW Column:*
#** Each KW must exactly match the KWs supplied as input (same text, case, and punctuation).
#** No extra or missing KWs allowed.
#* *Branding Scope* and *Relationship Columns:*
#** Must exactly replicate the values submitted by the user in the earlier schema step Refer to the snapshot below).

[https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13801|https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13801]

# #* *Rank Column:*
#* 
#** Must contain values (no blanks allowed).
# *Error Handling & Feedback*
#* If validation fails, the system should prompt back with a feedback prompt that explains the failed scenario and asks for correction..
#* The output of the prompt shall only be displayed on the UI, which is the next step as defined in the schema, after a valid and corrected output is returned.

[Kateryna Davidenko|https://keplercommerce.atlassian.net/secure/ViewProfile.jspa?accountId=712020%3Aaff451dd-dd5b-4c4b-8d72-d72ba00e7042] to review the following and make revisions if needed before Andrew deploys its.

h3. *Action-Oriented Feedback Prompts for Prompt #3 Validation*

# *Missing or Incorrect Number of Tables*
   _â€œThe output format is incomplete. Please correct and resend four tables as required for Prompt #3.â€_
# *Incorrect Column Headers*
   _â€œOne or more tables have incorrect column headers. Please correct and resend using the exact headers as per schema â€”_
   _Tables #1â€“3: KW, Product Type, Variant/Use Case/Audience, Group #/Rank #;_
   _Table #4: KW, Branding Scope, Relationship, Rank.â€_
# *Invalid Row Count (Tables #1â€“3)*
   _â€œRow count mismatch detected. Please correct and resend ensuring each tableâ€™s rows = (count of Product Types Ã— count of Variants/Use Cases/Audiences) + count of Product Types.â€_
# *Invalid Reference for Counting*
   _â€œThe counts for Product Types and Variants/Use Cases/Audiences must match those in the Listing Attributes Ranking table submitted after Prompt #2. Please correct and resend using that version as reference.â€_
# *Product Type or Variant/Use Case/Audience Mismatch*
   _â€œSome Product Type or Variant/Use Case/Audience values donâ€™t match the user-submitted Listing Attributes Ranking table. Please correct and resend ensuring all values match exactly.â€_
# *Incorrect KW or Rank Format (Tables #1â€“3)*
   _â€œKW or Rank columns contain invalid values. Please correct and resend with KW as a numeric sequence (1, 2, 3, â€¦) and Rank values in ascending order.â€_
# *KW Mismatch (Table #4)*
   _â€œKeywords in Table #4 do not match the input list. Please correct and resend ensuring all input KWs appear exactly once, with no extras or changes.â€_
# *Branding Scope / Relationship Mismatch (Table #4)*
   _â€œBranding Scope or Relationship values differ from those submitted earlier. Please correct and resend using the exact values from the previous schema step.â€_
# *Blank Rank Values (Table #4)*
   _â€œSome Rank cells in Table #4 are blank. Please correct and resend ensuring every row has a Rank value.â€_

*The above â€œFeedback Promptsâ€ section pertains to the part â€œPrompt Revisionsâ€ from the schema.*

[https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13802|https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13802]",,abdul,Andrew Pomaz,Automation for Jira,Kateryna Davidenko,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:aff451dd-dd5b-4c4b-8d72-d72ba00e7042,,,,,,,,,,,,57600,57600,,0%,57600,57600,,,,,,,,,,,,,,,,PROD-418,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@65eff3b1,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|hzzzw5:0zz8,,,,,,,,,,,,,,,,,,2025-10-09 16:58:42.878,3_*:*_1_*:*_516386_*|*_10033_*:*_1_*:*_915983913_*|*_10198_*:*_1_*:*_247527011_*|*_10594_*:*_2_*:*_344212627_*|*_10563_*:*_1_*:*_113392793_*|*_10004_*:*_1_*:*_255174355_*|*_10003_*:*_1_*:*_349352993_*|*_10564_*:*_2_*:*_271192568,"09/Oct/25 9:58 AM;712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] here is response from OpenAI, so what you mean by 4 tables?

{noformat}{
  ""MappingTable"" : [ {
    ""InitialRow"" : 1,
    ""ProductType"" : ""Aroma Oil"",
    ""DimensionType"" : ""Variant"",
    ""DimensionValue"" : ""Sicilian Lemon"",
    ""InitialRank"" : 1,
    ""FinalMappingRow"" : 1
  }, ... ],
  ""KeywordMapping"" : [ {
    ""Keyword"" : ""lavender oil"",
    ""Tag3"" : ""NBR"",
    ""BrandScope"" : ""NB"",
    ""Relation"" : ""R"",
    ""FinalMappingRow"" : 1
  }, ...]
}{noformat}","10/Oct/25 3:44 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:aff451dd-dd5b-4c4b-8d72-d72ba00e7042] can you please explain this to Andrew?
How to shape the API response into the 4 tables as in my UI mockups or in my custom GPT outputs?

cc: [~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] ","10/Oct/25 3:45 AM;712020:aff451dd-dd5b-4c4b-8d72-d72ba00e7042;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] Sure, I have discussed it with Pavel already",19/Oct/25 12:02 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,16907,PROD-1101,Attributeâ€“Intent Mapping Engine,Done,26/Oct/25 10:32 AM
Implement Validation Logic for Prompt # 2 output,PROD-126,14096,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,29/Sep/25 1:15 PM,11/Nov/25 11:48 AM,,24/Oct/25 9:56 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. {anchor:Objective}*Objective*

This ticket lays out the validation checklist for the system to verify Prompt #2 output before displaying it on the UI as per the schema.

Pertains to the part â€œValidate Outputâ€ in the schema.

[https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13797]

h2. {anchor:Requirements}*Requirements*

# *Column Validation*
#* Output must contain *exactly 4 columns*.
#* Column headers must be: {{Attribute Text}}, {{Attribute}}, {{Variant Sub-type}}, {{Rank}}.
# *Attribute Validation*
#* Values under the *Attribute* column must be one of: {{Product Type}}, {{Variant}}, {{Use Case}}, {{Audience}}.
# *Rank Validation*
#* *Rank column must not be blank*.
#* Each *unique Attribute* must have a *separate rank sequence* for its {{Attribute Text}} values.
#* For each Attribute group:
#** Rank values must start from *1*.
#** Rank values must end at the *count of Attribute Texts* within that attribute.
#** Rank values must be *sequential (no gaps or duplicates)*.
# *Variant Sub-type Validation*
#* If {{Attribute = Variant}}, the *Variant Sub-type* field *cannot be blank*.
#* If the attribute is *not Variant*, the Variant Sub-type field *must be blank*.
# *Blank Field Validation*
#* Except for Variant Sub-type (when applicable), *no other field in any row can be blank*.
# *Error Handling & Feedback*
#* If validation fails, the system should prompt back with a feedback prompt that explains the failed scenario and asks for correction. (e.g., â€œ1 column missing from output â€” please return all columnâ€, â€œRank values are not sequential within the attribute groupsâ€).
#* The output of the prompt shall only be displayed on the UI, which is the next step as defined in the schema, after a valid and corrected output is returned.

[Kateryna Davidenko|https://keplercommerce.atlassian.net/secure/ViewProfile.jspa?accountId=712020%3Aaff451dd-dd5b-4c4b-8d72-d72ba00e7042] to review the following and make revisions if needed before Andrew deploys its.

h3. {anchor:ActionOrientedFeedbackPromptsforPrompt%232Output}*Action-Oriented Feedback Prompts for Prompt # 2 Output*

# *Column Validation Failed*
   _â€œThe output format is invalid. Please correct and resend a table with four columns labeled_ _*Attribute Text* __,_ _*Attribute*__ ,_ _*Variant Sub-type* __, and_ _*Rank*__.â€_
# *Invalid Attribute Values*
   _â€œSome Attribute values are incorrect. Please correct and resend using only these options:_ _*Product Type* __,_ _*Variant*__ ,_ _*Use Case* __, or_ _*Audience*__.â€_
# *Blank or Missing Rank*
   _â€œSome rows have a blank Rank value. Please correct and resend the table ensuring all Rank fields are filled.â€_
# *Incorrect Rank Sequence*
   _â€œRanks are out of order or have gaps. Please correct and resend ensuring each Attributeâ€™s ranks start from 1 and increase sequentially without gaps or duplicates.â€_
# *Missing Variant Sub-type*
   _â€œSome rows with Attribute = Variant have a blank Variant Sub-type. Please correct and resend ensuring Variant Sub-type is filled whenever Attribute = Variant.â€_
# *Blank Fields*
   _â€œOne or more required columns have blank cells. Please correct and resend ensuring all columns are filled (Variant Sub-type may be blank only when Attribute â‰  Variant).â€_

*The above â€œFeedback Promptsâ€ section pertains to the part â€œPrompt Revisionsâ€ from the schema.*

[https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13798]",,abdul,Automation for Jira,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,,,,,,,,,,,,,,21600,21600,,0%,21600,21600,,,,,,,,,,,,,,,,PROD-428,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@60204bf6,,,,,,,,,,,,,,,,,,,,,,,,,,,0|hzzzw5:0zz4,,,,,,,,,,,,,,,,,,2025-10-16 08:58:15.746,3_*:*_2_*:*_370177100_*|*_10033_*:*_2_*:*_916029859_*|*_10198_*:*_1_*:*_187987023_*|*_10594_*:*_1_*:*_0_*|*_10034_*:*_1_*:*_59502938_*|*_10004_*:*_2_*:*_445110285,16/Oct/25 1:58 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,,16907,PROD-1101,Attributeâ€“Intent Mapping Engine,Done,24/Oct/25 9:56 AM
Implement Validation Logic for Prompt # 1 output,PROD-125,14094,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,29/Sep/25 1:15 PM,11/Nov/25 11:45 AM,,02/Nov/25 11:50 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. {anchor:Objective}*Objective*

This ticket lays out the validation checklist for the system to verify Prompt #1 output before displaying it on the UI as per the schema.

Pertains to the part â€œValidate Outputâ€ in the schema.

[https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13796]

h2. {anchor:Requirements}Requirements

# *Column Validation*
#* Output must contain *exactly 3 columns*.
#* Column headers must be: {{KW}}, {{Branding Scope}}, {{Relationship}}.
# *Keyword Count*
#* The number of KWs returned must exactly equal the number of KWs provided as input.
# *Tag Format*
#* Each KW must include a *3-character tag*.
#* First two characters must be one of: {{NB}}, {{OB}}, {{CB}}.
#* Last character must be one of: {{R}}, {{N}}, {{S}}, {{C}}.
# *Keyword Integrity*
#* Every input KW must appear in the output.
#* Each KW must match exactly with the input (no changes in text, case, format, or punctuation).
# *Error Handling & Feedback*
#* If validation fails, the system should *prompt back with a feedback prompt* that explains the failed scenario and asks for correction (e.g., â€œ2 KWs missing from output â€” please return all KWsâ€, â€œInvalid tag format for KW: \_\_\_â€).
#* The output of the prompt shall only be displayed on the UI, which is the next step as defined in the schema, after a valid and corrected output is returned.

[Kateryna Davidenko|https://keplercommerce.atlassian.net/secure/ViewProfile.jspa?accountId=712020%3Aaff451dd-dd5b-4c4b-8d72-d72ba00e7042] to review the following and make revisions if needed before Andrew deploys its.

h3. {anchor:ActionOrientedFeedbackPromptsforPrompt%231Validation}*Action-Oriented Feedback Prompts for Prompt #1 Validation*

# *Column Validation Failed*
   _â€œThe output format is invalid. Please correct and resend a table with exactly three columns labeled_ _*KW* __,_ _*Branding Scope*__ , and_ _*Relationship*__.â€_
# *Keyword Count Mismatch*
   _â€œThe number of keywords in the output doesnâ€™t match the input. Please correct and resend the output with the same number of keywords as provided.â€_
# *Invalid Tag Format*
   _â€œSome tags are incorrectly formatted. Please correct and resend using this pattern â€” first two letters:_ _*NB/OB/CB* __, last letter:_ _*R/N/S/C*__.â€_
# *Keyword Missing or Altered*
   _â€œSome input keywords are missing or modified. Please correct and resend the output, ensuring all input keywords appear exactly as provided (same spelling, case, and punctuation).â€_
# *Generic Catch-All / Unknown Error*
   _â€œThe output doesnâ€™t meet the validation requirements. Please review the rules and resend a corrected version that fully follows the schema.â€_

*The above â€œFeedback Promptsâ€ section pertains to the part â€œPrompt Revisionsâ€ from the schema.*

[https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13795]",,abdul,,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,,,,,,,,,,,,,,,21600,21600,,0%,21600,21600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@4427d12e,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i0058f:,,,,,,,,,,,,,,,,,,,10033_*:*_1_*:*_730303512_*|*_10594_*:*_2_*:*_344207657_*|*_10135_*:*_1_*:*_433222645_*|*_10564_*:*_2_*:*_989636331,,,,,,,,,,,16905,PROD-1100,LLM-Driven Keyword Classification Engine,Done,26/Oct/25 10:32 AM
"Implement Prompt # 3 Execution, Validation & Auto-Revision Loop",PROD-124,14092,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,29/Sep/25 1:14 PM,11/Nov/25 11:53 AM,,02/Nov/25 11:50 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. {anchor:Objective}*Objective*

This ticket defines how Prompt #3 has to be executed and how to connect it to the next steps of the schema which includes validation of the output, automated feedback and revision loop, and progression toward subsequent steps once validation passes.

h2. {anchor:Requirements}*Requirements*

# *Prompt Execution*
#* Once the required inputs are available as per the schema, automatically send these inputs along with *Prompt #3* to OpenAI via API.

[https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13805]

# *Validation*
#* When OpenAI returns an output, validate it using the *Prompt #3 validation checklist* (defined under [https://keplercommerce.atlassian.net/browse/AD-593] ).
# *Automated Feedback & Revision Loop*
#* If validation fails, automatically send a *feedback prompt* to OpenAI describing the issue. (Guide regarding the Feedback Prompts has been laid out under [https://keplercommerce.atlassian.net/browse/AD-593] , this has to be reviewed and approved by [Kateryna Davidenko|https://keplercommerce.atlassian.net/secure/ViewProfile.jspa?accountId=712020%3Aaff451dd-dd5b-4c4b-8d72-d72ba00e7042] )
#* Review the revised response and re-validate.
#* Continue the loop (feedback â†’ revision â†’ re-validation) until all validation rules are met.
#* Log each iteration with status and timestamps.
# *Validated Output Display*
#* Once validation passes, display the verified output on *Prompt # 3 Output UI*, under KW Research.
#* Only validated data should be visible on the UI.
# *Error Handling & Retry Controls*
#* Apply a maximum of *five feedback loops* to prevent infinite retries.
#* If validation still fails, flag for manual review and alert the user.
#* Handle API errors, timeouts, or malformed responses with retries and proper error messages.
# *Logging & Audit Trail*
#* Record each API call, validation result, and feedback iteration.
#* Maintain logs for audit, debugging, and performance tracking.
# *Next-Step Connection*
#* Once validation succeeds and data is displayed on UI #3, mark Prompt #3 as *complete*.
#* Automatically transition to the next step in the schema.",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,08/Oct/25 10:30 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;2025-10-08_20-21.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13928,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@157ee0f9,,,,,,,,,,,,,,,,,,,,,,,,,,,0|hzzzw5:0zz8y,,,,,,,,,,,,,,,,,,2025-10-08 17:30:19.426,3_*:*_1_*:*_507983493_*|*_10033_*:*_1_*:*_916066922_*|*_10198_*:*_1_*:*_247537963_*|*_10594_*:*_2_*:*_188239139_*|*_10563_*:*_1_*:*_463274454_*|*_10003_*:*_1_*:*_5296_*|*_10564_*:*_1_*:*_174342836,"08/Oct/25 10:30 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] Could you please clarify how we should know that Review and Revise has been completed for both branches? Clicking Submit does not yet guarantee that the data is fully consistent.
So, either we need some additional indication that the data is truly ready to be sent to Prompt #3, or please explain in more detail how you envision the process


!2025-10-08_20-21.png|width=372,height=291,alt=""2025-10-08_20-21.png""!",10/Oct/25 4:25 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] Validation defined under AD591 to AD593 can be used here as well to validate if its ready for the next step.,"10/Oct/25 5:12 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] As I understand it, based on these validation tasks, we should automatically check only the number of columns, their names, and the row contents according to the data template.
The user, on the other hand, is responsible for verifying the correctness of the data in terms of keywords or ASIN attributes.
So how can we determine that all the data has already been reviewed and approved by the user, and that itâ€™s ready to be used to prepare the request for Prompt #3?","10/Oct/25 6:28 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] Yes, the user is responsible for the correctness check.
The submission itself means the user has verified it. Make sure there is confirmation dialog box that opens up before the submission.",,,,,,,16907,PROD-1101,Attributeâ€“Intent Mapping Engine,Done,26/Oct/25 10:32 AM
"Implement Prompt # 2 Execution, Validation & Auto-Revision Loop",PROD-123,14090,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,29/Sep/25 1:14 PM,11/Nov/25 11:48 AM,,02/Nov/25 11:50 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. {anchor:Objective}*Objective*

This ticket defines how Prompt #2 has to be executed and how to connect it to the next steps of the schema which includes validation of the output, automated feedback and revision loop, and progression toward subsequent steps once validation passes.

h2. {anchor:Requirements}*Requirements*

# *Prompt Execution*
#* Once the required input is available as per the schema, automatically send this input along with *Prompt #2* to OpenAI via API.

[https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13804]

# *Validation*
#* When OpenAI returns an output, validate it using the *Prompt #2 validation checklist* (defined under [https://keplercommerce.atlassian.net/browse/AD-592] ).
# *Automated Feedback & Revision Loop*
#* If validation fails, automatically send a *feedback prompt* to OpenAI describing the issue. (Guide regarding the Feedback Prompts has been laid out under [https://keplercommerce.atlassian.net/browse/AD-592] , this has to be reviewed and approved by [Kateryna Davidenko|https://keplercommerce.atlassian.net/secure/ViewProfile.jspa?accountId=712020%3Aaff451dd-dd5b-4c4b-8d72-d72ba00e7042] )
#* Review the revised response and re-validate.
#* Continue the loop (feedback â†’ revision â†’ re-validation) until all validation rules are met.
#* Log each iteration with status and timestamps.
# *Validated Output Display*
#* Once validation passes, display the verified output on *Prompt # 2 Output UI*, under KW Research.
#* Only validated data should be visible on the UI.
# *Error Handling & Retry Controls*
#* Apply a maximum of *five feedback loops* to prevent infinite retries.
#* If validation still fails, flag for manual review and alert the user.
#* Handle API errors, timeouts, or malformed responses with retries and proper error messages.
# *Logging & Audit Trail*
#* Record each API call, validation result, and feedback iteration.
#* Maintain logs for audit, debugging, and performance tracking.
# *Next-Step Connection*
#* Once validation succeeds and data is displayed on UI #2, mark Prompt #2 as *complete*.
#* Automatically transition to the next step in the schema.",,abdul,Automation for Jira,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,PROD-414,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@1a51fccd,,,,,,,,,,,,,,,,,,,,,,,,,,,0|hzzzw5:0zz8x,,,,,,,,,,,,,,,,,,2025-10-21 14:01:25.247,3_*:*_1_*:*_251564582_*|*_10033_*:*_1_*:*_916078887_*|*_10198_*:*_1_*:*_247533829_*|*_10594_*:*_2_*:*_344207868_*|*_10563_*:*_1_*:*_112454834_*|*_10004_*:*_1_*:*_100474423_*|*_10003_*:*_1_*:*_350774061_*|*_10564_*:*_2_*:*_174370584,21/Oct/25 7:01 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,,16907,PROD-1101,Attributeâ€“Intent Mapping Engine,Done,26/Oct/25 10:32 AM
"Implement Prompt # 1 Execution, Validation & Auto-Revision Loop",PROD-122,14088,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,29/Sep/25 1:14 PM,15/Jan/26 4:19 AM,,02/Nov/25 11:49 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. {anchor:Objective}*Objective*

This ticket defines how Prompt #1 has to be executed and how to connect it to the next steps of the schema which includes validation of the output, automated feedback and revision loop, and progression toward subsequent steps once validation passes.

h2. {anchor:Requirements}*Requirements*

# *Prompt Execution*
#* Once all required inputs are available as per the schema, automatically send these inputs along with *Prompt #1* to OpenAI via API.

[https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13803]

# *Validation*
#* When OpenAI returns an output, validate it using the *Prompt #1 validation checklist* (defined under [https://keplercommerce.atlassian.net/browse/AD-591] ).
# *Automated Feedback & Revision Loop*
#* If validation fails, automatically send a *feedback prompt* to OpenAI describing the issue. (Guide regarding the Feedback Prompts has been laid out under [https://keplercommerce.atlassian.net/browse/AD-591] , this has to be reviewed and approved by [Kateryna Davidenko|https://keplercommerce.atlassian.net/secure/ViewProfile.jspa?accountId=712020%3Aaff451dd-dd5b-4c4b-8d72-d72ba00e7042] )
#* Review the revised response and re-validate.
#* Continue the loop (feedback â†’ revision â†’ re-validation) until all validation rules are met.
#* Log each iteration with status and timestamps.
# *Validated Output Display*
#* Once validation passes, display the verified output on *Prompt # 1 Output UI*, under KW Research.
#* Only validated data should be visible on the UI.
# *Error Handling & Retry Controls*
#* Apply a maximum of *five feedback loops* to prevent infinite retries.
#* If validation still fails, flag for manual review and alert the user.
#* Handle API errors, timeouts, or malformed responses with retries and proper error messages.
# *Logging & Audit Trail*
#* Record each API call, validation result, and feedback iteration.
#* Maintain logs for audit, debugging, and performance tracking.
# *Next-Step Connection*
#* Once validation succeeds and data is displayed on UI #1, mark Prompt #1 as *complete*.
#* Automatically transition to the next step in the schema.",,abdul,Automation for Jira,Pavlo Lisovets,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,PROD-413,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@68b7fe7a,,,,,,,,,,,,,,,,,,,,,,,,,,,0|hzzzw5:0zz6,,,,,,,,,,,,,,,,,,2025-10-09 11:14:04.225,3_*:*_3_*:*_714777536_*|*_10033_*:*_2_*:*_916124122_*|*_10198_*:*_1_*:*_188001503_*|*_10594_*:*_2_*:*_344205617_*|*_10034_*:*_1_*:*_59492687_*|*_10004_*:*_2_*:*_100502928_*|*_10564_*:*_2_*:*_174361468,"09/Oct/25 4:14 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] Could you please clarify whether we should also include the keywords created from the export file, or only those obtained from Jungle Scout?","10/Oct/25 4:23 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] Both.

# Jungle Scout
# KWs added by user via Bulk Import",17/Oct/25 7:17 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,16905,PROD-1100,LLM-Driven Keyword Classification Engine,Done,26/Oct/25 10:32 AM
Optimize Prompt # 3,PROD-121,14086,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Kateryna Davidenko,712020:aff451dd-dd5b-4c4b-8d72-d72ba00e7042,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,29/Sep/25 1:03 PM,11/Nov/25 11:53 AM,,12/Oct/25 12:59 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. {anchor:Objective}*Objective*

This ticket requires optimizing Prompt #3 to ensure consistent, accurate, and expected outputs, and to make it fully compatible for API-based communication.

[https://docs.google.com/document/d/1Hl2EwHBfXbAtiMACBpeBIGUDLW5HGmrM8OqQD-UfBts/edit?tab=t.0]

h2. {anchor:Requirements}*Requirements*

# *API Optimization*
#* Refine Prompt #3 structure for stable and predictable API-based communication.
#* Ensure formatting, delimiters, and data layout are standardized and validation-ready.
# *Identification of Multi-Attribute Rows*
#* When tested, *rows containing more than one Attribute, Variant, Use Case, or Audience were not properly identified or separated*.
#* Optimize the prompt to accurately detect and represent multiple attributes within the same row as per the schema.
# *Sequence & Alignment of Multi-Attribute Entries*
#* Observed issue: *even when multiple attributes were identified, their order and sequence were incorrect*.
#* Update the prompt to maintain the correct logical order and alignment for multi-attribute combinations, ensuring consistency across all rows.
# *Synonym / Translation Handling*
#* Testing showed that *synonyms, translated words, or same-context keywords were not properly grouped or aligned*.
#* Optimize the prompt so that all synonyms and translated equivalents appear *in the same row*, correctly aligned with their corresponding matrix entry.
# *Validation Compatibility*
#* Ensure the optimized prompt output fully aligns with the *Prompt #3 validation schema* [https://keplercommerce.atlassian.net/browse/AD-593] and functions correctly within the validation and feedback loop.
# *Testing & Verification*
#* Test the optimized prompt via API to confirm improved detection, ordering, and alignment of multi-attribute rows, as well as correct grouping of synonyms and translations.",,abdul,Automation for Jira,Kateryna Davidenko,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:aff451dd-dd5b-4c4b-8d72-d72ba00e7042,,,,,,,,,,,,,54000,54000,,0%,54000,54000,,,,,,,,,,,,,,,,TEST-295,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@7d95c035,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i0057j:,,,,,,,,,,,,,,,,,,2025-10-10 15:38:42.246,10033_*:*_1_*:*_915273252_*|*_10198_*:*_1_*:*_161346644_*|*_10034_*:*_2_*:*_1443368,"10/Oct/25 8:38 AM;712020:aff451dd-dd5b-4c4b-8d72-d72ba00e7042;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] 
cc [~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] , [~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] 
We need to adjust the logic for *Prompt #3* to make it compatible with API batching limits.

Right now, we canâ€™t send all keywords in one request - the API forces us to split them into batches of 50â€“100 keywords. This means we canâ€™t get both *Mapping Table (A/B/C)* and the *full Keyword List* in one shot.

However, generating new Mapping Table per batch would cause inconsistencies (rank shifts, hallucinated rows, etc.), since GPT would rebuild tables slightly differently each time.

h3. Proposed solution

# *Split* the keyword list into 50â€“100 sized batches.
# *Modify Prompt #3* so that:
#* The *Mapping Table (A/B/C)* is created once in code (from Prompt #2 output).
#* These tables are then *hardcoded and passed* with each batch.
#* GPT will *only assign Product Type and Variant/Use Case/Audience* for each keyword - not recreate tables.
# *Ranking and numbering* will be computed in code after all batches are processed.

h3. Note

As I understand this approach disables one rule from the original prompt:

{quote}â€œEnforce the subset â‰¥1 rule: if a â‰¥1-KW subset has extra attributes, insert a new row and resequence.â€
That rule canâ€™t be applied dynamically during batching{quote}

Let me know if you have any questions.
Also, please create a new task for *Pavel* to implement this batching logic and the updated Prompt #3 version.","10/Oct/25 10:38 AM;712020:aff451dd-dd5b-4c4b-8d72-d72ba00e7042;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] 
weâ€™ll need around 15 ASIN examples with all the related data.
So, I believe weâ€™ll need the following for each ASIN:

* ASIN
* 4-digit tag
* Listing content
* Attributes table
* Mapping tables

This data should be verified by someone - meaning you need to be completely sure itâ€™s the correct and expected data, not just AI-generated.
Once we have that, weâ€™ll be able to run proper tests and compare the API results with the verified (super accurate) data. Right now, Iâ€™m trying to do it visually, and itâ€™s quite difficult to validate everything this way.","12/Oct/25 12:59 AM;712020:aff451dd-dd5b-4c4b-8d72-d72ba00e7042;The underlying prompt logic was analyzed and optimized. The prompt has been rewritten to align with API request requirements, ensuring consistent structure, accurate parsing, and improved stability for downstream processing.
Testing is currently in progress.",12/Oct/25 12:59 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,16907,PROD-1101,Attributeâ€“Intent Mapping Engine,Done,12/Oct/25 12:59 AM
Optimize Prompt # 1,PROD-119,14082,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Kateryna Davidenko,712020:aff451dd-dd5b-4c4b-8d72-d72ba00e7042,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,29/Sep/25 1:03 PM,11/Nov/25 11:38 AM,,12/Oct/25 12:59 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. {anchor:Objective}*Objective*

This ticket requires optimizing Prompt #1 to ensure consistent, accurate, and expected outputs, and to make it fully compatible for API-based communication.

[https://docs.google.com/document/d/1Hl2EwHBfXbAtiMACBpeBIGUDLW5HGmrM8OqQD-UfBts/edit?tab=t.0]

h2. {anchor:Requirements}*Requirements*

# *API Optimization*
#* Refine Prompt #1 structure for stable and predictable API-based communication.
#* Ensure formatting, delimiters, and instructions are API-friendly and validation-ready.
# *Brand Recognition Issues*
#* When tested, it was observed that *sub-brands and product lines were not correctly identified* as brand names.
#* As part of optimization, ensure they are properly classified as *Own Brand (OB)* or *Competitor Brand (CB)*.
# *Negative Keyword Identification Issues*
#* Testing showed that *negative or irrelevant keywords were not consistently detected or tagged*.
#* The optimized prompt must correctly identify and label all negatives.
# *Substitute Keyword Identification Issues*
#* During testing, *substitute keywords were not properly recognized*, especially across *Product Type* and *Variant/Use Case* levels.
#* The optimized prompt must accurately detect and tag substitutes in all relevant contexts.
# *Validation Compatibility*
#* Ensure the optimized prompt output fully aligns with the *Prompt #1 validation schema* [https://keplercommerce.atlassian.net/browse/AD-591] and integrates with the feedback loop.
# *Testing & Verification*
#* Test the optimized prompt via API to confirm improved accuracy, consistency, and compliance with validation requirements.",,abdul,Automation for Jira,Kateryna Davidenko,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:aff451dd-dd5b-4c4b-8d72-d72ba00e7042,,,,,,,,,,,,,21600,21600,,0%,21600,21600,,,,,,,,,,,,,,,,TEST-297,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@40f4e8f2,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i00573:,,,,,,,,,,,,,,,,,,2025-10-10 15:44:12.4,10033_*:*_1_*:*_915312766_*|*_10198_*:*_1_*:*_161349024_*|*_10034_*:*_2_*:*_1448685,"10/Oct/25 8:44 AM;712020:aff451dd-dd5b-4c4b-8d72-d72ba00e7042;Prompt #1 - V2 created 
[https://docs.google.com/document/d/1ce6ESpuIsJNhDXAo29DI8omO9LyKik5gockUn2xBtVY/edit?tab=t.0|https://docs.google.com/document/d/1ce6ESpuIsJNhDXAo29DI8omO9LyKik5gockUn2xBtVY/edit?tab=t.0|smart-link] 
Testing it with Pavel on backend","12/Oct/25 12:59 AM;712020:aff451dd-dd5b-4c4b-8d72-d72ba00e7042;The underlying prompt logic was analyzed and optimized. The prompt has been rewritten to align with API request requirements, ensuring consistent structure, accurate parsing, and improved stability for downstream processing.
Testing is currently in progress.",12/Oct/25 12:59 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,16905,PROD-1100,LLM-Driven Keyword Classification Engine,Done,12/Oct/25 12:59 AM
Fetch & Store ASIN Content from ASIN's PDP,PROD-118,14080,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,29/Sep/25 1:02 PM,11/Nov/25 12:26 PM,,02/Nov/25 11:49 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. {anchor:Objective%3A}*Objective:*

This ticket sets requirements to fetch, store, and deliver ASIN content on KW trigger to OpenAI for Prompts #1 & #2.

h2. {anchor:Requirements%3A}*Requirements:*

Build a functionality that, as per the [KW Research/Tagging schema|https://miro.com/app/board/uXjVJNp9oB8=/?share_link_id=682498136092] (Refer to the snapshot below), whenever a trigger condition for Automated KWs Research process for an ASIN is met,

# the ASINâ€™s listing content is fetched (scraped from ASINâ€™s PDP / fetched from any existing 3rd Party service (like Keepa) / fetched directly from any Amazonâ€™s API)
# stored in the backend
# supplied to Open AI alongside the Prompt #1 and Prompt #2

[https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13665]

The following content has to be fetched:

# Title
# Bullets
# Description
# All other available attributes as show in the example snapshot below.

[https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13663]

[https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13664]",,abdul,Automation for Jira,Pavlo Lisovets,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,TEST-245,PROD-422,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@36ec6a47,,,,,,,,,,,,,,,,,,,,,,,,,,,0|hzzzw5:0zz,,,,,,,,,,,,,,,,,,2025-10-02 18:06:34.189,3_*:*_2_*:*_370160889_*|*_10033_*:*_2_*:*_355869905_*|*_10594_*:*_2_*:*_344206381_*|*_10035_*:*_1_*:*_66388591_*|*_10034_*:*_2_*:*_740783339_*|*_10004_*:*_1_*:*_445113357_*|*_10135_*:*_1_*:*_1272961_*|*_10003_*:*_1_*:*_23477_*|*_10564_*:*_1_*:*_174348540,02/Oct/25 11:06 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,"09/Oct/25 7:26 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] Could you please clarify if we should process the ASIN in cases where some of the following data is missing?
Title: {{ Listing Content Title }}
Bullets: {{ Listing Content Bullets }}
Description: {{ Listing Content Description }}
Attributes: {{ Listing Content Attributes }}
Keywords: {{ List of Keywords }}","10/Oct/25 2:40 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] No,

I forgot about this scenario. It wonâ€™t be frequently happening though.

Anyways, I suggest 

# producing an error on the UI # 1 & UI # 2.
# The error should contain a link that should route them to another UI which contains these field for user to manually provide this data.
# Once user manually provides the data and submit, it should then run the process.

If youâ€™re okay with this approach, should I provide a ticket containing mockup of the additional UI? [~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] ","10/Oct/25 4:53 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] On which specific page do you suggest showing the message to the user that some ASINs are missing data?

Iâ€™m not really in favor of the option where the user manually edits the data, since we usually fetch it from a centralized ASIN data storage.
Maybe instead we could add something like a â€œRe-sync asin attributesâ€ button â€” once clicked, it would trigger a request to the existing 3rd-party service (like Keepa), and then reattempt to prepare the data for Prompt #1.
[~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] what do you think about this?","10/Oct/25 6:00 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] UI # 1 & UI # 2 both defined in the ticket 594 & 595.

cc: [~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] ",17/Oct/25 7:17 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,16905,PROD-1100,LLM-Driven Keyword Classification Engine,Done,26/Oct/25 10:32 AM
Set Up Connection Between Portal & OpenAI via API,PROD-117,14078,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,29/Sep/25 12:36 PM,11/Nov/25 12:13 PM,,02/Nov/25 11:50 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. {anchor:Objective%3A}*Objective:*

This ticket covers setting up a secure Portalâ†”OpenAI integration to send KW/ASIN inputs and route outputs back to the UIs.

Set up a secure API integration between the Portal backend and OpenAI. This will allow keyword data and ASIN content (fetched, extracted, or scraped from PDPs) to be sent as structured inputs with prompts. The integration must also handle the reverse flow â€” receiving generated outputs and populating them back across multiple portal UIs.

h2. {anchor:Requirements%3A}*Requirements:*

h3. {anchor:General}General

* Establish a secure, authenticated API connection between the Portal backend and OpenAI.
* Enable the backend to send *keyword data and ASIN content* (fetched, extracted, or scraped from PDPs, or from approved 3rd-party sources) as structured inputs to prompts.
* Support passing outputs from intermediary prompts into subsequent prompts, after they are collected and revised within the Portal, ensuring a complete prompt chain (Prompt #1 & #2 â†’ Prompt #3).
* Ensure outputs generated by Open AI are stored in the backend database.
* Route and display the outputs correctly across all relevant Portal UIs.
* Implement robust error handling, retry logic, and logging for the API integration.

h3. {anchor:AcceptanceCriteria%3A}Acceptance Criteria:

* API connection to OpenAI is established and tested.
* KW + ASIN content can be successfully sent as prompt inputs.
* OpenAI outputs are received and stored in the backend database.
* Outputs display correctly in all relevant portal UIs.
* System gracefully handles API failures and retries.
* Security and rate limiting measures are in place.",,abdul,Automation for Jira,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,,,,,,,,,,,,,,180,180,,0%,180,180,,,,,,,,,,,,,,,,TEST-243,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@37fc69df,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i0056j:,,,,,,,,,,,,,,,,,,2025-10-02 18:06:26.827,10033_*:*_1_*:*_253791444_*|*_10594_*:*_2_*:*_344208297_*|*_10035_*:*_1_*:*_912068684_*|*_10004_*:*_1_*:*_815303737_*|*_10564_*:*_1_*:*_174341922,02/Oct/25 11:06 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,,16915,PROD-1105,End-to-End Automated Keyword Research Pipeline,Done,26/Oct/25 10:32 AM
Deploy Triggers to Run End-to-End Automated Keyword Research (per Miro Schema) and Populate UI Outputs,PROD-116,14076,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,29/Sep/25 11:22 AM,15/Jan/26 4:19 AM,,02/Nov/25 11:50 AM,, [Advertising] [v2] -[February 1st Release],,0,,,"h2. *Objective:*

This ticket defines the trigger to run the Automated Keyword Research process (per [Miro Schema)|https://miro.com/app/board/uXjVJNp9oB8=/?share_link_id=735784522957].



h2. Requirements:

When keyword fetching (from JS) is completed on the backend for an ASIN, this *completion status* must act as the trigger to automatically initiate the full Keyword Research workflow (as defined in the Miro schema). The workflow should start without manual intervention and process the ASIN end-to-end according to the schema steps.",,abdul,Automation for Jira,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,,,,,,,,,,,,,,7200,7200,,0%,7200,7200,,,,,,,,,,,,,,,,TEST-244,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@57034398,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i0056n:,,,,,,,,,,,,,,,,,,2025-10-02 18:06:31.879,10033_*:*_1_*:*_258249264_*|*_10594_*:*_2_*:*_344208525_*|*_10035_*:*_1_*:*_912061785_*|*_10004_*:*_1_*:*_815305978_*|*_10564_*:*_1_*:*_174340989,02/Oct/25 11:06 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,,16915,PROD-1105,End-to-End Automated Keyword Research Pipeline,Done,26/Oct/25 10:32 AM
SP Ads Manual KW Targeting | Auto Bid Optimization Logic - Revise CVR Waterfall Logic_08 Sep'25,PROD-10,13598,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,Kostyantyn Solovtsov,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,Kostyantyn Solovtsov,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,18/Sep/25 3:30 AM,25/Nov/25 9:18 AM,,19/Sep/25 4:24 AM,, [Advertising] [v2] -[February 1st Release],22/Sep/25 12:00 AM,0,,,"Following task
[https://keplercommerce.atlassian.net/browse/AD-465|https://keplercommerce.atlassian.net/browse/AD-465]

Following the instructions
I have concern system last time recalculated Bids 09/16/2025
Yesterday we deployed updated which from my perspective should recalculate CVR and as results bids



!image-20250918-103842.png|width=838,height=250,alt=""image-20250918-103842.png""!

For instance:
*ASIN:* B0B38C1JVG
*Campaign:* NBB3-SPKW-PB01-XX-S-B0B38C1JVG-E-KW

based on requirements CVR should be max (Default CVR, ASIN CVR)

MAX( 0.15,0.08) â†’ 0.15


*What should be done:*
1) Check why system does not recalculate Bids after deploy. It could be because this update not included in Bids trigger list. And we should recalculate all with developers help. Or I should wait when system recalculate it on daily basis.
2) New logic does not deployed as expected.

",,Automation for Jira,Kostyantyn Solovtsov,,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,,,,,,,,,,,,,,7200,7200,,0%,7200,7200,,,,,,,,,,,,PROD-1526,,,,TEST-206,,,18/Sep/25 3:43 AM;d2a95269-cc51-4c1b-aa6d-b327487ceaa6;image-20250918-103842.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/13234,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@14dd9c09,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i0005v:00029,,,,,,,08/Sep/25 12:00 AM,,,,,,,,,,,2025-09-19 11:24:58.832,10033_*:*_1_*:*_89687319_*|*_10035_*:*_1_*:*_0,19/Sep/25 4:24 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,,17349,PROD-1305,Automated Bid Optimization - Miscellaneous - I,Done,25/Nov/25 9:04 AM
Development of Additional Adjustment Rules,PROD-114,12933,Task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Alexandra Komyshan,712020:df8de444-7a10-4960-a8f4-78bde4981c2c,Alexandra Komyshan,712020:df8de444-7a10-4960-a8f4-78bde4981c2c,Alexandra Komyshan,712020:df8de444-7a10-4960-a8f4-78bde4981c2c,28/Aug/25 9:01 AM,25/Nov/25 7:33 AM,,20/Oct/25 12:11 PM,, [Advertising] [v2] -[February 1st Release],06/Oct/25 12:00 AM,0,,,"*Summary:* Define corrective business rules for CVR calculation.
*Description:*

* Add upper CVR cap (cap = 0.2).
* Define fallback rules for low-selling ASINs and accounts with limited data.
* Document new conditions for integration into CVR calculations.
* etc",,Alexandra Komyshan,,,,,712020:df8de444-7a10-4960-a8f4-78bde4981c2c,,,,,;20/Oct/25 11:57 AM;2eb4f0df-f942-4595-851d-6a095635d8d3;25200,,,,,,,,,,25200,0,25200,100%,25200,0,25200,,,,,,,,,,,,,,,,,,20/Oct/25 12:11 PM;2eb4f0df-f942-4595-851d-6a095635d8d3;cvr_ensemble_full_reworked.py;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14422,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@14051bf0,,,,,,,,,,,,,,,,,,,,,,,,,,,0|hzzzw5:05r,,,,JS8-Ads + Port: Sep 24-Oct 6,JS9-Ads + Port: Oct 06-Oct 13,JS6: 13 Oct - 24 Oct,22/Sep/25 12:00 AM,,,,,,,,,,Engineering,,10033_*:*_1_*:*_3943547497_*|*_10003_*:*_1_*:*_0,20/Oct/25 12:11 PM;712020:df8de444-7a10-4960-a8f4-78bde4981c2c;* [^cvr_ensemble_full_reworked.py] ,,,,,,,,,,14631,PROD-9,ADS: Miscellaneous,Done,20/Oct/25 12:11 PM
Deploy Auto Budget Logic for Harvesting Campaigns,PROD-13,12376,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,13/Aug/25 9:05 AM,15/Jan/26 4:19 AM,,28/Nov/25 2:26 AM,, [Advertising] [v2] -[February 1st Release],01/Dec/25 12:00 AM,0,Advertising,,"h2. *Objective + Requirement:*

This ticket is to communicate that Dedicated Harvesting campaigns should be treated the same as other Manual Keyword Targeting campaigns with respect to the Auto Budget functionality. This means the Auto Budget logic, validation rules, and all related features should apply to these campaigns exactly as they do to others.

All previously defined tickets related to Auto Budget (listed below) are to be considered applicable here as wellâ€”no separate handling or logic is required.

# [https://keplercommerce.atlassian.net/browse/AD-55|https://keplercommerce.atlassian.net/browse/AD-55|smart-link]



# [https://keplercommerce.atlassian.net/browse/AD-59|https://keplercommerce.atlassian.net/browse/AD-59|smart-link]



# [https://keplercommerce.atlassian.net/browse/AD-60|https://keplercommerce.atlassian.net/browse/AD-60|smart-link] 



# [https://keplercommerce.atlassian.net/browse/AD-51|https://keplercommerce.atlassian.net/browse/AD-51|smart-link]



# [https://keplercommerce.atlassian.net/browse/AD-52|https://keplercommerce.atlassian.net/browse/AD-52|smart-link]



# [https://keplercommerce.atlassian.net/browse/AD-48|https://keplercommerce.atlassian.net/browse/AD-48|smart-link]



# [https://keplercommerce.atlassian.net/browse/AD-53|https://keplercommerce.atlassian.net/browse/AD-53|smart-link]



# [https://keplercommerce.atlassian.net/browse/AD-49|https://keplercommerce.atlassian.net/browse/AD-49|smart-link] 



# Ad spend data point being used in the logic should be *KW+ASIN* Level instead of campaign level. ",,abdul,Andrew Pomaz,Automation for Jira,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,,,;25/Nov/25 7:43 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;7200,,,,,,,,,,7200,0,7200,100%,7200,0,7200,,,,,,,,,,,,,,,PROD-1653,,,10/Oct/25 12:23 PM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20251010-192448.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14089,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@18bdde76,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,0|hzzzw5:0zr,,,,S12: Nov 17- Nov 30,,,17/Nov/25 12:00 AM,,,,,,,,,,,2025-10-12 16:06:04.883,3_*:*_1_*:*_10048902_*|*_10033_*:*_1_*:*_4987929849_*|*_10198_*:*_2_*:*_148525536_*|*_10132_*:*_1_*:*_34990771_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_2_*:*_158141543_*|*_10562_*:*_1_*:*_2682538999_*|*_10004_*:*_1_*:*_240188029_*|*_10003_*:*_1_*:*_962100719,"10/Oct/25 12:23 PM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] 

!image-20251010-192448.png|width=100%,alt=""image-20251010-192448.png""!",12/Oct/25 9:06 AM;712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] What is this ticket for â€” a list of other tickets?,"12/Nov/25 9:14 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] For campaigns with the name ending with â€œHVâ€ i.e. campaigns created as a result of harvesting process, this ticket asks to deploy auto budget logic to all â€œHVâ€ campaigns too and all auto budget related tickets that apply to Manual KW Targeting, also applies to â€œHVâ€ campaigns as these are also created as Manual KW Targeting. If this is already done then just mark as done but if campaigns ending with â€œHVâ€ are not under the scope of Auto Budget logic then please get these under Auto Budget too.

The reference to these tickets is so that you know all the requirements under these tickets should also apply to campaigns ending with â€œHVâ€.",28/Nov/25 2:26 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,17008,PROD-1131,Manual KW Targeting - v1 Baseline Budget Logic Engine,Done,25/Nov/25 7:43 AM
SP Ads Auto Targeting | Negation - Deploy Triggers for Amazon Sync and UI Update,PROD-37,11950,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,29/Jul/25 12:43 PM,15/Jan/26 4:19 AM,,29/Oct/25 10:52 AM,, [Advertising] [v2] -[February 1st Release],27/Oct/25 12:00 AM,0,Advertising,,"h2. *Objective:*

Implement backend triggers to manage the *addition and removal* of negative keywords for *Auto Targeting campaigns*. This applies to updates made via the *Campaign Config UI*, *Search Term Config UI*, and *Bulk Import*. All changes must sync with Amazon and reflect accurately across portal UIs.



h2. *Requirements:*



h3. *Trigger 1: Auto Targeting â€“ Campaign Config UI (UI + Bulk Import)*

* Detect changes in the *Custom Negative Keywords* field within the *Auto Targeting* section of the Campaign Config UI.

!image-20250729-194855.png|width=100%,alt=""image-20250729-194855.png""!



* On submission (UI or bulk import):
** Add newly entered keywords as negatives to Amazon.
** Remove previously added ones if deleted from the field.
* After successful sync with Amazon:
** Reflect changes across the relevant portal UIs.
** Ensure full sync and portal updates complete within *30 minutes* of submission.

h3. *Trigger 2: Auto Targeting â€“ Search Term Config UI (UI + Bulk Import)*

* When the *â€œNegative Status â€“ Manualâ€* column is updated:
** Submit the keyword as a negative to Amazon or remove it based on the updated status.
* Applicable to:
** Manual updates via UI
** Bulk updates via import
* Upon Amazon sync confirmation:
** Update UI representations (see details below).
** Ensure the process is completed within *30 minutes*.

h3. *Post-Sync Portal UI Updates (Upon Successful Amazon Sync):*

Once Amazon sync is confirmed, apply the following updates across UIs:

* *Search Term Config UI (or Bulk Import Template):*
** For matching *Search Term + ASIN + Campaign*, update the *â€œNegative Statusâ€* column to:
*** *â€œYesâ€* if added as a negative
*** *â€œNoâ€* if removed
* *Campaign Config UI â€“ Auto Targeting Tab:*
** Reflect the updated list of negative keywords in the *Custom Negative Keywords* field.
** If all are removed, ensure the field is cleared.",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,29/Jul/25 12:55 PM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20250729-194855.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/11721,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5b0a147a,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i008va:,,,,JS6: 13 Oct - 24 Oct,,,13/Oct/25 12:00 AM,,,,,,,,,,,2025-10-06 13:45:31.136,3_*:*_1_*:*_5772937_*|*_10033_*:*_2_*:*_5076936393_*|*_10132_*:*_1_*:*_3489_*|*_10198_*:*_2_*:*_156019311_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_940446344_*|*_10133_*:*_1_*:*_1222801605_*|*_10003_*:*_1_*:*_353855489_*|*_10564_*:*_1_*:*_100249741,"06/Oct/25 6:45 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] could you please clarify:
If a single keyword belongs to one campaign and one ad group but has multiple match types, should all of them be marked in â€œSystem Remarksâ€ as â€œNegativeâ€, or should we additionally filter by the match type of the negative keyword?",10/Oct/25 8:19 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] Filter by Match Types.,,,,,,,,,14456,PROD-41,Automatic Targeting - Negation Routing Engine,Done,27/Oct/25 7:07 AM
SP Ads Manual KW Targeting | Negation - Deploy Triggers for Amazon Sync and UI Update,PROD-12,11923,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,29/Jul/25 11:00 AM,15/Jan/26 4:19 AM,,02/Nov/25 11:49 AM,, [Advertising] [v2] -[February 1st Release],27/Oct/25 12:00 AM,0,Advertising,,"h2. *Objective:*


Implement backend triggers to handle the *addition and removal* of negative keywords to/from Amazon when changes are made via the *Campaign Config* (*Manual KW Targeting tab)*, *Search Term Config UI*, or via *Bulk Import on both these UIs*. Ensure all relevant UIs reflect the updated negative status post-Amazon sync.



h2. *Requirements:*



h3. *Trigger 1: Manual KW Targeting (UI + Bulk Import)*

* On submission of the Campaign Config (via UI or bulk import):
** Detect additions or deletions in the *Custom Negative Keywords* column.
** For each affected entry:
*** Add new keywords as negatives to Amazon.
*** Remove deleted keywords from Amazon.
* Once Amazon confirms the sync:
** Reflect the updated negative status across the portal UIs (see details below).
** Portal updates must only occur after successful Amazon sync.
** Complete the full cycle (detection â†’ submission â†’ sync â†’ UI update) within *30 minutes*.

h3. âœ… *Trigger 2: Search Term Config UI (UI + Bulk Import)*

* On change to the *â€œNegative Status â€“ Manualâ€* column: 

!image-20250729-190245.png|width=88.78205128205127%,alt=""image-20250729-190245.png""!

** Submit the keyword to Amazon as a negative, or remove it if the status is cleared.
* This logic must apply to:
** Manual updates via UI
** Bulk updates via import
* After Amazon sync confirmation:
** Reflect the updated status across portal UIs (see below).
** Sync cycle must complete within *30 minutes*.



h3. *Post-Sync Portal UI Updates (Upon Successful Amazon Sync):*

After Amazon confirms the addition or removal of negatives, apply the following updates:

* *Keyword Config UI (or Bulk Import Template):*
** If a matching *Keyword + ASIN + Campaign* exists, display *â€œNegativeâ€* in the *â€œSystem Remarksâ€* column if the keyword was added as a negative.
** If removed, clear the *â€œNegativeâ€* comment.
* *Search Term Config UI (or Bulk Import Template):*
** If a matching *Search Term + ASIN + Campaign* is found, update the *â€œNegative Statusâ€* column to:
*** *â€œYesâ€* if added as a negative
*** *â€œNoâ€* if removed from negatives
* *Campaign Config UI â€“ Manual Targeting Tab:*
** In the *â€œCustom Negative Keywordsâ€* column (where the keyword was added or removed), reflect the current state:
*** Updated list of active negative keywords
*** Cleared field if all negatives are removed",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,29/Jul/25 12:23 PM;3e00f5cc-1093-4d77-8668-31fc8f53ff27;image-20250729-190245.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/11719,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@479a72cf,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i008va:i,,,,JS6: 13 Oct - 24 Oct,,,13/Oct/25 12:00 AM,,,,,,,,,,,2025-09-05 14:35:28.379,3_*:*_1_*:*_96353316_*|*_10033_*:*_2_*:*_3194795784_*|*_10198_*:*_2_*:*_154251583_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_1_*:*_941896917_*|*_10034_*:*_1_*:*_84385084_*|*_10133_*:*_1_*:*_3027125851_*|*_10003_*:*_1_*:*_450248025,30/Jul/25 12:16 PM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[https://fathom.video/share/uYAZjzcheAiT9jVtNo5Xa98W2WvH7-uN|https://fathom.video/share/uYAZjzcheAiT9jVtNo5Xa98W2WvH7-uN|smart-link] ,"05/Sep/25 7:35 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] could you please clarify:
If a single keyword belongs to one campaign and one ad group but has multiple match types, should all of them be marked in â€œSystem Remarksâ€ as â€œNegativeâ€, or should we additionally filter by the match type of the negative keyword?",10/Oct/25 8:27 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] Match Type,,,,,,,,14456,PROD-41,Automatic Targeting - Negation Routing Engine,Done,29/Oct/25 11:04 AM
SP Ads - All | Performance Analysis - Fix: Cancel button is not functional when generating the Underperformance RCA & Bid Simulation Report,PROD-58,11749,Bug,To Do,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,Kostyantyn Solovtsov,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,Kostyantyn Solovtsov,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,24/Jul/25 5:41 AM,15/Jan/26 4:16 AM,,,, [Advertising] [v2] -[February 1st Release],27/Oct/25 12:00 AM,0,,,"*What about it?*
During testing of the new report, a user issue arose. 
If I accidentally click the ""Generate Report"" button, I am unable to cancel the report generation because the ""Cancel"" button is inactive.



!image-20250724-124414.png|width=997,height=564,alt=""image-20250724-124414.png""!

*What needs to be done:*

please fix the Cancel button.

cc: [~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] [~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] ",,Kostyantyn Solovtsov,,,,,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,24/Jul/25 5:45 AM;d2a95269-cc51-4c1b-aa6d-b327487ceaa6;image-20250724-124414.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/11551,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@397d953c,,,,,,,,,,,,,,,,,,,,,,,,,,,0|hzzzw5:0ci,,,,JS6: 13 Oct - 24 Oct,,,13/Oct/25 12:00 AM,,,,,,,,,,,,,,,,,,,,,,,14632,PROD-18,Benchmark V1,To Do,12/Oct/25 9:05 AM
"SP Ads - All | Bid Strategy Logs UI - Display Fixed, Floor & Ceiling Bids as Blank if these are expired or not Present on the corresponding Dates",PROD-55,11520,Task,Clarification from PM,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,Kostyantyn Solovtsov,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,Kostyantyn Solovtsov,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,16/Jul/25 3:02 AM,15/Jan/26 4:16 AM,,,, [Advertising] [v2] -[February 1st Release],,0,,,"*Where is it?*
Bids Log UI [https://portal.keplercommerce.com/amazon-ads/bid-strategy-logs?|https://portal.keplercommerce.com/amazon-ads/bid-strategy-logs?|smart-link] 

*What is it?*
When  fixed/Floor/Fixed Bids period expired system still stored this value (bids value and Expired date) in the report and in the UI. This create some mess in data and confused users.
It is also very disruptive when the user filters by the bids values (Fixed/Ceiling/Floor)

What is need to do:
 Can we add additional feature which remove expired bids and their date from :
1. UIs
2. Reports


cc: [~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] ",,abdul,Andrew Pomaz,Kostyantyn Solovtsov,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,,,,,,,,,,,,,0,0,,,0,0,,,,,,,,,,,,,,,,,,,21/Oct/25 2:59 AM;d2a95269-cc51-4c1b-aa6d-b327487ceaa6;image-20251021-091803.png;https://keplercommerce.atlassian.net/rest/api/3/attachment/content/14455,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@75e33967,,,,,,,,,,,,,,,,,,,,,,,,,,,0|hzzzw5:0zv,,,,,,,,,,,,,,,,,,2025-08-18 09:51:57.191,,18/Aug/25 2:51 AM;712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08;I need a sample how it will be on the UI,10/Oct/25 11:42 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:f3cab010-5271-43c1-acd3-3156ad0572f2] Can you respond please,"21/Oct/25 2:59 AM;712020:f3cab010-5271-43c1-acd3-3156ad0572f2;Hi [~accountid:712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08] If it problem for now because we does not store history log please feel free to skip it.

However I can provide more context:

For instance:
Client: Puro Sentido
Campaign: XXXXXX-SPAU-PB01-XX-S-B0B38C1JVG-C-KW

Keyword: close-match
Floor Bid: 0.26
Floor Bid - Expiry: 09/20/2025

Currently (2025-10-21) it looks on UI like this

Per what we can see on UI 
Last time system recalculated Bid October 9
system still show us Floor Bid however Bid was expiry September 20

!image-20251021-091803.png|width=214,alt=""image-20251021-091803.png""!



*What need to be done:*

 Bid Strategy Logs
Link to UI [https://portal.keplercommerce.com/amazon-ads/bid-strategy-logs?ordering=-campaign_name&keyword__campaign__name=XXXXXX-SPAU-PB01-XX-S-B0B38C1JVG-C-KW|https://portal.keplercommerce.com/amazon-ads/bid-strategy-logs?ordering=-campaign_name&keyword__campaign__name=XXXXXX-SPAU-PB01-XX-S-B0B38C1JVG-C-KW|smart-link] 

On Bid Strategy Log UI 

 if Ceiling/Floor/Exact bid it no longer relevant (Expiry) we want to see blank values

All rows that system create after September 20 should be with Blank Floor Bids",,,,,,,,14641,PROD-59,Lisiting Creation,In Progress,18/Aug/25 2:51 AM
Search Term Config UI | Fix: Bulk Import Template is not aligned with the mockup template,PROD-34,11355,Task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,Kostyantyn Solovtsov,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,Kostyantyn Solovtsov,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,09/Jul/25 4:55 AM,25/Nov/25 7:33 AM,,27/Oct/25 12:47 AM,, [Advertising] [v2] -[February 1st Release],27/Oct/25 12:00 AM,0,Advertising,,"Search Term ConfigUI

Link to UI: [https://portal.keplercommerce.com/amazon-ads/search-term/config|https://portal.keplercommerce.com/amazon-ads/search-term/config|smart-link] 


The Bulk Import Template in the Search Term UI is not following the instructions (currently user can download the KW Config Template)
[+UI Mockup_v2_FRD & Proposed Workflow of Auto Ad Management for RAAS/Agency+|https://docs.google.com/spreadsheets/d/1EFjiUEIjbZFh4r01BiPfnUy9bPxwXui_SyRWH_jB4Ww/edit?gid=79513975#gid=79513975&range=CS2:CW2]

In this case user can manage negative status on Amazon in bulk",,Automation for Jira,Kostyantyn Solovtsov,,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:f3cab010-5271-43c1-acd3-3156ad0572f2,,,,,,,,,,,,,,14400,14400,,0%,14400,14400,,,,,,,,,,,,,,,,PROD-614,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@12c1a5b7,,,,,,,,,,,,,,,,,,,,,,,,,,,0|hzzzw5:0zz9,,,,JS6: 13 Oct - 24 Oct,,,13/Oct/25 12:00 AM,,,,,,,,,,Engineering,2025-10-27 07:47:02.617,3_*:*_1_*:*_3956_*|*_10033_*:*_2_*:*_8053057363_*|*_10198_*:*_2_*:*_158588655_*|*_10594_*:*_2_*:*_344242737_*|*_10563_*:*_1_*:*_11218505_*|*_10003_*:*_1_*:*_161884454_*|*_10564_*:*_3_*:*_708836602,"14/Oct/25 12:11 AM;712020:f3cab010-5271-43c1-acd3-3156ad0572f2;Per additional discussion with [~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] we will use the same statuses which [~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] provided to us earlier for UI part


* For Column â€˜Negative Status Manualâ€™ system will accept 3 types of statuses:
** {{""Manually Mark a Searchterm as Negative""}} â†’ {{""Negative""}}
** {{""Remove an existing Negative Status""}} â†’ {{""Not Negative""}}
** {{"" ""}} â†’ remains unchanged as {{"" ""}}  (Blank)",27/Oct/25 12:47 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Task added to the Testing Board.,,,,,,,,,14631,PROD-9,ADS: Miscellaneous,Done,26/Oct/25 10:32 AM
"SP Ads Manual KW Targeting | High Performing Search Term Isolation - Make Updates on the UI for High Performing Search Terms, KWs & their Campaigns",PROD-14,10713,Sub-task,Done,PROD,PORTAL/SAAS,software,Andrew Pomaz,712020:89ca9409-a671-4f8f-ae2f-07ad5741bc08,,Medium,Done,Pavlo Lisovets,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,abdul,712020:e813912b-2faa-4502-b664-d2c4f1feee07,16/Jun/25 5:43 AM,15/Jan/26 4:19 AM,,13/Nov/25 8:38 AM,, [Advertising] [v2] -[February 1st Release],,0,Advertising,,"h2. *Objective*

This ticket defines the UI display updates across Search Term, KW Config, and Campaign Config views to reflect the status of search term isolation and solo campaign logic for high-performing keywords. It ensures transparency of system-driven actions by surfacing contextual system remarks at the row level.



h2. *Requirements*

h3. *A. Search Term UI*

* For every *search term labeled as a high performer*, display the following under the *â€œSystem Remarksâ€* column:
** {{High Performing}}
* The note should only be displayed:
** On the row containing the specific *search term and ASIN combination* that triggered the high performer status.



h3. *B. KW Config UI*

* *For keywords under the solo high-performing campaign*:
** Add the note:
{{High Performing}}
*** To be shown in the *â€œSystem Remarksâ€* column.
*** Only display this on the row containing the *keyword, ASIN, and solo campaign*.
* *When a keyword is paused automatically due to solo campaign activation*:
** Add the note:
{{Paused â€“ Exists in HP Solo Campaign}}
** This note should be shown:
*** Only for the *exact match keyword rows* in *non-solo campaigns* against the specific ASIN under which the search term was triggered as high performing.
*** It *must not appear* in the solo campaign row for the same keyword.



h3. *C. Campaign Config UI*

* Solo campaigns should be *displayed similarly to other campaigns*, with the same columns and controls:
** Allow input of *Target ACOS*, *Budget*, and *Status*.
* *Relevancy Display for Solo Campaigns*:
** For solo campaigns targeting a high-performing keyword:
*** Under the *â€œRelevancyâ€* column (or a new column if needed), display the *keyword being targeted*.
*** This can be parsed from the final segment of the campaign name (as per naming convention), which defaults to {{""KW""}} for regular campaigns but will reflect the *actual keyword* for solo campaigns.
** If needed, introduce a dedicated column named *â€œTargeted KWâ€* for this purpose.",,abdul,Pavlo Lisovets,,,,712020:e813912b-2faa-4502-b664-d2c4f1feee07,712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95,,,,;13/Nov/25 1:53 AM;0ced9b15-32ea-40e5-977d-17b509eb0f6b;28800,,,,,,,,,,28800,0,28800,100%,28800,0,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@263a4da7,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i005qs:,,,,,,,,,,,,,,,,,,2025-10-28 15:18:25.823,3_*:*_1_*:*_4409561_*|*_10033_*:*_2_*:*_10042601702_*|*_10198_*:*_2_*:*_152184193_*|*_10594_*:*_1_*:*_0_*|*_10563_*:*_2_*:*_1096088063_*|*_10562_*:*_1_*:*_1300051180_*|*_10003_*:*_1_*:*_354446358,"28/Oct/25 8:18 AM;712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95;[~accountid:712020:e813912b-2faa-4502-b664-d2c4f1feee07] Could you please advise on this:
*_This can be parsed from the final segment of the campaign name (as per naming convention), which defaults to KW for regular campaigns but will reflect the actual keyword for solo campaigns_*.

In some campaign names, the keyword might be truncated due to the maximum allowed length. In such cases, what should we do â€” use the truncated version from the campaign name, or look for another way to retrieve and display the full keyword?","29/Oct/25 10:03 AM;712020:e813912b-2faa-4502-b664-d2c4f1feee07;[~accountid:712020:b73737cf-f8d9-472e-aaaa-bdb3bd461b95] If you can display the full kw that is going to be the most ideal so please look for another way to retrieve and display full kw.

If its very complicated then truncated will work but try for the full first.",,,,,,,,,17006,PROD-1130,Manual KW Targeting - Isolation Logic Engine,Done,13/Nov/25 1:52 AM
