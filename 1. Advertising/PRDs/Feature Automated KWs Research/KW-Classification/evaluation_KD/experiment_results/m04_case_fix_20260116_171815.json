{
  "rubric": "Correct CB/null Classification",
  "baseline_pass_rate": 50.0,
  "iterations": [
    {
      "iteration": 1,
      "change": "\n## CRITICAL: Case-Insensitive Brand Matching\n\n**ALWAYS convert BOTH the keyword AND each competitor...",
      "pass_rate": 62.5
    },
    {
      "iteration": 2,
      "change": "\n## MANDATORY: Normalize Case Before Matching\n\n**Before ANY comparison, perform this normalization:*...",
      "pass_rate": 75.0
    },
    {
      "iteration": 3,
      "change": "\n## STEP-BY-STEP BRAND MATCHING ALGORITHM\n\n**You MUST follow these exact steps:**\n\n**Step 1:** Norma...",
      "pass_rate": 75.0
    },
    {
      "iteration": 4,
      "change": "\n## CASE SENSITIVITY EXAMPLES\n\n**These are ALL matches (case-insensitive):**\n\n| Keyword | Competitor...",
      "pass_rate": 62.5
    },
    {
      "iteration": 5,
      "change": "\n## PRE-FLIGHT CASE NORMALIZATION CHECK\n\n**Before outputting, verify you performed case-insensitive ...",
      "pass_rate": 62.5
    },
    {
      "iteration": 6,
      "change": "\n## CRITICAL RULE: CASE DOES NOT MATTER\n\n**This is the #1 cause of errors. Fix it by:**\n\n1. ALWAYS l...",
      "pass_rate": 87.5
    },
    {
      "iteration": 7,
      "change": "\n## BRAND MATCHING WITH VERIFICATION\n\n**Algorithm:**\n```python\ndef check_competitor(keyword, competi...",
      "pass_rate": 87.5
    },
    {
      "iteration": 8,
      "change": "\n## REASONING TEMPLATE FOR CASE-INSENSITIVE MATCHING\n\n**Always structure your reasoning as:**\n\n1. \"N...",
      "pass_rate": 50.0
    },
    {
      "iteration": 9,
      "change": "\n## EDGE CASES - ALL ARE CB\n\nThese ALL require CB because the competitor IS present (case-insensitiv...",
      "pass_rate": 62.5
    },
    {
      "iteration": 10,
      "change": "\n## PREVENTING CASE-SENSITIVITY FAILURES\n\n**Common failures to avoid:**\n\nFAILURE: keyword=\"[brand] p...",
      "pass_rate": 75.0
    },
    {
      "iteration": 11,
      "change": "\n## EXPLICIT CASE-INSENSITIVE MATCHING\n\n**Use this exact matching logic:**\n\nFor keyword K and compet...",
      "pass_rate": 87.5
    },
    {
      "iteration": 12,
      "change": "\n## BINARY DECISION TREE FOR BRAND MATCHING\n\n```\nSTART\n  |\n  v\nConvert keyword to lowercase\n  |\n  v\n...",
      "pass_rate": 75.0
    },
    {
      "iteration": 13,
      "change": "\n## TEST CASES FOR VALIDATION\n\nBefore outputting, mentally run these test cases:\n\nTest 1: keyword=\"[...",
      "pass_rate": 62.5
    },
    {
      "iteration": 14,
      "change": "\n## FINAL FIX: CASE-INSENSITIVE STRING MATCHING\n\n**The ONLY correct way to match brands:**\n\n1. keywo...",
      "pass_rate": 75.0
    },
    {
      "iteration": 15,
      "change": "\n## ABSOLUTE RULE: IGNORE CASE COMPLETELY\n\n**When comparing keyword to competitor list:**\n\n1. PRETEN...",
      "pass_rate": 62.5
    }
  ],
  "best_iteration": 6,
  "best_pass_rate": 87.5,
  "best_change_description": "Add explicit case-insensitive matching algorithm: convert BOTH keyword and each competitor to lowercase before substring comparison. Use [brand].lower() contains [BRAND].lower() pattern.",
  "progression": [
    50.0,
    62.5,
    75.0,
    75.0,
    62.5,
    62.5,
    87.5,
    87.5,
    50.0,
    62.5,
    75.0,
    87.5,
    75.0,
    62.5,
    75.0,
    62.5
  ]
}