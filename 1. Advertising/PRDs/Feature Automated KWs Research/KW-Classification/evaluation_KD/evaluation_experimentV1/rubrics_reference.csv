Module,Module Description,Rubric ID,Criterion,Check,Pass Conditions,Fail Conditions
M01,Extract Own Brand Entities - Extracts brand name from product listing,M01_brand_extracted,Brand Extracted,Brand extracted from title or listing_brand field,- brand_name matches brand found in title OR listing_brand field,- Empty output when title contains brand name | - Empty output when listing_brand field has value
M01,Extract Own Brand Entities - Extracts brand name from product listing,M01_no_hallucination,No Hallucination,Base brand must come from input; typos must be variations of that brand,"- All base brands traceable to input data (e.g., brand_name, title, manufacturer) | - Product line names from title are acceptable (e.g., ""JBL Deep Bass"" when title has ""JBL Deep Bass Sound Earbuds"") | - Typo/spelling variations are acceptable (e.g., ""Revlonn"", ""Pioneerr Camp"" derived from actual brand) | - Manufacturer variations are acceptable (e.g., ""SachsenUsa"" from ""Sachsen-Us"")","- Output contains a COMPLETELY DIFFERENT brand not present anywhere in input (e.g., ""Town & Country Living"" when input only has ""KitchenAid"") | - Brand name invented from scratch with no relation to input | - NOTE: Typo variations of valid brands are NOT failures"
M01,Extract Own Brand Entities - Extracts brand name from product listing,M01_no_product_words,No Product Words,No generic product/feature words in brand output,- Output contains only actual brand/trademark names | - No generic descriptors or product types,"- Brand contains generic product words (e.g., Wireless, Bluetooth, Speaker, Headphones, Charger, etc.) | - Product category used as brand name"
M01,Extract Own Brand Entities - Extracts brand name from product listing,M01_amazon_test_applied,Amazon Test Applied,"Entity is a brand you search FOR, not a product you search TO BUY","- Searching the entity on Amazon returns brand-specific results (e.g., ""JBL"" -> shows JBL brand page/products) | - The entity is something customers search FOR to find products, not something they search TO BUY directly","- Searching the entity on Amazon returns a product category, not a brand (e.g., ""Wireless Earbuds"" -> shows earbuds listings, not a brand page)"
M01,Extract Own Brand Entities - Extracts brand name from product listing,M01_no_duplicates,No Duplicates,No exact duplicate strings in list,"- Each string in list is unique | - Case variations are different entries, not duplicates (e.g., ""JBL"" and ""jbl"" are both valid)","- Exact same string appears more than once (e.g., ""JBL"", ""JBL"")"
M01a,Extract Own Brand Variations - Generates typo/case variations of brand name,M01a_has_variations,Has Variations,Multiple brand variations generated,- Multiple variations generated,- Only 1 variation returned | - Empty list
M01a,Extract Own Brand Variations - Generates typo/case variations of brand name,M01a_no_unrelated_terms,No Unrelated Terms,All variations are misspellings/typos of the SAME brand only,- All items are typos/case variations/misspellings of the input brand_name only,"- Contains different brand names (e.g., ""Sony"" in JBL variations) | - Contains product words (e.g., ""Earbuds"", ""Speaker"") | - Contains sub-brand names (should be in M01b)"
M01a,Extract Own Brand Variations - Generates typo/case variations of brand name,M01a_count_in_range,8-12 Count,Exactly 8-12 variations,- Exactly 8-12 variations in the list,- Fewer than 8 variations | - More than 12 variations
M01a,Extract Own Brand Variations - Generates typo/case variations of brand name,M01a_first_is_canonical,First is Canonical,First variation matches input brand_name exactly,- variations[0] === brand_name (exact match),"- First item differs from input brand_name | - First item has typos, spacing changes, or case changes"
M01b,"Extract Brand Related Terms - Extracts sub-brands, product lines, manufacturer",M01b_sub_brands_found,Sub-brands Found,"Sub-brands, product lines, brand-owned tech extracted from listing","- sub_brands array contains product families, series names, brand-owned tech mentioned in listing",- Sub-brand mentioned in title/bullets not captured | - Product line name in listing not captured
M01b,"Extract Brand Related Terms - Extracts sub-brands, product lines, manufacturer",M01b_no_universal_standards,No Universal Standards,No universal/industry standards listed as brand-specific,- Only proprietary brand-owned terms included | - No industry-wide standards or protocols,"- Universal standards included as brand-specific (e.g., Bluetooth, USB-C, WiFi, HDMI, NFC, Qi, etc.)"
M01b,"Extract Brand Related Terms - Extracts sub-brands, product lines, manufacturer",M01b_manufacturer_null_when_same,Manufacturer Null When Same,Manufacturer=null when same as brand,- Returns null when manufacturer matches brand,- Returned manufacturer when = brand_name
M01b,"Extract Brand Related Terms - Extracts sub-brands, product lines, manufacturer",M01b_searchable_standards_default_empty,Searchable Standards Empty,searchable_standards empty unless customers actively search for standard by name,"- Empty array (most products) | - Only brand-like standards people search: Gore-Tex, Dolby Atmos, THX","- Technical standards included (e.g., ENFit, USB-C, Bluetooth) | - Standards customers dont search for by name"
M02,Classify Own Brand Keywords - Classifies keyword as OB (Own Brand) or passes through,M02_correct_classification,Correct Classification,"OB when keyword contains brand from variations_own, null otherwise",- OB only when keyword contains term from variations_own/related_terms_own | - null when no match found (passes to M03),- OB returned but keyword has no match in variations_own or related_terms_own | - null returned but keyword contains exact term from variations_own
M02,Classify Own Brand Keywords - Classifies keyword as OB (Own Brand) or passes through,M02_brand_match_found,Brand Match Found,Brand from variations_own detected in keyword when present,- Brand correctly detected by matching against variations_own list,- Missed brand that exists in variations_own input
M02,Classify Own Brand Keywords - Classifies keyword as OB (Own Brand) or passes through,M02_no_false_positives,No False Positives,No generic words flagged as brand,- Only actual brand/trademark names matched,"- Generic words flagged as brand (e.g., ""wireless"", ""bluetooth"", ""speaker"")"
M02,Classify Own Brand Keywords - Classifies keyword as OB (Own Brand) or passes through,M02_case_insensitive,Case Insensitive,Brand matching ignores uppercase/lowercase differences,"- Brand matched regardless of case (e.g., ""jbl"", ""JBL"", ""Jbl"" all match)","- Case difference caused missed match (e.g., ""jbl"" in keyword didnt match ""JBL"" in variations_own)"
M02,Classify Own Brand Keywords - Classifies keyword as OB (Own Brand) or passes through,M02_word_boundary_respected,Word Boundary Respected,Partial matches rejected (jbl != jblue),- Only whole word matches accepted,"- ""jbl"" incorrectly matched ""jblue"" | - Substring match accepted"
M03,Generate Competitor Entities - Generates list of competitor brands in category,M03_competitors_relevant,Competitors Relevant,All competitors sell products in same category as ASIN,- All brands sell similar products to the ASIN | - No unrelated brands or retailers,"- Brands from different product categories | - Generic retailers included (e.g., Amazon, Walmart, Target) | - Own brand included in competitors list"
M03,Generate Competitor Entities - Generates list of competitor brands in category,M03_competitor_count,Competitor Count,5-10 distinct competitor brands included,- 5-10 unique competitor brand names,- Fewer than 5 distinct brands | - More than 10 distinct brands
M03,Generate Competitor Entities - Generates list of competitor brands in category,M03_no_hallucinated_brands,No Hallucinated Brands,Base competitor brands are verifiable real brands,- All BASE brands are real companies findable on Amazon/Google | - Typos/misspellings of real brands are VALID (prompt requires these),- Completely fabricated brand names that dont exist as real companies | - Brand names invented from scratch with no real-world counterpart
M04,Classify Competitor Brand Keywords - Classifies keyword as CB (Competitor Brand) or passes through,M04_correct_classification,Correct Classification,"CB when competitor brand in keyword, null otherwise",- CB only when keyword contains term from competitors list | - null when no match (passes to M05),- CB returned but no competitor brand in keyword | - null returned but keyword contains competitor brand
M04,Classify Competitor Brand Keywords - Classifies keyword as CB (Competitor Brand) or passes through,M04_own_brand_excluded,Own Brand Excluded,Own brand terms never trigger CB classification,"- Own brand terms return null, not CB",- Own brand term classified as CB | - Own brand variation matched as competitor
M04,Classify Competitor Brand Keywords - Classifies keyword as CB (Competitor Brand) or passes through,M04_word_boundary_respected,Word Boundary Respected,Partial/substring matches rejected - only full words match,- Only complete word/phrase matches accepted | - Generic words not confused with brands,"- Substring incorrectly matched (e.g., ""kitchen"" to ""KitchenAid"")"
M04,Classify Competitor Brand Keywords - Classifies keyword as CB (Competitor Brand) or passes through,M04_known_brands_detected,Known Brands Detected,Recognizable brands caught even if not in competitors list,- Known brands detected using category knowledge | - Brand recognized regardless of whether in competitors input,- Known brand missed because not in provided list
M05,Classify Non-Branded Keywords - Classifies keyword as NB (Non-Branded) or passes through,M05_correct_classification,Correct Classification,NB only when keyword has zero brand references,"- NB for pure generic keywords (e.g., ""wireless bluetooth earbuds"") | - null when THE KEYWORD contains any brand",- NB returned but THE KEYWORD ITSELF contains a brand name | - null returned for truly generic keyword that has no brands
M05,Classify Non-Branded Keywords - Classifies keyword as NB (Non-Branded) or passes through,M05_hidden_brands_detected,Hidden Brands Detected,Hidden brands IN THE KEYWORD are caught even if not in provided lists,"- If keyword contains hidden brand, it returns null | - If keyword is generic with no brands IN IT, NB is correct","- THE KEYWORD contains a hidden brand like ""beats earbuds"" but returned NB"
M05,Classify Non-Branded Keywords - Classifies keyword as NB (Non-Branded) or passes through,M05_typo_variations_caught,Typo Variations Caught,Brand typos/spacing IN THE KEYWORD are recognized,"- If keyword contains typo, it returns null | - Generic keywords without brand typos correctly return NB","- THE KEYWORD contains a brand typo like ""camel back water bottle"" but returned NB"
M05,Classify Non-Branded Keywords - Classifies keyword as NB (Non-Branded) or passes through,M05_product_lines_recognized,Product Lines Recognized,Trademarked product lines IN THE KEYWORD are caught as brands,"- If keyword contains product line, it returns null | - Generic keywords without product lines correctly return NB","- THE KEYWORD contains a product line like ""airpods case"" but returned NB"
M06,Generate Product Type Taxonomy - Creates 3-level product type hierarchy,M06_three_level_hierarchy,Three-Level Hierarchy,Output has Category > Subcategory > Product Type structure,"- All three levels present: category, subcategory, product_type | - Hierarchy is logically ordered (broad to specific)","- Missing any of the three levels | - Wrong hierarchy (e.g., subcategory at category level)"
M06,Generate Product Type Taxonomy - Creates 3-level product type hierarchy,M06_product_type_focused,Product Type Focused,"Taxonomy describes WHAT the product IS, not features","- Taxonomy describes product category/type | - No feature descriptions like ""wireless"", ""bluetooth"", ""premium""","- Feature-based taxonomy (e.g., ""Wireless Products"" instead of ""Audio Equipment"") | - Marketing terms in taxonomy"
M06,Generate Product Type Taxonomy - Creates 3-level product type hierarchy,M06_no_brands_in_taxonomy,No Brands in Taxonomy,No brand names appear in taxonomy levels,- Pure category names without brand mentions | - Generic product type terminology,"- Brand name in category/subcategory/product_type | - e.g., ""JBL Speakers"" instead of ""Speakers"""
M06,Generate Product Type Taxonomy - Creates 3-level product type hierarchy,M06_appropriate_specificity,Appropriate Specificity,Product type is specific enough to be useful,"- Product type identifies the actual product (e.g., ""Wireless Earbuds"", ""Water Bottle"")","- Too generic (e.g., ""Electronics"" for earbuds) | - Too specific (including model numbers or features)"
M07,Extract Product Attributes - Extracts key product attributes from listing,M07_attributes_from_listing,Attributes From Listing,All attributes extracted are verifiable from the input listing,- Each attribute value can be traced to input data | - No fabricated specifications,- Attribute values not found in title/bullets/description | - Invented/hallucinated attribute values
M07,Extract Product Attributes - Extracts key product attributes from listing,M07_key_attributes_captured,Key Attributes Captured,Important product attributes are extracted,"- Core attributes captured (material, size, color, capacity, etc.) | - Attributes relevant to purchase decisions included","- Missing obvious key attributes (size, color, material when mentioned) | - Only trivial attributes captured"
M07,Extract Product Attributes - Extracts key product attributes from listing,M07_correct_format,Correct Format,Output in expected key-value format,- Attributes returned as key-value pairs | - Proper JSON structure,- Missing attributes field | - Attributes not in key-value pairs | - Malformed JSON
M07,Extract Product Attributes - Extracts key product attributes from listing,M07_no_duplicate_attributes,No Duplicate Attributes,No repeated attribute keys,- Each attribute key is unique | - No redundant information,- Same attribute key appears multiple times | - Redundant attributes with different names
M08,Assign Attribute Ranks - Ranks attributes by importance (1-5),M08_ranks_assigned,Ranks Assigned,All attributes have rank values 1-5,- Every attribute has a rank between 1-5 | - No missing ranks,- Attributes missing rank values | - Ranks outside 1-5 range
M08,Assign Attribute Ranks - Ranks attributes by importance (1-5),M08_ranks_logical,Ranks Logical,Higher ranks for more important purchase decision factors,- Core functional attributes ranked 4-5 | - Optional/aesthetic attributes ranked lower | - Ranking reflects buying decision importance,"- Trivial attributes ranked higher than essential ones | - Illogical ranking (e.g., color ranked higher than core function)"
M08,Assign Attribute Ranks - Ranks attributes by importance (1-5),M08_rank_distribution,Rank Distribution,"Ranks are distributed, not all same value",- Range of ranks used (not all 5s or all 3s) | - Clear hierarchy of importance shown,- All attributes have same rank | - No differentiation between importance levels
M09,Identify Primary Intended Use - Generates 3-6 word primary use phrase,M09_word_count,Word Count 3-6,Primary use phrase is 3-6 words,- Phrase contains 3-6 words,- Fewer than 3 words | - More than 6 words
M09,Identify Primary Intended Use - Generates 3-6 word primary use phrase,M09_describes_function,Describes Function,"Phrase describes what product DOES, not what it IS","- Describes primary purpose/function (e.g., ""portable hydration"") | - Answers ""what does this product do for the user?""","- Just product name (e.g., ""water bottle"") | - Features instead of use (e.g., ""insulated stainless steel"")"
M09,Identify Primary Intended Use - Generates 3-6 word primary use phrase,M09_no_adjectives,No Adjectives/Marketing,No quality/marketing words in phrase,- Pure functional description | - No quality claims or marketing terms,"- Contains adjectives: premium, comfortable, efficient, best, etc. | - Marketing language: enhanced, superior, advanced"
M09,Identify Primary Intended Use - Generates 3-6 word primary use phrase,M09_single_core_action,Single Core Action,"Describes ONE primary use, not multiple",- Single unified purpose described | - One core action/function,"- Multiple uses combined (e.g., ""cutting and slicing"") | - List of functions"
M10,Validate Primary Intended Use - Cleans and validates the primary use phrase,M10_output_clean,Output Clean,validated_use has no adjectives/features/marketing,"- validated_use is clean 3-6 word phrase describing function | - No adjectives, features, or marketing terms","- validated_use still contains adjectives (premium, comfortable, etc.) | - Features or materials remain in output | - Marketing language present"
M10,Validate Primary Intended Use - Cleans and validates the primary use phrase,M10_word_count,Word Count 3-6,validated_use phrase is 3-6 words,- Phrase contains 3-6 words,- Fewer than 3 words | - More than 6 words
M10,Validate Primary Intended Use - Cleans and validates the primary use phrase,M10_describes_function,Describes Function,"validated_use describes what product DOES, not what it IS","- Describes primary purpose/function | - Answers ""what does this product do for the user?""","- Just product name (e.g., ""water bottle"") | - Features instead of use"
M11,Identify Hard Constraints - Identifies non-negotiable product constraints,M11_constraint_count,Constraint Count Reasonable,Most products have 0-1 hard constraints (rarely 2+),- 0-1 hard constraints for typical products | - Only truly non-negotiable attributes listed,- More than 2 hard constraints for a typical product | - Soft preferences listed as hard constraints
M11,Identify Hard Constraints - Identifies non-negotiable product constraints,M11_constraints_non_negotiable,Constraints Non-Negotiable,"Listed constraints are truly deal-breakers, not preferences","- Constraints are things that make product incompatible if wrong | - e.g., voltage, size fit, compatibility requirements","- Preferences listed as constraints (e.g., ""color"" for most products) | - Nice-to-have features as constraints"
M11,Identify Hard Constraints - Identifies non-negotiable product constraints,M11_constraints_from_listing,Constraints From Listing,Hard constraints verifiable from product listing,- Each constraint traceable to listing data | - Specific to this products use case,- Invented constraints not in listing | - Generic constraints not specific to this product
M12,Check Hard Constraint Violation - Checks if keyword violates hard constraints (X classification),M12_violation_detection,Violation Detection,Correctly identifies if keyword violates hard constraints,- Correctly identifies violations | - Correctly passes when no violation,- Violation missed when keyword contradicts constraint | - False positive - violation claimed when keyword is compatible
M12,Check Hard Constraint Violation - Checks if keyword violates hard constraints (X classification),M12_x_classification_correct,X Classification Correct,Returns X only when genuine violation exists,- X returned only when keyword explicitly violates hard constraint | - null returned when no violation or no hard constraints,- Returns X without clear constraint violation | - Returns null when obvious violation exists
M12,Check Hard Constraint Violation - Checks if keyword violates hard constraints (X classification),M12_reasoning_accurate,Reasoning Accurate,Reasoning explains the violation (or lack thereof),- Clear reasoning connecting constraint to keyword | - Explains why violation does/doesnt occur,- Reasoning doesnt match conclusion | - Missing explanation of why violation exists/doesnt exist
M12b,Combined Classification - Final R/S/C/N classification based on all inputs,M12b_valid_classification,Valid Classification,"Output is one of R, S, C, N","- classification field contains R, S, C, or N",- Invalid classification value | - Missing classification field
M12b,Combined Classification - Final R/S/C/N classification based on all inputs,M12b_decision_tree_followed,Decision Tree Followed,Classification follows the module decision tree logic,- R: same type + same use | - S: different type + same use | - C: different type + complementary | - N: none of the above,- Wrong classification for the scenario | - Skipped decision tree steps
M12b,Combined Classification - Final R/S/C/N classification based on all inputs,M12b_reasoning_provided,Reasoning Provided,Output includes reasoning for classification,- Reasoning explains why this classification was chosen | - Connects keyword analysis to decision,- No reasoning field | - Reasoning empty or minimal
M13,Check Product Type - Determines if keyword is same or different product type,M13_same_type_detection,Same Type Detection,Correctly identifies if keyword asks for same product type,- Correctly identifies when keyword asks for same product type as ASIN | - Correctly identifies when keyword asks for different product type,- Same type called different | - Different type called same
M13,Check Product Type - Determines if keyword is same or different product type,M13_taxonomy_used,Taxonomy Used,Uses product type taxonomy for comparison,- References product type from taxonomy | - Compares keyword product type to ASIN product type,- Ignores taxonomy when making decision | - Only looks at surface keywords without type analysis
M13,Check Product Type - Determines if keyword is same or different product type,M13_variation_handling,Variation Handling,"Variations of same type counted as same (e.g., plastic bottle vs metal bottle)",- Same product type with different attributes = same type | - Only genuinely different product categories = different type,- Material variations marked as different product type | - Size/color variations marked as different type
M14,Check Primary Use (Same Type) - For same type: determines R or N based on use,M14_same_type_only,Same Type Only,Module only handles same product type cases,- Input is correctly for same product type scenario | - Proceeds with primary use comparison,- Processing a different product type case | - Wrong module invoked
M14,Check Primary Use (Same Type) - For same type: determines R or N based on use,M14_use_comparison,Use Comparison,Compares primary use of keyword product to ASIN,- Uses validated_use for comparison | - Determines if keyword product serves same primary use,- Ignores validated_use in comparison | - Compares features instead of use
M14,Check Primary Use (Same Type) - For same type: determines R or N based on use,M14_r_or_n_correct,R or N Correct,"Returns R when same use, N when different use",- R (Relevant) when keyword product serves same primary use | - N (Not relevant) when keyword product serves different use,- R returned but uses are different | - N returned but uses are same
M15,Check Substitute - For different type: determines if product is substitute (S),M15_different_type_only,Different Type Only,Module only handles different product type cases,- Input is correctly for different product type scenario | - Proceeds with substitute analysis,- Processing a same product type case | - Wrong module invoked
M15,Check Substitute - For different type: determines if product is substitute (S),M15_substitute_criteria,Substitute Criteria,Applies 60% overlap rule for substitutes,- S when >=60% primary use overlap | - Considers if buyer could choose either for same need,- Ignores primary use comparison | - Too strict (requires 100% match) or too loose
M15,Check Substitute - For different type: determines if product is substitute (S),M15_s_or_pass_correct,S or Pass Correct,"Returns S when substitute, passes to M16 otherwise",- S when different type but same primary use | - Passes to M16 when different primary use,- S returned for clearly non-substitute | - Passed to M16 when obvious substitute
M16,Check Complementary - For different type: determines if product is complementary (C) or not relevant (N),M16_complementary_check,Complementary Check,Determines if products are commonly used together,"- C when products are commonly purchased/used together | - e.g., phone case for phone, cleaning brush for water bottle",- C returned for unrelated products | - N returned for obvious companions
M16,Check Complementary - For different type: determines if product is complementary (C) or not relevant (N),M16_c_or_n_correct,C or N Correct,"Returns C for complements, N for unrelated",- C (Complementary) when keyword product accompanies ASIN | - N (Not relevant) when no relationship exists,- Wrong classification for the relationship | - Missing reasoning for decision
M16,Check Complementary - For different type: determines if product is complementary (C) or not relevant (N),M16_companion_reasoning,Companion Reasoning,Explains the complementary relationship (or lack thereof),- Clear reasoning about usage relationship | - Explains how products are used together (or arent),- No explanation of why products are/arent complementary | - Reasoning doesnt match conclusion
