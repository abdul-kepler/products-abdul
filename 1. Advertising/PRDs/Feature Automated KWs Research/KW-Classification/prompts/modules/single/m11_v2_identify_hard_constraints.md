# Module 11 (V2): Identify Hard Constraints

## Purpose

Determine which product attributes are non-negotiable for the product to function.

---

## CRITICAL: READ THIS FIRST

### The 99% Rule

**99% of consumer products have ZERO hard constraints.**

Before you identify ANY hard constraint, ask yourself:
> "Would a basic $1 version of this product category STILL perform the core function?"

- Basic earbuds (no bass, no waterproof) → Still play audio → 0 hard constraints
- Basic water bottle (plastic, no insulation) → Still holds water → 0 hard constraints
- Basic jacket (no waterproof, no insulation) → Still covers body → 0 hard constraints
- Basic tray (plastic, small) → Still carries items → 0 hard constraints

**Hard constraints are RARE. If you found one, you're probably wrong.**

---

## RED FLAGS: These Are NEVER Hard Constraints

**STOP! If you're about to mark any of these as hard constraints, you are making a mistake:**

### ❌ WEATHER/ENVIRONMENT Features
| Feature | Why NOT Hard | Example |
|---------|--------------|---------|
| Water Repellent | Product works when dry | Jacket still warms when dry |
| Water Resistant | Product works when dry | Earbuds still play when dry |
| Waterproof | Product works when dry | Phone case still protects when dry |
| Insulated | Product works without insulation | Non-insulated jacket still covers body |
| Windproof | Product works in calm weather | Jacket without windproof still warms |

### ❌ PERFORMANCE Specs
| Feature | Why NOT Hard | Example |
|---------|--------------|---------|
| 32hr battery | 2hr battery still plays | Earbuds with 2hr work |
| Deep Bass | Regular sound is still audio | Basic earbuds work |
| 500F heat resist | 300F still protects | Basic oven mitt works |
| 26lbs/day ice | 5lbs/day still makes ice | Slow ice maker works |

### ❌ MATERIAL Choices
| Feature | Why NOT Hard | Example |
|---------|--------------|---------|
| Stainless Steel | Plastic holds liquid too | Basic bottle works |
| Silicone | Cotton protects heat too | Basic oven mitt works |
| Bamboo | Plastic serves too | Basic tray works |
| Nylon Shell | Cotton jacket still warms | Basic jacket works |

### ❌ QUALITY Markers
| Feature | Why NOT Hard | Example |
|---------|--------------|---------|
| Premium | Non-premium still functions | Basic version works |
| Sturdy | Less sturdy still holds | Basic organizer works |
| Long-lasting | Short-lasting still works | Basic product works |
| Hospital Grade | Consumer grade works | Basic syringe works |

---

## The Hard Constraint Test

For each attribute, apply this three-step test:

### Step 1: The "Complete Removal" Test

> **"If this attribute were COMPLETELY ABSENT, would the product be PHYSICALLY UNABLE to perform its core function?"**

Key word: **PHYSICALLY UNABLE** - not "worse", not "less effective", but UNABLE.

### Step 2: The "Mechanism vs Quality" Filter

> **"Is this THE MECHANISM that enables function, or a QUALITY MODIFIER?"**

| Type | Hard Constraint? |
|------|------------------|
| MECHANISM | Maybe (rare) |
| QUALITY | NEVER |
| DURABILITY | NEVER |
| PERFORMANCE | NEVER |

### Step 3: The "Basic Product" Check

> **"Does a basic $1 version of this product category have this attribute?"**

- Basic earbuds have: speakers ✓
- Basic earbuds DON'T have: deep bass, waterproof, 32hr battery
- If basic version lacks it → NOT a hard constraint

---

## WORKED EXAMPLES

### Example A: Puffer Jacket
**Validated Use:** "Keeping body warm in cold weather"

| Attribute | Step 1: Remove? | Step 2: Type | Step 3: Basic has it? | HARD? |
|-----------|-----------------|--------------|----------------------|-------|
| Insulated | Body still covered | QUALITY | No, basic jackets exist | **NO** |
| Water Repellent | Jacket still warms when dry | DURABILITY | No | **NO** |
| Windproof | Jacket still warms in calm | QUALITY | No | **NO** |
| Lightweight | Heavy jacket still warms | QUALITY | No | **NO** |
| Packable | Non-packable still warms | CONVENIENCE | No | **NO** |

**Result: 0 hard constraints**

**Common mistake:** "But a puffer jacket NEEDS insulation!"
**Correction:** The validated use is "keeping warm" - a basic uninsulated jacket provides SOME warmth. Insulation is QUALITY (how much warmth), not MECHANISM.

### Example B: True Wireless Earbuds
**Validated Use:** "Listening to audio"

| Attribute | Step 1: Remove? | Step 2: Type | Step 3: Basic has it? | HARD? |
|-----------|-----------------|--------------|----------------------|-------|
| Bluetooth 5.2 | BT 4.0 still transmits | VERSION | No | **NO** |
| Deep Bass | Regular sound works | QUALITY | No | **NO** |
| 32hr Battery | 2hr still plays | PERFORMANCE | No | **NO** |
| Water Resistant | Works when dry | DURABILITY | No | **NO** |
| IP54 | Works indoors | DURABILITY | No | **NO** |

**Result: 0 hard constraints**

### Example C: Water Bottle
**Validated Use:** "Carrying drinks for hydration"

| Attribute | Step 1: Remove? | Step 2: Type | Step 3: Basic has it? | HARD? |
|-----------|-----------------|--------------|----------------------|-------|
| Stainless Steel | Plastic holds liquid | MATERIAL | No | **NO** |
| Insulated | Non-insulated holds liquid | FEATURE | No | **NO** |
| BPA-Free | Still holds liquid | SAFETY | No | **NO** |
| 24oz | Any size holds liquid | SIZE | No | **NO** |

**Result: 0 hard constraints**

### Example D: iPhone 15 Pro Case
**Validated Use:** "Protecting phone from damage"

| Attribute | Step 1: Remove? | Step 2: Type | Step 3: Basic has it? | HARD? |
|-----------|-----------------|--------------|----------------------|-------|
| iPhone 15 Pro Fit | Wrong size = no protection | MECHANISM | N/A (device specific) | **YES** |
| Silicone Material | Other materials protect | MATERIAL | No | **NO** |
| MagSafe | Still protects without | FEATURE | No | **NO** |

**Result: 1 hard constraint** (Device Compatibility)

**Why this one is valid:** iPhone 14 case PHYSICALLY CANNOT protect iPhone 15 - wrong dimensions. This is physical incompatibility, not quality.

### Example E: Oven Mitt
**Validated Use:** "Heat protection when cooking"

| Attribute | Step 1: Remove? | Step 2: Type | Step 3: Basic has it? | HARD? |
|-----------|-----------------|--------------|----------------------|-------|
| Heat Resistant | No protection = burns | MECHANISM | Yes, basic mitts have it | **YES** |
| 500F Rating | 300F still protects | QUALITY | No | **NO** |
| Silicone | Cotton protects too | MATERIAL | No | **NO** |

**Result: 1 hard constraint** (Heat Resistance)

**Why this one is valid:** Without ANY heat resistance, hands burn. This is the MECHANISM that enables protection.

---

## Input

**Product Title:** {{title}}

**Bullet Points:**
{{bullet_points}}

**Description:**
{{description}}

**Validated Intended Use:** {{validated_use}}

**Product Type Taxonomy:**
{{taxonomy}}

**Attributes:**
{{attribute_table}}

**Product Attributes:**
{{product_attributes}}

---

## Expected Distribution

| Count | Products |
|-------|----------|
| **0** | Earbuds, water bottles, jackets, trays, makeup, toys, organizers, ice makers, phone holders, syringes |
| **1** | Phone cases (device fit), oven mitts (heat resist), cables (connector type) |
| **2+** | Almost never - review if you found 2+ |

---

## Pre-Output Checklist

**BEFORE returning hard_constraints, verify:**

- [ ] Is this attribute in the NEVER categories above? → If yes, NOT a hard constraint
- [ ] Does a basic $1 version have this attribute? → If no, NOT a hard constraint
- [ ] Is this QUALITY, DURABILITY, or PERFORMANCE? → If yes, NOT a hard constraint
- [ ] Would a reasonable person say "this product is BROKEN" without it? → If no, NOT a hard constraint
- [ ] Am I marking more than 1 constraint? → If yes, review each one again

**If you found 2+ hard constraints, at least one is probably wrong. Review them.**

---

## Output Format

Return JSON:

```json
{
  "reasoning": "Step-by-step analysis applying the 3-step test to each attribute...",
  "hard_constraints": []
}
```

### Examples:

**Earbuds (0 constraints):**
```json
{
  "reasoning": "Analyzing Earbuds for 'Listening to audio'. Bluetooth 5.2: VERSION (NEVER category). Deep Bass: QUALITY (NEVER). Battery Life: PERFORMANCE (NEVER). Water Resistant: DURABILITY (NEVER). Conclusion: 0 hard constraints.",
  "hard_constraints": []
}
```

**Puffer Jacket (0 constraints):**
```json
{
  "reasoning": "Analyzing Jacket for 'Keeping warm'. Insulated: QUALITY modifier, basic jacket provides warmth without insulation. Water Repellent: DURABILITY (NEVER category). Windproof: QUALITY. Lightweight: QUALITY. Packable: CONVENIENCE. Conclusion: 0 hard constraints.",
  "hard_constraints": []
}
```

**iPhone Case (1 constraint):**
```json
{
  "reasoning": "Analyzing iPhone 15 Case for 'Protecting phone'. iPhone 15 Pro Fit: MECHANISM - wrong size case cannot physically attach to phone. This is device compatibility, not quality. MagSafe: FEATURE (removable). Material: MATERIAL choice. Conclusion: 1 hard constraint.",
  "hard_constraints": ["iPhone 15 Pro Fit"]
}
```
