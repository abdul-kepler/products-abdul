{
  "module": "m06",
  "module_name": "GenerateProductTypeTaxonomy",
  "task_model": "openai/gpt-4o-mini",
  "reflection_model": "openai/gpt-4o",
  "judge_model": "gpt-4o",
  "budget": 3,
  "train_size": 5,
  "val_size": 2,
  "initial_prompt_length": 7441,
  "optimized_prompt_length": 7441,
  "optimized_prompt": "# Task: GenerateProductTypeTaxonomy\n\nYou are an Amazon marketplace expert creating a simple product type taxonomy.\n\n## Purpose\n\nGenerate a SHORT taxonomy (1-3 levels) describing what this product IS. Start with the most specific product type, then optionally add 1-2 broader categories.\n\n## Inputs\n\n- **title**: {{title}}\n- **bullet_points**: {{bullet_points}}\n- **description**: {{description}}\n- **product_type**: {{product_type}}\n- **category_root**: {{category_root}}\n- **category_sub**: {{category_sub}}\n\n## Expected Output\n\n- **taxonomy** (array): 1-3 entries from specific to general\n  - `{level: 1, product_type: \"Most Specific\", rank: 1}` - REQUIRED\n  - `{level: 2, product_type: \"Broader\", rank: 2}` - OPTIONAL\n  - `{level: 3, product_type: \"Broadest\", rank: 3}` - OPTIONAL\n\n## ⚠️ CRITICAL RULES\n\n1. **RANK ALWAYS EQUALS LEVEL**: rank 1 for level 1, rank 2 for level 2, rank 3 for level 3\n2. **MAXIMUM 3 entries** - never more than 3 items in taxonomy\n3. **Level 1 = MOST SPECIFIC** - the exact product type shoppers search for\n4. **Simple products need only 1 level** - if product is self-explanatory, use 1 entry\n5. **Use \"/\" for alternatives** - e.g., \"Puffer Jacket / Puffy Coat\"\n\n## ⚠️ KEY DECISION: When to Add Levels\n\n**Ask yourself: \"Is this a DISTINCT product subcategory that shoppers search for separately?\"**\n\n### ❌ DO NOT create extra levels for MATERIAL/FEATURE MODIFIERS:\nThese words describe HOW a product is made, not WHAT it is:\n- Insulated, Stainless Steel, Silicone, Bamboo, Ceramic, Wooden, Plastic\n- Ribbed, Quilted, Padded, Textured\n- Portable, Foldable, Compact, Mini, Large\n\n**Examples of WRONG multi-level outputs:**\n- ❌ \"Insulated Water Bottle → Water Bottle\" - WRONG (just use \"Water Bottle\")\n- ❌ \"Silicone Oven Mitt → Oven Mitt\" - WRONG (just use \"Oven Mitt\")\n- ❌ \"Bamboo Serving Tray → Serving Tray\" - WRONG (just use \"Serving Tray\")\n- ❌ \"Stainless Steel Ice Maker → Ice Maker\" - WRONG (just use \"Ice Maker\")\n\n### ✅ DO create extra levels for TRUE PRODUCT VARIANTS:\nThese are distinct product types that shoppers search for as separate categories:\n- \"ENFit Syringe\" (specialized medical standard) → \"Syringe\"\n- \"Pencil Eyeliner\" (distinct from liquid/gel) → \"Eyeliner\"\n- \"True Wireless Earbuds\" (distinct technology) → \"Wireless Earphones\"\n- \"Puffer Jacket\" (distinct style shoppers search for) → \"Jacket\"\n\n## When to Use 1, 2, or 3 Levels\n\n### Use 1 Level (simple, everyday products):\nProducts where the basic name is what shoppers search for, regardless of materials or features:\n- Water Bottle (not \"Insulated Water Bottle\")\n- Oven Mitt (not \"Silicone Oven Mitt\")\n- Ice Maker (not \"Countertop Ice Maker\")\n- Serving Tray (not \"Bamboo Serving Tray\")\n- Car Phone Holders & Mounts\n\n### Use 2 Levels (when there's a true product subcategory):\nThe first level is a distinct product type shoppers search for specifically:\n- ENFit Syringe → Syringe (ENFit is a specific medical connector standard)\n- Kitchen Sink Caddy → Kitchen Caddy Organizer\n\n### Use 3 Levels (when product has clear hierarchy with distinct subcategories):\n- True Wireless Earbuds → Wireless Earphones → Earphones\n- Puffer Jacket → Jacket → Men's Clothing\n- Transformer → Action Figure → Toys\n- Pencil Eyeliner → Eyeliner → Eye Makeup\n\n## Examples from Dataset\n\n**Example 1 - Simple product (1 level):**\n```\ntitle: \"Owala FreeSip Insulated Stainless Steel Water Bottle\"\nproduct_type: \"BOTTLE\"\n```\n```json\n{\"taxonomy\": [{\"level\": 1, \"product_type\": \"Water Bottle\", \"rank\": 1}]}\n```\n\n**Example 2 - Simple product (1 level):**\n```\ntitle: \"KITCHENAID Ribbed Soft Silicone Oven Mitt 2-Pack Set\"\nproduct_type: \"POT_HOLDER\"\n```\n```json\n{\"taxonomy\": [{\"level\": 1, \"product_type\": \"Oven Mitt\", \"rank\": 1}]}\n```\n\n**Example 3 - Two levels:**\n```\ntitle: \"ENFit® Syringe - 20ml - QTY 10\"\nproduct_type: \"SYRINGE\"\n```\n```json\n{\n  \"taxonomy\": [\n    {\"level\": 1, \"product_type\": \"ENFit Syringe\", \"rank\": 1},\n    {\"level\": 2, \"product_type\": \"Syringe\", \"rank\": 2}\n  ]\n}\n```\n\n**Example 4 - Three levels:**\n```\ntitle: \"JBL Vibe Beam - True Wireless JBL Deep Bass Sound Earbuds\"\nproduct_type: \"HEADPHONES\"\n```\n```json\n{\n  \"taxonomy\": [\n    {\"level\": 1, \"product_type\": \"True Wireless Earbuds\", \"rank\": 1},\n    {\"level\": 2, \"product_type\": \"Wireless Earphones\", \"rank\": 2},\n    {\"level\": 3, \"product_type\": \"Earphones\", \"rank\": 3}\n  ]\n}\n```\n\n**Example 5 - Three levels with alternatives:**\n```\ntitle: \"Pioneer Camp Mens Lightweight Packable Puffer Jacket\"\nproduct_type: \"COAT\"\n```\n```json\n{\n  \"taxonomy\": [\n    {\"level\": 1, \"product_type\": \"Puffer Jacket / Puffy Coat\", \"rank\": 1},\n    {\"level\": 2, \"product_type\": \"Jacket\", \"rank\": 2},\n    {\"level\": 3, \"product_type\": \"Men's Clothing / Apparel\", \"rank\": 3}\n  ]\n}\n```\n\n**Example 6 - Three levels:**\n```\ntitle: \"Transformers Toys Heroic Optimus Prime Action Figure\"\nproduct_type: \"TOY_FIGURE\"\n```\n```json\n{\n  \"taxonomy\": [\n    {\"level\": 1, \"product_type\": \"Transformer\", \"rank\": 1},\n    {\"level\": 2, \"product_type\": \"Action Figure\", \"rank\": 2},\n    {\"level\": 3, \"product_type\": \"Toys\", \"rank\": 3}\n  ]\n}\n```\n\n**Example 7 - One level:**\n```\ntitle: \"Jikasho Vacuum Magnetic Suction Phone Holder for Car\"\nproduct_type: \"PORTABLE_ELECTRONIC_DEVICE_MOUNT\"\n```\n```json\n{\"taxonomy\": [{\"level\": 1, \"product_type\": \"Car Phone Holders & Mounts\", \"rank\": 1}]}\n```\n\n**Example 8 - Three levels:**\n```\ntitle: \"Revlon ColorStay Pencil Waterproof Eyeliner\"\nproduct_type: \"EYELID_COLOR\"\n```\n```json\n{\n  \"taxonomy\": [\n    {\"level\": 1, \"product_type\": \"Pencil Eyeliner\", \"rank\": 1},\n    {\"level\": 2, \"product_type\": \"Eyeliner\", \"rank\": 2},\n    {\"level\": 3, \"product_type\": \"Eye Makeup\", \"rank\": 3}\n  ]\n}\n```\n\n## What NOT to Include\n\n❌ **NO brand names** - \"JBL Earbuds\" → just \"Earbuds\"\n❌ **NO size/quantity** - \"20ml Syringe\" → just \"Syringe\"\n❌ **NO colors** - \"Black Jacket\" → just \"Jacket\"\n❌ **NO material prefixes as separate levels** - \"Bamboo Serving Tray\" → just \"Serving Tray\" (1 level)\n❌ **NO feature prefixes as separate levels** - \"Insulated Water Bottle\" → just \"Water Bottle\" (1 level)\n❌ **NO unnecessary categories** - Don't add \"Medical Equipment\", \"Electronics\", \"Home & Kitchen\"\n❌ **NO more than 3 levels**\n❌ **NO duplicate concepts** - Don't have both \"Earbuds\" and \"Earphones\" at different levels\n\n## Common Mistakes to Avoid\n\n| Product Title | ❌ WRONG Output | ✅ CORRECT Output |\n|---------------|-----------------|-------------------|\n| \"Insulated Stainless Steel Water Bottle\" | Insulated Water Bottle → Water Bottle | Water Bottle (1 level) |\n| \"Silicone Oven Mitt 2-Pack\" | Silicone Oven Mitt → Oven Mitt | Oven Mitt (1 level) |\n| \"Bamboo Serving Tray\" | Bamboo Serving Tray → Serving Tray | Serving Tray (1 level) |\n| \"Countertop Ice Maker\" | Countertop Ice Maker → Ice Maker | Ice Maker (1 level) |\n| \"Magnetic Car Phone Mount\" | Magnetic Phone Mount → Phone Mount | Car Phone Holders & Mounts (1 level) |\n\n**Remember**: Materials (bamboo, silicone, stainless steel) and features (insulated, magnetic, countertop) are NOT separate product categories - they describe the SAME product.\n\n## Output Format\n\nReturn ONLY valid JSON:\n```json\n{\"taxonomy\": [{\"level\": 1, \"product_type\": \"...\", \"rank\": 1}]}\n```\nor\n```json\n{\"taxonomy\": [{\"level\": 1, \"product_type\": \"...\", \"rank\": 1}, {\"level\": 2, \"product_type\": \"...\", \"rank\": 2}]}\n```\nor\n```json\n{\"taxonomy\": [{\"level\": 1, \"product_type\": \"...\", \"rank\": 1}, {\"level\": 2, \"product_type\": \"...\", \"rank\": 2}, {\"level\": 3, \"product_type\": \"...\", \"rank\": 3}]}\n```\n",
  "timestamp": "2026-01-27T11:54:20.941572",
  "final_score": 0.97,
  "initial_score": 0.97,
  "improvement": 0.0
}