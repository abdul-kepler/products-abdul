{
  "module": "m01b",
  "module_name": "ExtractBrandRelatedTerms",
  "task_model": "openai/gpt-4o-mini",
  "reflection_model": "openai/gpt-4o",
  "judge_model": "gpt-4o",
  "budget": 30,
  "train_size": 10,
  "val_size": 3,
  "initial_prompt_length": 9745,
  "optimized_prompt_length": 9745,
  "optimized_prompt": "# Task: ExtractBrandRelatedTerms\n\nExtract brand-related entities from Amazon product listings.\n\n## Input\n\n- **brand_name**: {{brand_name}}\n- **title**: {{title}}\n- **bullet_points**: {{bullet_points}}\n- **description**: {{description}}\n- **manufacturer**: {{manufacturer}}\n\n## Output Format\n\n```json\n{\n  \"sub_brands\": [],\n  \"searchable_standards\": [],\n  \"manufacturer\": null\n}\n```\n\n---\n\n## FIELD 1: sub_brands\n\nNamed sub-brands, product families, series, **or brand-owned technologies** within the parent brand.\n\n### INCLUDE in sub_brands:\n- Trademarked sub-brand names: `FreeSip`, `ColorStay`, `Vibe Beam`\n- Named product series: `Cyber Commander Series`\n- **Brand-owned technologies** that customers search WITH the brand:\n  - `OMNI-HEAT` (Columbia's technology) → people search \"Columbia OMNI-HEAT\"\n  - `IceFlow` (Stanley's product line) → people search \"Stanley IceFlow\"\n  - `QuietComfort` (Bose's product line) → people search \"Bose QuietComfort\"\n  - `TrueFX` (Mattel's technology) → collectors search \"Mattel TrueFX\"\n\n### EXCLUDE from sub_brands:\n- **Generic product types**: Pill Pouch, Pill Crusher, Water Bottle, Oven Mitt\n- **Feature descriptions**: Deep Bass Sound, Waterproof, Lightweight\n- **Size/color variants**: Large, Black, 24oz\n- **Marketing fluff nobody searches**: \"Adapti-Flex Color Lock Technology™\"\n\n### Test: Would someone search Amazon for \"[sub_brand] [brand]\"?\n- ✓ \"FreeSip Owala\" — YES, it's a sub-brand\n- ✓ \"ColorStay Revlon\" — YES\n- ✓ \"OMNI-HEAT Columbia\" — YES, brand technology\n- ✗ \"Pill Pouch Rx Crush\" — NO, that's a product type\n- ✗ \"Deep Bass Sound JBL\" — NO, marketing phrase\n\n---\n\n## FIELD 2: searchable_standards\n\n**UNIVERSAL industry standards that work ACROSS BRANDS - not brand-specific technologies.**\n\n### THE KEY DISTINCTION:\n- **Universal standard** = Works across brands → goes in `searchable_standards`\n- **Brand technology** = Only this brand uses it → goes in `sub_brands` (if searchable)\n\n### THE KEY QUESTION: Would shoppers search \"[this term] [product type]\" WITHOUT a brand name?\n\n### INCLUDE in searchable_standards (VERY RARE - most products have NONE):\n- **Licensed material standards**: `Gore-Tex` → people search \"Gore-Tex jacket\"\n- **Licensed audio/video tech**: `Dolby Atmos` → people search \"Dolby Atmos soundbar\"\n\n**That's basically it.** Most products should return `[]` for this field.\n\n### NOT searchable_standards (common mistakes):\n- **ISO/industry standards** that became universal: `ENFit` (ISO 80369-3), `USB-C`, `Bluetooth` — these are like \"USB 2.0\", everyone has them, they don't differentiate\n\n### EXCLUDE from searchable_standards:\n\n- **Generic technology standards** (not brand-differentiating):\n  - `USB-C`, `USB-A`, `Lightning` — generic connectors\n  - `Bluetooth`, `Bluetooth 5.3`, `WiFi`, `NFC` — everyone has these\n  - `MagSafe` — now too generic for phone accessories\n\n- **Brand-specific technologies** (→ put in sub_brands instead):\n  - `OMNI-HEAT` — Columbia trademark → sub_brands\n  - `TrueFX` — Mattel trademark → sub_brands\n  - `QuietComfort` — Bose trademark → sub_brands\n  - `Cocoon® Cloud®` — brand trademark → sub_brands\n  - `VoiceAware` — JBL trademark → sub_brands\n\n- **Eco-certifications** (nobody searches these on Amazon):\n  - `STANDARD 100 by OEKO-TEX`, `GOTS certified`, `USDA organic`, `Energy Star`\n\n- **Marketing phrases**:\n  - `Adapti-Flex Color Lock Technology™` — nobody searches this\n  - `Military-Grade` — vague marketing term\n\n- **Technical specs**:\n  - `DWR technology`, `IPX4`, `CP65`, `RoHS`, `REACH` — too technical\n\n### Decision Framework:\n| Question | YES → | NO → |\n|----------|-------|------|\n| Is this used by MULTIPLE brands? | Continue | → sub_brands (if brand-specific) |\n| Would shoppers search WITHOUT brand name? | INCLUDE | EXCLUDE |\n\n### Examples:\n| Term | Category | Result |\n|------|----------|--------|\n| `Gore-Tex` | Licensed material, people search it | ✓ searchable_standards |\n| `Dolby Atmos` | Licensed audio tech, people search it | ✓ searchable_standards |\n| `ENFit` | ISO standard, universal in category | ✗ EXCLUDE |\n| `USB-C`, `Bluetooth` | Generic tech, everyone has it | ✗ EXCLUDE |\n| `MagSafe` | Too generic now | ✗ EXCLUDE |\n| `OMNI-HEAT` | Columbia trademark | → sub_brands |\n| `TrueFX` | Mattel trademark | → sub_brands |\n| `Cocoon® Cloud®` | Brand trademark | → sub_brands |\n| `Air Jordan` | Nike trademark | → sub_brands |\n| `OEKO-TEX` | Eco-cert, nobody searches | ✗ EXCLUDE |\n| `Military-Grade` | Marketing fluff | ✗ EXCLUDE |\n\n### When in doubt, return `[]`\nMost products have NO universal searchable standards. Empty array is the correct default.\n\n---\n\n## FIELD 3: manufacturer\n\nCompany that manufactures the product, **IF different from brand**.\n\n### RULE: manufacturer = brand → return `null`\n\nCompare input `manufacturer` to `brand_name` (case-insensitive):\n- `brand_name: \"JBL\"`, `manufacturer: \"JBL\"` → `null`\n- `brand_name: \"Cisily\"`, `manufacturer: \"Cisily\"` → `null`\n- `brand_name: \"Antarctic Star\"`, `manufacturer: \"Antarctic Star\"` → `null`\n- `brand_name: \"Jikasho\"`, `manufacturer: \"Jikasho\"` → `null`\n- `brand_name: \"REVLON\"`, `manufacturer: \"Revlon\"` → `null` (case-insensitive)\n- `brand_name: \"Truly Indian\"`, `manufacturer: \"Truly Indian Foods LLC\"` → `null` (contains brand)\n\n### RULE: Different manufacturer → return object\n\n```json\n{\n  \"name\": \"Full Manufacturer Name\",\n  \"short\": \"Short Name\",\n  \"searchable\": true/false\n}\n```\n\n### searchable = true:\nKnown company that consumers might search for:\n- `Hasbro` — major toy company\n- `BlenderBottle` — known bottle brand\n\n### searchable = false:\nOEM/unknown manufacturer that nobody searches for:\n- `Town & Country Living`\n- `Resolve Designs`\n\n---\n\n## Examples\n\n### Example 1: JBL Earbuds\n```\nbrand_name: \"JBL\"\nmanufacturer: \"JBL\"\ntitle: \"JBL Vibe Beam - True Wireless JBL Deep Bass Sound Earbuds\"\nbullet_points: \"...VoiceAware lets you balance how much of your own voice you hear...\"\n```\n\n**Analysis:**\n- `Vibe Beam` = sub-brand (named product family)\n- `VoiceAware` = NOT searchable (brand-specific, nobody searches \"VoiceAware earbuds\")\n- `Deep Bass Sound` = NOT searchable (marketing phrase)\n- manufacturer = brand → null\n\n```json\n{\n  \"sub_brands\": [\"Vibe Beam\"],\n  \"searchable_standards\": [],\n  \"manufacturer\": null\n}\n```\n\n### Example 2: Owala Bottle\n```\nbrand_name: \"Owala\"\nmanufacturer: \"BlenderBottle\"\ntitle: \"Owala FreeSip Insulated Stainless Steel Water Bottle\"\nbullet_points: \"Patented FreeSip spout...\"\n```\n\n**Analysis:**\n- `FreeSip` = sub-brand (patented, named product line)\n- No searchable standards\n- BlenderBottle ≠ Owala, known company → searchable: true\n\n```json\n{\n  \"sub_brands\": [\"FreeSip\"],\n  \"searchable_standards\": [],\n  \"manufacturer\": {\n    \"name\": \"BlenderBottle\",\n    \"short\": \"BlenderBottle\",\n    \"searchable\": true\n  }\n}\n```\n\n### Example 3: Revlon Eyeliner\n```\nbrand_name: \"REVLON\"\nmanufacturer: \"Revlon\"\ntitle: \"Revlon ColorStay Pencil Waterproof Eyeliner\"\ndescription: \"Formulated with ColorStay Adapti-Flex Color Lock Technology™\"\n```\n\n**Analysis:**\n- `ColorStay` = sub-brand (Revlon product line)\n- `Adapti-Flex Color Lock Technology™` = NOT searchable (nobody searches this)\n- manufacturer = brand (case-insensitive) → null\n\n```json\n{\n  \"sub_brands\": [\"ColorStay\"],\n  \"searchable_standards\": [],\n  \"manufacturer\": null\n}\n```\n\n### Example 4: KitchenAid Mitt (OEM)\n```\nbrand_name: \"KitchenAid\"\nmanufacturer: \"Town & Country Living\"\ntitle: \"KITCHENAID Ribbed Soft Silicone Oven Mitt\"\n```\n\n**Analysis:**\n- No named sub-brand\n- No searchable standards\n- Town & Country Living = OEM, nobody searches this\n\n```json\n{\n  \"sub_brands\": [],\n  \"searchable_standards\": [],\n  \"manufacturer\": {\n    \"name\": \"Town & Country Living\",\n    \"short\": \"Town & Country\",\n    \"searchable\": false\n  }\n}\n```\n\n### Example 5: Transformers Toy\n```\nbrand_name: \"Transformers\"\nmanufacturer: \"Hasbro\"\ntitle: \"Transformers Toys Heroic Optimus Prime Action Figure\"\nbullet_points: \"...Cyber Commander Series figure...\"\n```\n\n**Analysis:**\n- `Cyber Commander Series` = sub-brand (named series)\n- No searchable standards\n- Hasbro = major toy company, very searchable\n\n```json\n{\n  \"sub_brands\": [\"Cyber Commander Series\"],\n  \"searchable_standards\": [],\n  \"manufacturer\": {\n    \"name\": \"Hasbro\",\n    \"short\": \"Hasbro\",\n    \"searchable\": true\n  }\n}\n```\n\n### Example 6: Pioneer Camp Jacket\n```\nbrand_name: \"Pioneer Camp\"\nmanufacturer: null\ntitle: \"Pioneer Camp Mens Lightweight Packable Puffer Jacket\"\nbullet_points: \"...DWR technology with a waterproof rating...\"\n```\n\n**Analysis:**\n- No named sub-brand\n- `DWR technology` = NOT searchable (consumers search \"waterproof jacket\", not \"DWR jacket\")\n- No manufacturer provided\n\n```json\n{\n  \"sub_brands\": [],\n  \"searchable_standards\": [],\n  \"manufacturer\": null\n}\n```\n\n### Example 7: Medical Syringe with ENFit\n```\nbrand_name: \"Rx Crush\"\nmanufacturer: \"Vesco Medical\"\ntitle: \"ENFit® Syringe - 20ml - QTY 10\"\nbullet_points: \"ENFit\\nStandard ENFit Tip...\"\n```\n\n**Analysis:**\n- No named sub-brand\n- `ENFit` = ISO 80369-3 universal standard, NOT searchable (like USB-C, it's now universal for enteral syringes)\n- Vesco Medical ≠ Rx Crush, OEM → searchable: false\n\n```json\n{\n  \"sub_brands\": [],\n  \"searchable_standards\": [],\n  \"manufacturer\": {\n    \"name\": \"Vesco Medical\",\n    \"short\": \"Vesco\",\n    \"searchable\": false\n  }\n}\n```\n\n---\n\n## PRE-OUTPUT VALIDATION CHECKLIST\n\nBefore outputting, verify:\n\n□ **manufacturer**: Did you check if manufacturer = brand_name (case-insensitive)?\n  - If they match or one contains the other → MUST return `null`\n\n□ **searchable_standards**: For each item, ask: \"Would a shopper type this in Amazon search?\"\n  - If NO or UNLIKELY → remove it\n  - When in doubt → return `[]`\n\n□ **sub_brands**: Only named product lines, NOT generic product types or features\n",
  "timestamp": "2026-01-25T01:53:15.292215",
  "final_score": 0.20000000000000004,
  "initial_score": 0.20000000000000004,
  "improvement": 0.0
}