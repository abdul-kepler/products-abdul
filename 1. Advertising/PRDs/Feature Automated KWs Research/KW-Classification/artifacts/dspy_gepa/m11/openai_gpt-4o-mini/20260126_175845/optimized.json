{
  "module": "m11",
  "module_name": "IdentifyHardConstraints",
  "task_model": "openai/gpt-4o-mini",
  "reflection_model": "openai/gpt-4o",
  "judge_model": "gpt-4o",
  "budget": 100,
  "train_size": 1,
  "val_size": 9,
  "initial_prompt_length": 10572,
  "optimized_prompt_length": 10572,
  "optimized_prompt": "# Module 11 (V1.1): Identify Hard Constraints\n\n## Purpose\n\nDetermine which product attributes are non-negotiable for the product to function.\n\n## The Hard Constraint Test\n\nFor each attribute, apply this three-step test:\n\n### Step 1: The \"Complete Removal\" Test\n\n> **\"If this attribute were COMPLETELY ABSENT (not different value, but GONE), would the product be PHYSICALLY UNABLE to perform its core function?\"**\n\nExamples:\n- Oven Mitt without ANY heat resistance → Burns hands → YES, fails test → HARD CONSTRAINT\n- Earbuds without ANY Bluetooth → No wireless audio → But wired audio still works → NOT about version\n- Earbuds without Bluetooth 5.2 (but has 4.0) → Still transmits audio → NO, not hard constraint\n\n### Step 2: The \"Mechanism vs Quality\" Filter\n\n> **\"Is this attribute THE MECHANISM that enables the function, or a QUALITY MODIFIER of the mechanism?\"**\n\n| Type | Example | Hard Constraint? |\n|------|---------|------------------|\n| MECHANISM | Heat resistance enables protection | Could be YES |\n| QUALITY | 500F rating (how much protection) | NO |\n| MECHANISM | Speaker drivers enable audio | Could be YES |\n| QUALITY | Deep Bass (frequency emphasis) | NO |\n| QUALITY | Bluetooth 5.2 (version level) | NO |\n\n### Step 3: The \"Validated Use\" Alignment\n\n> **\"Does the Validated Use REQUIRE this specific attribute, or just require the product category to exist?\"**\n\n| Validated Use | Attribute | Required? | Reasoning |\n|---------------|-----------|-----------|-----------|\n| \"Heat protection when cooking\" | Heat Resistant | YES | Protection = heat resistance |\n| \"Listening to audio\" | Deep Bass | NO | Listening does not require bass |\n| \"Drawing lines around eyes\" | Waterproof | NO | Drawing does not require waterproof |\n| \"Protecting phone from damage\" | iPhone 15 Fit | YES | Protection requires physical fit |\n\n---\n\n## STOP: These are NEVER Hard Constraints\n\nBefore marking ANY attribute as hard constraint, check these categories:\n\n### 1. Technology Versions (NEVER)\nThe VERSION of a technology is quality, not existence:\n- Bluetooth 5.2 - NO, Bluetooth 4.0 still plays audio\n- WiFi 6 - NO, WiFi 5 still connects\n- USB 3.0 - NO, USB 2.0 still transfers data\n\n### 2. Durability/Longevity Features (NEVER)\nFeatures that make product LAST LONGER don't enable function:\n- Waterproof - NO, Product works when dry\n- Rustproof - NO, Product works before it rusts\n- Smudge-proof - NO, Product works even if it smudges later\n- Long-lasting - NO, Product works even if short-lived\n\n### 3. Performance Specs (NEVER)\nQuantitative specs are quality levels:\n- 32-hour battery - NO, 8-hour battery still plays audio\n- 26lbs/day ice - NO, 10lbs/day still makes ice\n- 24-hour wear - NO, 4-hour wear still draws lines\n\n### 4. Marketing Differentiators (NEVER)\nFeatures highlighted to differentiate from competitors:\n- Deep Bass Sound - NO, Regular sound is still audio\n- Self-Cleaning - NO, Manual cleaning works\n- Speed Charging - NO, Regular charging works\n- VoiceAware - NO, Calls work without it\n\n### 5. Material Choices (NEVER)\nAlternative materials perform same function:\n- Stainless Steel bottle - NO, Plastic holds water too\n- Silicone oven mitt - NO, Cotton protects from heat too\n- Bamboo tray - NO, Plastic serves food too\n- 304 Stainless Steel - NO, Regular steel organizes items too\n- Bamboo organizer - NO, Plastic organizes too\n\n### 6. Product-Defining Mechanisms (NEVER)\nThe mechanism that DEFINES what the product IS cannot be a constraint - it's just saying \"this product must be this product\":\n- Ice Maker needs \"ice making mechanism\" - NO, Tautology: \"ice maker makes ice\"\n- Phone Holder needs \"holding mechanism\" - NO, Tautology: \"holder holds things\"\n- Suction mount needs \"suction\" - NO, That's what makes it a suction mount\n- Magnetic holder needs \"magnets\" - NO, That's what makes it magnetic\n\nThe question is: What EXTRA attributes beyond \"being this product type\" are required?\n\n### 7. Convenience/Usability Features (NEVER)\nFeatures that make product easier to use but don't enable core function:\n- Handles on tray - NO, Can carry tray without handles\n- Built-in sharpener - NO, Can sharpen pencil separately\n- Foldable design - NO, Non-foldable still works\n- 360 degree swivel - NO, Fixed angle still holds phone\n\n### 8. Size/Dimensions (Almost NEVER)\nSize is usually a preference, not a requirement:\n- 15x10 inch tray - NO, 12x8 still serves food\n- 32oz bottle - NO, 16oz still hydrates\n- 11-inch figure - NO, 6-inch still plays\n\nException: Device compatibility (e.g., iPhone 15 case MUST fit iPhone 15)\n\n---\n\n## Input\n\n**Product Title:** {{title}}\n\n**Bullet Points:**\n{{bullet_points}}\n\n**Description:**\n{{description}}\n\n**Validated Intended Use:** {{validated_use}}\n\n**Product Type Taxonomy:**\n{{taxonomy}}\n\n**Attributes:**\n{{attribute_table}}\n\n**Product Attributes:**\n{{product_attributes}}\n\n---\n\n## Worked Examples\n\n### Example A: True Wireless Earbuds\n**Validated Use:** \"Listening to audio\"\n\n| Attribute | Step 1: Remove entirely? | Step 2: Mechanism or Quality? | Step 3: Use requires it? | HARD? |\n|-----------|-------------------------|-------------------------------|-------------------------|-------|\n| Bluetooth 5.2 | Still has Bluetooth capability | QUALITY (version) | \"Listening\" works with any BT | NO |\n| Deep Bass | Still produces sound | QUALITY (frequency) | \"Listening\" = any audio | NO |\n| 32hr Battery | Still plays audio | QUALITY (duration) | \"Listening\" works with less | NO |\n| Water Resistant | Still plays audio | DURABILITY feature | \"Listening\" does not need waterproof | NO |\n\n**Result: 0 hard constraints**\n\n**Key insight:** \"Listening to audio\" requires speakers that produce sound. Everything else (bass quality, battery length, water resistance) improves experience but doesn't enable the core function.\n\n---\n\n### Example B: iPhone 15 Pro Case\n**Validated Use:** \"Protecting phone from damage\"\n\n| Attribute | Step 1: Remove entirely? | Step 2: Mechanism or Quality? | HARD? |\n|-----------|-------------------------|-------------------------------|-------|\n| iPhone 15 Pro Fit | Case doesn't attach | MECHANISM (fit enables protection) | YES |\n| Silicone Material | Other materials protect | QUALITY choice | NO |\n| MagSafe | Case still protects | FEATURE addition | NO |\n| Black Color | Case still protects | AESTHETIC | NO |\n\n**Result: 1 hard constraint** (Device Compatibility)\n\n**Key insight:** iPhone 14 case physically CANNOT protect iPhone 15 - wrong dimensions. This is physical incompatibility.\n\n---\n\n### Example C: Oven Mitt\n**Validated Use:** \"Heat protection when cooking\"\n\n| Attribute | Step 1: Remove entirely? | Step 2: Mechanism or Quality? | HARD? |\n|-----------|-------------------------|-------------------------------|-------|\n| Heat Resistant | Burns hands = no protection | MECHANISM (enables protection) | YES |\n| 500F rating | 400F still protects | QUALITY (how much) | NO |\n| Silicone Material | Cotton also protects | MATERIAL choice | NO |\n| Slip-resistant | Still protects from heat | CONVENIENCE | NO |\n\n**Result: 1 hard constraint** (Essential Physical Property)\n\n**Key insight:** \"Heat protection\" literally requires heat resistance. Without it, you burn. The specific temperature rating is quality.\n\n---\n\n### Example D: Eyeliner Pencil\n**Validated Use:** \"Drawing lines around eyes\"\n\n| Attribute | Step 1: Remove entirely? | Step 2: Mechanism or Quality? | HARD? |\n|-----------|-------------------------|-------------------------------|-------|\n| Waterproof | Still draws lines | DURABILITY (lasts longer) | NO |\n| Smudge-proof | Still draws lines | DURABILITY (stays put) | NO |\n| 24-Hour Wear | Still draws lines | DURABILITY (longevity) | NO |\n| Built-in Sharpener | Still draws lines | CONVENIENCE | NO |\n\n**Result: 0 hard constraints**\n\n**Key insight:** \"Drawing lines around eyes\" = making visible marks. A basic pencil does this. Waterproof makes lines LAST longer, not EXIST.\n\n---\n\n### Example E: Water Bottle\n**Validated Use:** \"Carrying drinks for hydration\"\n\n| Attribute | Step 1: Remove entirely? | Step 2: Mechanism or Quality? | HARD? |\n|-----------|-------------------------|-------------------------------|-------|\n| Stainless Steel | Plastic holds liquid too | MATERIAL choice | NO |\n| 24oz Size | Any size holds liquid | QUALITY (capacity) | NO |\n| Insulated | Non-insulated holds liquid | FEATURE (temperature) | NO |\n| BPA-Free | Still holds liquid | SAFETY feature | NO |\n\n**Result: 0 hard constraints**\n\n---\n\n## Pre-Output Checklist\n\nBefore returning hard_constraints, verify EACH attribute passes ALL checks:\n\n- Would removing this attribute make the product PHYSICALLY UNABLE to perform?\n- Is this the MECHANISM of function (not quality/durability/convenience)?\n- Does the validated use REQUIRE this specific attribute?\n- Is this NOT a technology version, durability feature, performance spec, or marketing claim?\n- Is this NOT a material choice, product-defining mechanism, convenience feature, or size specification?\n- Would a reasonable person say \"this product is BROKEN\" without this attribute?\n\n**If ANY check fails - NOT a hard constraint**\n\n---\n\n## Expected Distribution\n\nMost consumer products have **0-1 hard constraints**:\n\n| Count | Product Types |\n|-------|---------------|\n| **0** | Water bottles, earbuds, trays, makeup, toys, organizers, ice makers, jackets, phone holders |\n| **1** | Phone cases (device fit), oven mitts (heat resistance), cables (connector type) |\n| **2+** | Extremely rare - only multi-compatibility products |\n\n**WARNING: If you identified 2+ hard constraints, review each one again using the checklist.**\n\n---\n\n## Output Format\n\nYou MUST use Chain of Thought reasoning. First, analyze each attribute step-by-step in the \"reasoning\" field, then provide your final answer as a simple list.\n\nReturn JSON with this structure:\n\n```json\n{\n  \"reasoning\": \"Step-by-step analysis...\",\n  \"hard_constraints\": [\"AttributeName\"]\n}\n```\n\nExample with 1 hard constraint (Oven Mitt):\n\n```json\n{\n  \"reasoning\": \"Analyzing Oven Mitt for 'Heat protection when cooking'. Heat Resistant: Remove entirely? YES - burns hands. MECHANISM. HARD CONSTRAINT. 500F rating: QUALITY. NOT hard. Silicone: MATERIAL choice. NOT hard. Conclusion: 1 hard constraint.\",\n  \"hard_constraints\": [\"Heat Resistance\"]\n}\n```\n\nExample with 0 hard constraints (Earbuds):\n\n```json\n{\n  \"reasoning\": \"Analyzing Earbuds for 'Listening to audio'. Bluetooth 5.2: VERSION - NOT hard. Deep Bass: QUALITY - NOT hard. 32hr Battery: PERFORMANCE SPEC - NOT hard. Water Resistant: DURABILITY - NOT hard. Conclusion: 0 hard constraints.\",\n  \"hard_constraints\": []\n}\n```\n",
  "timestamp": "2026-01-26T18:08:16.741901",
  "final_score": 0.4911111111111111,
  "initial_score": 0.4911111111111111,
  "improvement": 0.0
}